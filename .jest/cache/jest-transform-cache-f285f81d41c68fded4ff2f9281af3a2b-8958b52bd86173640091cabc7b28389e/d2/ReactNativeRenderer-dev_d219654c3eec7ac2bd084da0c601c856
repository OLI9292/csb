ad55feec8bddba0129c2fab99c9af3b9


'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

if (__DEV__) {
  (function () {
    "use strict";

    require("InitializeCore");
    var invariant = require("fbjs/lib/invariant");
    var warning = require("fbjs/lib/warning");
    var emptyFunction = require("fbjs/lib/emptyFunction");
    var UIManager = require("UIManager");
    var RCTEventEmitter = require("RCTEventEmitter");
    var TextInputState = require("TextInputState");
    var deepDiffer = require("deepDiffer");
    var flattenStyle = require("flattenStyle");
    var React = require("react");
    var emptyObject = require("fbjs/lib/emptyObject");
    var shallowEqual = require("fbjs/lib/shallowEqual");
    var ExceptionsManager = require("ExceptionsManager");
    var checkPropTypes = require("prop-types/checkPropTypes");
    var deepFreezeAndThrowOnMutationInDev = require("deepFreezeAndThrowOnMutationInDev");

    var invokeGuardedCallback = function invokeGuardedCallback(name, func, context, a, b, c, d, e, f) {
      this._hasCaughtError = false;
      this._caughtError = null;
      var funcArgs = Array.prototype.slice.call(arguments, 3);
      try {
        func.apply(context, funcArgs);
      } catch (error) {
        this._caughtError = error;
        this._hasCaughtError = true;
      }
    };

    {
      if (typeof window !== "undefined" && typeof window.dispatchEvent === "function" && typeof document !== "undefined" && typeof document.createEvent === "function") {
        var fakeNode = document.createElement("react");

        var invokeGuardedCallbackDev = function invokeGuardedCallbackDev(name, func, context, a, b, c, d, e, f) {
          invariant(typeof document !== "undefined", "The `document` global was defined when React was initialized, but is not " + "defined anymore. This can happen in a test environment if a component " + "schedules an update from an asynchronous callback, but the test has already " + "finished running. To solve this, you can either unmount the component at " + "the end of your test (and ensure that any asynchronous operations get " + "canceled in `componentWillUnmount`), or you can change the test itself " + "to be asynchronous.");
          var evt = document.createEvent("Event");

          var didError = true;

          var funcArgs = Array.prototype.slice.call(arguments, 3);
          function callCallback() {
            fakeNode.removeEventListener(evtType, callCallback, false);
            func.apply(context, funcArgs);
            didError = false;
          }

          var error = void 0;

          var didSetError = false;
          var isCrossOriginError = false;

          function onError(event) {
            error = event.error;
            didSetError = true;
            if (error === null && event.colno === 0 && event.lineno === 0) {
              isCrossOriginError = true;
            }
          }

          var evtType = "react-" + (name ? name : "invokeguardedcallback");

          window.addEventListener("error", onError);
          fakeNode.addEventListener(evtType, callCallback, false);

          evt.initEvent(evtType, false, false);
          fakeNode.dispatchEvent(evt);

          if (didError) {
            if (!didSetError) {
              error = new Error("An error was thrown inside one of your components, but React " + "doesn't know what it was. This is likely due to browser " + 'flakiness. React does its best to preserve the "Pause on ' + 'exceptions" behavior of the DevTools, which requires some ' + "DEV-mode only tricks. It's possible that these don't work in " + "your browser. Try triggering the error in production mode, " + "or switching to a modern browser. If you suspect that this is " + "actually an issue with React, please file an issue.");
            } else if (isCrossOriginError) {
              error = new Error("A cross-origin error was thrown. React doesn't have access to " + "the actual error object in development. " + "See https://fb.me/react-crossorigin-error for more information.");
            }
            this._hasCaughtError = true;
            this._caughtError = error;
          } else {
            this._hasCaughtError = false;
            this._caughtError = null;
          }

          window.removeEventListener("error", onError);
        };

        invokeGuardedCallback = invokeGuardedCallbackDev;
      }
    }

    var invokeGuardedCallback$1 = invokeGuardedCallback;

    var ReactErrorUtils = {
      _caughtError: null,
      _hasCaughtError: false,

      _rethrowError: null,
      _hasRethrowError: false,

      invokeGuardedCallback: function invokeGuardedCallback(name, func, context, a, b, c, d, e, f) {
        invokeGuardedCallback$1.apply(ReactErrorUtils, arguments);
      },

      invokeGuardedCallbackAndCatchFirstError: function invokeGuardedCallbackAndCatchFirstError(name, func, context, a, b, c, d, e, f) {
        ReactErrorUtils.invokeGuardedCallback.apply(this, arguments);
        if (ReactErrorUtils.hasCaughtError()) {
          var error = ReactErrorUtils.clearCaughtError();
          if (!ReactErrorUtils._hasRethrowError) {
            ReactErrorUtils._hasRethrowError = true;
            ReactErrorUtils._rethrowError = error;
          }
        }
      },

      rethrowCaughtError: function rethrowCaughtError() {
        return _rethrowCaughtError.apply(ReactErrorUtils, arguments);
      },

      hasCaughtError: function hasCaughtError() {
        return ReactErrorUtils._hasCaughtError;
      },

      clearCaughtError: function clearCaughtError() {
        if (ReactErrorUtils._hasCaughtError) {
          var error = ReactErrorUtils._caughtError;
          ReactErrorUtils._caughtError = null;
          ReactErrorUtils._hasCaughtError = false;
          return error;
        } else {
          invariant(false, "clearCaughtError was called but no error was captured. This error " + "is likely caused by a bug in React. Please file an issue.");
        }
      }
    };

    var _rethrowCaughtError = function _rethrowCaughtError() {
      if (ReactErrorUtils._hasRethrowError) {
        var error = ReactErrorUtils._rethrowError;
        ReactErrorUtils._rethrowError = null;
        ReactErrorUtils._hasRethrowError = false;
        throw error;
      }
    };

    var eventPluginOrder = null;

    var namesToPlugins = {};

    function recomputePluginOrdering() {
      if (!eventPluginOrder) {
        return;
      }
      for (var pluginName in namesToPlugins) {
        var pluginModule = namesToPlugins[pluginName];
        var pluginIndex = eventPluginOrder.indexOf(pluginName);
        invariant(pluginIndex > -1, "EventPluginRegistry: Cannot inject event plugins that do not exist in " + "the plugin ordering, `%s`.", pluginName);
        if (plugins[pluginIndex]) {
          continue;
        }
        invariant(pluginModule.extractEvents, "EventPluginRegistry: Event plugins must implement an `extractEvents` " + "method, but `%s` does not.", pluginName);
        plugins[pluginIndex] = pluginModule;
        var publishedEvents = pluginModule.eventTypes;
        for (var eventName in publishedEvents) {
          invariant(publishEventForPlugin(publishedEvents[eventName], pluginModule, eventName), "EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.", eventName, pluginName);
        }
      }
    }

    function publishEventForPlugin(dispatchConfig, pluginModule, eventName) {
      invariant(!eventNameDispatchConfigs.hasOwnProperty(eventName), "EventPluginHub: More than one plugin attempted to publish the same " + "event name, `%s`.", eventName);
      eventNameDispatchConfigs[eventName] = dispatchConfig;

      var phasedRegistrationNames = dispatchConfig.phasedRegistrationNames;
      if (phasedRegistrationNames) {
        for (var phaseName in phasedRegistrationNames) {
          if (phasedRegistrationNames.hasOwnProperty(phaseName)) {
            var phasedRegistrationName = phasedRegistrationNames[phaseName];
            publishRegistrationName(phasedRegistrationName, pluginModule, eventName);
          }
        }
        return true;
      } else if (dispatchConfig.registrationName) {
        publishRegistrationName(dispatchConfig.registrationName, pluginModule, eventName);
        return true;
      }
      return false;
    }

    function publishRegistrationName(registrationName, pluginModule, eventName) {
      invariant(!registrationNameModules[registrationName], "EventPluginHub: More than one plugin attempted to publish the same " + "registration name, `%s`.", registrationName);
      registrationNameModules[registrationName] = pluginModule;
      registrationNameDependencies[registrationName] = pluginModule.eventTypes[eventName].dependencies;

      {
        var lowerCasedName = registrationName.toLowerCase();
      }
    }

    var plugins = [];

    var eventNameDispatchConfigs = {};

    var registrationNameModules = {};

    var registrationNameDependencies = {};

    function injectEventPluginOrder(injectedEventPluginOrder) {
      invariant(!eventPluginOrder, "EventPluginRegistry: Cannot inject event plugin ordering more than " + "once. You are likely trying to load more than one copy of React.");

      eventPluginOrder = Array.prototype.slice.call(injectedEventPluginOrder);
      recomputePluginOrdering();
    }

    function injectEventPluginsByName(injectedNamesToPlugins) {
      var isOrderingDirty = false;
      for (var pluginName in injectedNamesToPlugins) {
        if (!injectedNamesToPlugins.hasOwnProperty(pluginName)) {
          continue;
        }
        var pluginModule = injectedNamesToPlugins[pluginName];
        if (!namesToPlugins.hasOwnProperty(pluginName) || namesToPlugins[pluginName] !== pluginModule) {
          invariant(!namesToPlugins[pluginName], "EventPluginRegistry: Cannot inject two different event plugins " + "using the same name, `%s`.", pluginName);
          namesToPlugins[pluginName] = pluginModule;
          isOrderingDirty = true;
        }
      }
      if (isOrderingDirty) {
        recomputePluginOrdering();
      }
    }

    var getFiberCurrentPropsFromNode = null;
    var getInstanceFromNode = null;
    var getNodeFromInstance = null;

    var injection$1 = {
      injectComponentTree: function injectComponentTree(Injected) {
        getFiberCurrentPropsFromNode = Injected.getFiberCurrentPropsFromNode;
        getInstanceFromNode = Injected.getInstanceFromNode;
        getNodeFromInstance = Injected.getNodeFromInstance;

        {
          !(getNodeFromInstance && getInstanceFromNode) ? warning(false, "EventPluginUtils.injection.injectComponentTree(...): Injected " + "module is missing getNodeFromInstance or getInstanceFromNode.") : void 0;
        }
      }
    };

    function isEndish(topLevelType) {
      return topLevelType === "topMouseUp" || topLevelType === "topTouchEnd" || topLevelType === "topTouchCancel";
    }

    function isMoveish(topLevelType) {
      return topLevelType === "topMouseMove" || topLevelType === "topTouchMove";
    }
    function isStartish(topLevelType) {
      return topLevelType === "topMouseDown" || topLevelType === "topTouchStart";
    }

    var validateEventDispatches = void 0;
    {
      validateEventDispatches = function validateEventDispatches(event) {
        var dispatchListeners = event._dispatchListeners;
        var dispatchInstances = event._dispatchInstances;

        var listenersIsArr = Array.isArray(dispatchListeners);
        var listenersLen = listenersIsArr ? dispatchListeners.length : dispatchListeners ? 1 : 0;

        var instancesIsArr = Array.isArray(dispatchInstances);
        var instancesLen = instancesIsArr ? dispatchInstances.length : dispatchInstances ? 1 : 0;

        !(instancesIsArr === listenersIsArr && instancesLen === listenersLen) ? warning(false, "EventPluginUtils: Invalid `event`.") : void 0;
      };
    }

    function executeDispatch(event, simulated, listener, inst) {
      var type = event.type || "unknown-event";
      event.currentTarget = getNodeFromInstance(inst);
      ReactErrorUtils.invokeGuardedCallbackAndCatchFirstError(type, listener, undefined, event);
      event.currentTarget = null;
    }

    function executeDispatchesInOrder(event, simulated) {
      var dispatchListeners = event._dispatchListeners;
      var dispatchInstances = event._dispatchInstances;
      {
        validateEventDispatches(event);
      }
      if (Array.isArray(dispatchListeners)) {
        for (var i = 0; i < dispatchListeners.length; i++) {
          if (event.isPropagationStopped()) {
            break;
          }

          executeDispatch(event, simulated, dispatchListeners[i], dispatchInstances[i]);
        }
      } else if (dispatchListeners) {
        executeDispatch(event, simulated, dispatchListeners, dispatchInstances);
      }
      event._dispatchListeners = null;
      event._dispatchInstances = null;
    }

    function executeDispatchesInOrderStopAtTrueImpl(event) {
      var dispatchListeners = event._dispatchListeners;
      var dispatchInstances = event._dispatchInstances;
      {
        validateEventDispatches(event);
      }
      if (Array.isArray(dispatchListeners)) {
        for (var i = 0; i < dispatchListeners.length; i++) {
          if (event.isPropagationStopped()) {
            break;
          }

          if (dispatchListeners[i](event, dispatchInstances[i])) {
            return dispatchInstances[i];
          }
        }
      } else if (dispatchListeners) {
        if (dispatchListeners(event, dispatchInstances)) {
          return dispatchInstances;
        }
      }
      return null;
    }

    function executeDispatchesInOrderStopAtTrue(event) {
      var ret = executeDispatchesInOrderStopAtTrueImpl(event);
      event._dispatchInstances = null;
      event._dispatchListeners = null;
      return ret;
    }

    function executeDirectDispatch(event) {
      {
        validateEventDispatches(event);
      }
      var dispatchListener = event._dispatchListeners;
      var dispatchInstance = event._dispatchInstances;
      invariant(!Array.isArray(dispatchListener), "executeDirectDispatch(...): Invalid `event`.");
      event.currentTarget = dispatchListener ? getNodeFromInstance(dispatchInstance) : null;
      var res = dispatchListener ? dispatchListener(event) : null;
      event.currentTarget = null;
      event._dispatchListeners = null;
      event._dispatchInstances = null;
      return res;
    }

    function hasDispatches(event) {
      return !!event._dispatchListeners;
    }

    function accumulateInto(current, next) {
      invariant(next != null, "accumulateInto(...): Accumulated items must not be null or undefined.");

      if (current == null) {
        return next;
      }

      if (Array.isArray(current)) {
        if (Array.isArray(next)) {
          current.push.apply(current, next);
          return current;
        }
        current.push(next);
        return current;
      }

      if (Array.isArray(next)) {
        return [current].concat(next);
      }

      return [current, next];
    }

    function forEachAccumulated(arr, cb, scope) {
      if (Array.isArray(arr)) {
        arr.forEach(cb, scope);
      } else if (arr) {
        cb.call(scope, arr);
      }
    }

    var eventQueue = null;

    var executeDispatchesAndRelease = function executeDispatchesAndRelease(event, simulated) {
      if (event) {
        executeDispatchesInOrder(event, simulated);

        if (!event.isPersistent()) {
          event.constructor.release(event);
        }
      }
    };
    var executeDispatchesAndReleaseSimulated = function executeDispatchesAndReleaseSimulated(e) {
      return executeDispatchesAndRelease(e, true);
    };
    var executeDispatchesAndReleaseTopLevel = function executeDispatchesAndReleaseTopLevel(e) {
      return executeDispatchesAndRelease(e, false);
    };

    function isInteractive(tag) {
      return tag === "button" || tag === "input" || tag === "select" || tag === "textarea";
    }

    function shouldPreventMouseEvent(name, type, props) {
      switch (name) {
        case "onClick":
        case "onClickCapture":
        case "onDoubleClick":
        case "onDoubleClickCapture":
        case "onMouseDown":
        case "onMouseDownCapture":
        case "onMouseMove":
        case "onMouseMoveCapture":
        case "onMouseUp":
        case "onMouseUpCapture":
          return !!(props.disabled && isInteractive(type));
        default:
          return false;
      }
    }

    var injection = {
      injectEventPluginOrder: injectEventPluginOrder,

      injectEventPluginsByName: injectEventPluginsByName
    };

    function getListener(inst, registrationName) {
      var listener = void 0;

      var stateNode = inst.stateNode;
      if (!stateNode) {
        return null;
      }
      var props = getFiberCurrentPropsFromNode(stateNode);
      if (!props) {
        return null;
      }
      listener = props[registrationName];
      if (shouldPreventMouseEvent(registrationName, inst.type, props)) {
        return null;
      }
      invariant(!listener || typeof listener === "function", "Expected `%s` listener to be a function, instead got a value of `%s` type.", registrationName, typeof listener);
      return listener;
    }

    function extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
      var events = null;
      for (var i = 0; i < plugins.length; i++) {
        var possiblePlugin = plugins[i];
        if (possiblePlugin) {
          var extractedEvents = possiblePlugin.extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget);
          if (extractedEvents) {
            events = accumulateInto(events, extractedEvents);
          }
        }
      }
      return events;
    }

    function runEventsInBatch(events, simulated) {
      if (events !== null) {
        eventQueue = accumulateInto(eventQueue, events);
      }

      var processingEventQueue = eventQueue;
      eventQueue = null;

      if (!processingEventQueue) {
        return;
      }

      if (simulated) {
        forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseSimulated);
      } else {
        forEachAccumulated(processingEventQueue, executeDispatchesAndReleaseTopLevel);
      }
      invariant(!eventQueue, "processEventQueue(): Additional events were enqueued while processing " + "an event queue. Support for this has not yet been implemented.");

      ReactErrorUtils.rethrowCaughtError();
    }

    function runExtractedEventsInBatch(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
      var events = extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget);
      runEventsInBatch(events, false);
    }

    var IndeterminateComponent = 0;
    var FunctionalComponent = 1;
    var ClassComponent = 2;
    var HostRoot = 3;
    var HostPortal = 4;
    var HostComponent = 5;
    var HostText = 6;
    var CallComponent = 7;
    var CallHandlerPhase = 8;
    var ReturnComponent = 9;
    var Fragment = 10;
    var Mode = 11;
    var ContextConsumer = 12;
    var ContextProvider = 13;
    var ForwardRef = 14;

    function getParent(inst) {
      do {
        inst = inst["return"];
      } while (inst && inst.tag !== HostComponent);
      if (inst) {
        return inst;
      }
      return null;
    }

    function getLowestCommonAncestor(instA, instB) {
      var depthA = 0;
      for (var tempA = instA; tempA; tempA = getParent(tempA)) {
        depthA++;
      }
      var depthB = 0;
      for (var tempB = instB; tempB; tempB = getParent(tempB)) {
        depthB++;
      }

      while (depthA - depthB > 0) {
        instA = getParent(instA);
        depthA--;
      }

      while (depthB - depthA > 0) {
        instB = getParent(instB);
        depthB--;
      }

      var depth = depthA;
      while (depth--) {
        if (instA === instB || instA === instB.alternate) {
          return instA;
        }
        instA = getParent(instA);
        instB = getParent(instB);
      }
      return null;
    }

    function isAncestor(instA, instB) {
      while (instB) {
        if (instA === instB || instA === instB.alternate) {
          return true;
        }
        instB = getParent(instB);
      }
      return false;
    }

    function getParentInstance(inst) {
      return getParent(inst);
    }

    function traverseTwoPhase(inst, fn, arg) {
      var path = [];
      while (inst) {
        path.push(inst);
        inst = getParent(inst);
      }
      var i = void 0;
      for (i = path.length; i-- > 0;) {
        fn(path[i], "captured", arg);
      }
      for (i = 0; i < path.length; i++) {
        fn(path[i], "bubbled", arg);
      }
    }

    function listenerAtPhase(inst, event, propagationPhase) {
      var registrationName = event.dispatchConfig.phasedRegistrationNames[propagationPhase];
      return getListener(inst, registrationName);
    }

    function accumulateDirectionalDispatches(inst, phase, event) {
      {
        !inst ? warning(false, "Dispatching inst must not be null") : void 0;
      }
      var listener = listenerAtPhase(inst, event, phase);
      if (listener) {
        event._dispatchListeners = accumulateInto(event._dispatchListeners, listener);
        event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);
      }
    }

    function accumulateTwoPhaseDispatchesSingle(event) {
      if (event && event.dispatchConfig.phasedRegistrationNames) {
        traverseTwoPhase(event._targetInst, accumulateDirectionalDispatches, event);
      }
    }

    function accumulateTwoPhaseDispatchesSingleSkipTarget(event) {
      if (event && event.dispatchConfig.phasedRegistrationNames) {
        var targetInst = event._targetInst;
        var parentInst = targetInst ? getParentInstance(targetInst) : null;
        traverseTwoPhase(parentInst, accumulateDirectionalDispatches, event);
      }
    }

    function accumulateDispatches(inst, ignoredDirection, event) {
      if (inst && event && event.dispatchConfig.registrationName) {
        var registrationName = event.dispatchConfig.registrationName;
        var listener = getListener(inst, registrationName);
        if (listener) {
          event._dispatchListeners = accumulateInto(event._dispatchListeners, listener);
          event._dispatchInstances = accumulateInto(event._dispatchInstances, inst);
        }
      }
    }

    function accumulateDirectDispatchesSingle(event) {
      if (event && event.dispatchConfig.registrationName) {
        accumulateDispatches(event._targetInst, null, event);
      }
    }

    function accumulateTwoPhaseDispatches(events) {
      forEachAccumulated(events, accumulateTwoPhaseDispatchesSingle);
    }

    function accumulateTwoPhaseDispatchesSkipTarget(events) {
      forEachAccumulated(events, accumulateTwoPhaseDispatchesSingleSkipTarget);
    }

    function accumulateDirectDispatches(events) {
      forEachAccumulated(events, accumulateDirectDispatchesSingle);
    }

    var didWarnForAddedNewProperty = false;
    var EVENT_POOL_SIZE = 10;

    var shouldBeReleasedProperties = ["dispatchConfig", "_targetInst", "nativeEvent", "isDefaultPrevented", "isPropagationStopped", "_dispatchListeners", "_dispatchInstances"];

    var EventInterface = {
      type: null,
      target: null,

      currentTarget: emptyFunction.thatReturnsNull,
      eventPhase: null,
      bubbles: null,
      cancelable: null,
      timeStamp: function timeStamp(event) {
        return event.timeStamp || Date.now();
      },
      defaultPrevented: null,
      isTrusted: null
    };

    function SyntheticEvent(dispatchConfig, targetInst, nativeEvent, nativeEventTarget) {
      {
        delete this.nativeEvent;
        delete this.preventDefault;
        delete this.stopPropagation;
      }

      this.dispatchConfig = dispatchConfig;
      this._targetInst = targetInst;
      this.nativeEvent = nativeEvent;

      var Interface = this.constructor.Interface;
      for (var propName in Interface) {
        if (!Interface.hasOwnProperty(propName)) {
          continue;
        }
        {
          delete this[propName];
        }
        var normalize = Interface[propName];
        if (normalize) {
          this[propName] = normalize(nativeEvent);
        } else {
          if (propName === "target") {
            this.target = nativeEventTarget;
          } else {
            this[propName] = nativeEvent[propName];
          }
        }
      }

      var defaultPrevented = nativeEvent.defaultPrevented != null ? nativeEvent.defaultPrevented : nativeEvent.returnValue === false;
      if (defaultPrevented) {
        this.isDefaultPrevented = emptyFunction.thatReturnsTrue;
      } else {
        this.isDefaultPrevented = emptyFunction.thatReturnsFalse;
      }
      this.isPropagationStopped = emptyFunction.thatReturnsFalse;
      return this;
    }

    _extends(SyntheticEvent.prototype, {
      preventDefault: function preventDefault() {
        this.defaultPrevented = true;
        var event = this.nativeEvent;
        if (!event) {
          return;
        }

        if (event.preventDefault) {
          event.preventDefault();
        } else if (typeof event.returnValue !== "unknown") {
          event.returnValue = false;
        }
        this.isDefaultPrevented = emptyFunction.thatReturnsTrue;
      },

      stopPropagation: function stopPropagation() {
        var event = this.nativeEvent;
        if (!event) {
          return;
        }

        if (event.stopPropagation) {
          event.stopPropagation();
        } else if (typeof event.cancelBubble !== "unknown") {
          event.cancelBubble = true;
        }

        this.isPropagationStopped = emptyFunction.thatReturnsTrue;
      },

      persist: function persist() {
        this.isPersistent = emptyFunction.thatReturnsTrue;
      },

      isPersistent: emptyFunction.thatReturnsFalse,

      destructor: function destructor() {
        var Interface = this.constructor.Interface;
        for (var propName in Interface) {
          {
            Object.defineProperty(this, propName, getPooledWarningPropertyDefinition(propName, Interface[propName]));
          }
        }
        for (var i = 0; i < shouldBeReleasedProperties.length; i++) {
          this[shouldBeReleasedProperties[i]] = null;
        }
        {
          Object.defineProperty(this, "nativeEvent", getPooledWarningPropertyDefinition("nativeEvent", null));
          Object.defineProperty(this, "preventDefault", getPooledWarningPropertyDefinition("preventDefault", emptyFunction));
          Object.defineProperty(this, "stopPropagation", getPooledWarningPropertyDefinition("stopPropagation", emptyFunction));
        }
      }
    });

    SyntheticEvent.Interface = EventInterface;

    SyntheticEvent.extend = function (Interface) {
      var Super = this;

      var E = function E() {};
      E.prototype = Super.prototype;
      var prototype = new E();

      function Class() {
        return Super.apply(this, arguments);
      }
      _extends(prototype, Class.prototype);
      Class.prototype = prototype;
      Class.prototype.constructor = Class;

      Class.Interface = _extends({}, Super.Interface, Interface);
      Class.extend = Super.extend;
      addEventPoolingTo(Class);

      return Class;
    };

    {
      var isProxySupported = typeof Proxy === "function" && !Object.isSealed(new Proxy({}, {}));

      if (isProxySupported) {
        SyntheticEvent = new Proxy(SyntheticEvent, {
          construct: function construct(target, args) {
            return this.apply(target, Object.create(target.prototype), args);
          },
          apply: function apply(constructor, that, args) {
            return new Proxy(constructor.apply(that, args), {
              set: function set(target, prop, value) {
                if (prop !== "isPersistent" && !target.constructor.Interface.hasOwnProperty(prop) && shouldBeReleasedProperties.indexOf(prop) === -1) {
                  !(didWarnForAddedNewProperty || target.isPersistent()) ? warning(false, "This synthetic event is reused for performance reasons. If you're " + "seeing this, you're adding a new property in the synthetic event object. " + "The property is never released. See " + "https://fb.me/react-event-pooling for more information.") : void 0;
                  didWarnForAddedNewProperty = true;
                }
                target[prop] = value;
                return true;
              }
            });
          }
        });
      }
    }

    addEventPoolingTo(SyntheticEvent);

    function getPooledWarningPropertyDefinition(propName, getVal) {
      var isFunction = typeof getVal === "function";
      return {
        configurable: true,
        set: set,
        get: get
      };

      function set(val) {
        var action = isFunction ? "setting the method" : "setting the property";
        warn(action, "This is effectively a no-op");
        return val;
      }

      function get() {
        var action = isFunction ? "accessing the method" : "accessing the property";
        var result = isFunction ? "This is a no-op function" : "This is set to null";
        warn(action, result);
        return getVal;
      }

      function warn(action, result) {
        var warningCondition = false;
        !warningCondition ? warning(false, "This synthetic event is reused for performance reasons. If you're seeing this, " + "you're %s `%s` on a released/nullified synthetic event. %s. " + "If you must keep the original synthetic event around, use event.persist(). " + "See https://fb.me/react-event-pooling for more information.", action, propName, result) : void 0;
      }
    }

    function getPooledEvent(dispatchConfig, targetInst, nativeEvent, nativeInst) {
      var EventConstructor = this;
      if (EventConstructor.eventPool.length) {
        var instance = EventConstructor.eventPool.pop();
        EventConstructor.call(instance, dispatchConfig, targetInst, nativeEvent, nativeInst);
        return instance;
      }
      return new EventConstructor(dispatchConfig, targetInst, nativeEvent, nativeInst);
    }

    function releasePooledEvent(event) {
      var EventConstructor = this;
      invariant(event instanceof EventConstructor, "Trying to release an event instance  into a pool of a different type.");
      event.destructor();
      if (EventConstructor.eventPool.length < EVENT_POOL_SIZE) {
        EventConstructor.eventPool.push(event);
      }
    }

    function addEventPoolingTo(EventConstructor) {
      EventConstructor.eventPool = [];
      EventConstructor.getPooled = getPooledEvent;
      EventConstructor.release = releasePooledEvent;
    }

    var SyntheticEvent$1 = SyntheticEvent;

    var ResponderSyntheticEvent = SyntheticEvent$1.extend({
      touchHistory: function touchHistory(nativeEvent) {
        return null;
      }
    });

    var MAX_TOUCH_BANK = 20;
    var touchBank = [];
    var touchHistory = {
      touchBank: touchBank,
      numberActiveTouches: 0,

      indexOfSingleActiveTouch: -1,
      mostRecentTimeStamp: 0
    };

    function timestampForTouch(touch) {
      return touch.timeStamp || touch.timestamp;
    }

    function createTouchRecord(touch) {
      return {
        touchActive: true,
        startPageX: touch.pageX,
        startPageY: touch.pageY,
        startTimeStamp: timestampForTouch(touch),
        currentPageX: touch.pageX,
        currentPageY: touch.pageY,
        currentTimeStamp: timestampForTouch(touch),
        previousPageX: touch.pageX,
        previousPageY: touch.pageY,
        previousTimeStamp: timestampForTouch(touch)
      };
    }

    function resetTouchRecord(touchRecord, touch) {
      touchRecord.touchActive = true;
      touchRecord.startPageX = touch.pageX;
      touchRecord.startPageY = touch.pageY;
      touchRecord.startTimeStamp = timestampForTouch(touch);
      touchRecord.currentPageX = touch.pageX;
      touchRecord.currentPageY = touch.pageY;
      touchRecord.currentTimeStamp = timestampForTouch(touch);
      touchRecord.previousPageX = touch.pageX;
      touchRecord.previousPageY = touch.pageY;
      touchRecord.previousTimeStamp = timestampForTouch(touch);
    }

    function getTouchIdentifier(_ref) {
      var identifier = _ref.identifier;

      invariant(identifier != null, "Touch object is missing identifier.");
      {
        !(identifier <= MAX_TOUCH_BANK) ? warning(false, "Touch identifier %s is greater than maximum supported %s which causes " + "performance issues backfilling array locations for all of the indices.", identifier, MAX_TOUCH_BANK) : void 0;
      }
      return identifier;
    }

    function recordTouchStart(touch) {
      var identifier = getTouchIdentifier(touch);
      var touchRecord = touchBank[identifier];
      if (touchRecord) {
        resetTouchRecord(touchRecord, touch);
      } else {
        touchBank[identifier] = createTouchRecord(touch);
      }
      touchHistory.mostRecentTimeStamp = timestampForTouch(touch);
    }

    function recordTouchMove(touch) {
      var touchRecord = touchBank[getTouchIdentifier(touch)];
      if (touchRecord) {
        touchRecord.touchActive = true;
        touchRecord.previousPageX = touchRecord.currentPageX;
        touchRecord.previousPageY = touchRecord.currentPageY;
        touchRecord.previousTimeStamp = touchRecord.currentTimeStamp;
        touchRecord.currentPageX = touch.pageX;
        touchRecord.currentPageY = touch.pageY;
        touchRecord.currentTimeStamp = timestampForTouch(touch);
        touchHistory.mostRecentTimeStamp = timestampForTouch(touch);
      } else {
        console.error("Cannot record touch move without a touch start.\n" + "Touch Move: %s\n", "Touch Bank: %s", printTouch(touch), printTouchBank());
      }
    }

    function recordTouchEnd(touch) {
      var touchRecord = touchBank[getTouchIdentifier(touch)];
      if (touchRecord) {
        touchRecord.touchActive = false;
        touchRecord.previousPageX = touchRecord.currentPageX;
        touchRecord.previousPageY = touchRecord.currentPageY;
        touchRecord.previousTimeStamp = touchRecord.currentTimeStamp;
        touchRecord.currentPageX = touch.pageX;
        touchRecord.currentPageY = touch.pageY;
        touchRecord.currentTimeStamp = timestampForTouch(touch);
        touchHistory.mostRecentTimeStamp = timestampForTouch(touch);
      } else {
        console.error("Cannot record touch end without a touch start.\n" + "Touch End: %s\n", "Touch Bank: %s", printTouch(touch), printTouchBank());
      }
    }

    function printTouch(touch) {
      return JSON.stringify({
        identifier: touch.identifier,
        pageX: touch.pageX,
        pageY: touch.pageY,
        timestamp: timestampForTouch(touch)
      });
    }

    function printTouchBank() {
      var printed = JSON.stringify(touchBank.slice(0, MAX_TOUCH_BANK));
      if (touchBank.length > MAX_TOUCH_BANK) {
        printed += " (original size: " + touchBank.length + ")";
      }
      return printed;
    }

    var ResponderTouchHistoryStore = {
      recordTouchTrack: function recordTouchTrack(topLevelType, nativeEvent) {
        if (isMoveish(topLevelType)) {
          nativeEvent.changedTouches.forEach(recordTouchMove);
        } else if (isStartish(topLevelType)) {
          nativeEvent.changedTouches.forEach(recordTouchStart);
          touchHistory.numberActiveTouches = nativeEvent.touches.length;
          if (touchHistory.numberActiveTouches === 1) {
            touchHistory.indexOfSingleActiveTouch = nativeEvent.touches[0].identifier;
          }
        } else if (isEndish(topLevelType)) {
          nativeEvent.changedTouches.forEach(recordTouchEnd);
          touchHistory.numberActiveTouches = nativeEvent.touches.length;
          if (touchHistory.numberActiveTouches === 1) {
            for (var i = 0; i < touchBank.length; i++) {
              var touchTrackToCheck = touchBank[i];
              if (touchTrackToCheck != null && touchTrackToCheck.touchActive) {
                touchHistory.indexOfSingleActiveTouch = i;
                break;
              }
            }
            {
              var activeRecord = touchBank[touchHistory.indexOfSingleActiveTouch];
              !(activeRecord != null && activeRecord.touchActive) ? warning(false, "Cannot find single active touch.") : void 0;
            }
          }
        }
      },

      touchHistory: touchHistory
    };

    function accumulate(current, next) {
      invariant(next != null, "accumulate(...): Accumulated items must be not be null or undefined.");

      if (current == null) {
        return next;
      }

      if (Array.isArray(current)) {
        return current.concat(next);
      }

      if (Array.isArray(next)) {
        return [current].concat(next);
      }

      return [current, next];
    }

    var responderInst = null;

    var trackedTouchCount = 0;

    var previousActiveTouches = 0;

    var changeResponder = function changeResponder(nextResponderInst, blockHostResponder) {
      var oldResponderInst = responderInst;
      responderInst = nextResponderInst;
      if (ResponderEventPlugin.GlobalResponderHandler !== null) {
        ResponderEventPlugin.GlobalResponderHandler.onChange(oldResponderInst, nextResponderInst, blockHostResponder);
      }
    };

    var eventTypes = {
      startShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onStartShouldSetResponder",
          captured: "onStartShouldSetResponderCapture"
        }
      },

      scrollShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onScrollShouldSetResponder",
          captured: "onScrollShouldSetResponderCapture"
        }
      },

      selectionChangeShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onSelectionChangeShouldSetResponder",
          captured: "onSelectionChangeShouldSetResponderCapture"
        }
      },

      moveShouldSetResponder: {
        phasedRegistrationNames: {
          bubbled: "onMoveShouldSetResponder",
          captured: "onMoveShouldSetResponderCapture"
        }
      },

      responderStart: { registrationName: "onResponderStart" },
      responderMove: { registrationName: "onResponderMove" },
      responderEnd: { registrationName: "onResponderEnd" },
      responderRelease: { registrationName: "onResponderRelease" },
      responderTerminationRequest: {
        registrationName: "onResponderTerminationRequest"
      },
      responderGrant: { registrationName: "onResponderGrant" },
      responderReject: { registrationName: "onResponderReject" },
      responderTerminate: { registrationName: "onResponderTerminate" }
    };

    function setResponderAndExtractTransfer(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
      var shouldSetEventType = isStartish(topLevelType) ? eventTypes.startShouldSetResponder : isMoveish(topLevelType) ? eventTypes.moveShouldSetResponder : topLevelType === "topSelectionChange" ? eventTypes.selectionChangeShouldSetResponder : eventTypes.scrollShouldSetResponder;

      var bubbleShouldSetFrom = !responderInst ? targetInst : getLowestCommonAncestor(responderInst, targetInst);

      var skipOverBubbleShouldSetFrom = bubbleShouldSetFrom === responderInst;
      var shouldSetEvent = ResponderSyntheticEvent.getPooled(shouldSetEventType, bubbleShouldSetFrom, nativeEvent, nativeEventTarget);
      shouldSetEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
      if (skipOverBubbleShouldSetFrom) {
        accumulateTwoPhaseDispatchesSkipTarget(shouldSetEvent);
      } else {
        accumulateTwoPhaseDispatches(shouldSetEvent);
      }
      var wantsResponderInst = executeDispatchesInOrderStopAtTrue(shouldSetEvent);
      if (!shouldSetEvent.isPersistent()) {
        shouldSetEvent.constructor.release(shouldSetEvent);
      }

      if (!wantsResponderInst || wantsResponderInst === responderInst) {
        return null;
      }
      var extracted = void 0;
      var grantEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderGrant, wantsResponderInst, nativeEvent, nativeEventTarget);
      grantEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;

      accumulateDirectDispatches(grantEvent);
      var blockHostResponder = executeDirectDispatch(grantEvent) === true;
      if (responderInst) {
        var terminationRequestEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderTerminationRequest, responderInst, nativeEvent, nativeEventTarget);
        terminationRequestEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
        accumulateDirectDispatches(terminationRequestEvent);
        var shouldSwitch = !hasDispatches(terminationRequestEvent) || executeDirectDispatch(terminationRequestEvent);
        if (!terminationRequestEvent.isPersistent()) {
          terminationRequestEvent.constructor.release(terminationRequestEvent);
        }

        if (shouldSwitch) {
          var terminateEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderTerminate, responderInst, nativeEvent, nativeEventTarget);
          terminateEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(terminateEvent);
          extracted = accumulate(extracted, [grantEvent, terminateEvent]);
          changeResponder(wantsResponderInst, blockHostResponder);
        } else {
          var rejectEvent = ResponderSyntheticEvent.getPooled(eventTypes.responderReject, wantsResponderInst, nativeEvent, nativeEventTarget);
          rejectEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(rejectEvent);
          extracted = accumulate(extracted, rejectEvent);
        }
      } else {
        extracted = accumulate(extracted, grantEvent);
        changeResponder(wantsResponderInst, blockHostResponder);
      }
      return extracted;
    }

    function canTriggerTransfer(topLevelType, topLevelInst, nativeEvent) {
      return topLevelInst && (topLevelType === "topScroll" && !nativeEvent.responderIgnoreScroll || trackedTouchCount > 0 && topLevelType === "topSelectionChange" || isStartish(topLevelType) || isMoveish(topLevelType));
    }

    function noResponderTouches(nativeEvent) {
      var touches = nativeEvent.touches;
      if (!touches || touches.length === 0) {
        return true;
      }
      for (var i = 0; i < touches.length; i++) {
        var activeTouch = touches[i];
        var target = activeTouch.target;
        if (target !== null && target !== undefined && target !== 0) {
          var targetInst = getInstanceFromNode(target);
          if (isAncestor(responderInst, targetInst)) {
            return false;
          }
        }
      }
      return true;
    }

    var ResponderEventPlugin = {
      _getResponder: function _getResponder() {
        return responderInst;
      },

      eventTypes: eventTypes,

      extractEvents: function extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
        if (isStartish(topLevelType)) {
          trackedTouchCount += 1;
        } else if (isEndish(topLevelType)) {
          if (trackedTouchCount >= 0) {
            trackedTouchCount -= 1;
          } else {
            console.error("Ended a touch event which was not counted in `trackedTouchCount`.");
            return null;
          }
        }

        ResponderTouchHistoryStore.recordTouchTrack(topLevelType, nativeEvent);

        var extracted = canTriggerTransfer(topLevelType, targetInst, nativeEvent) ? setResponderAndExtractTransfer(topLevelType, targetInst, nativeEvent, nativeEventTarget) : null;

        var isResponderTouchStart = responderInst && isStartish(topLevelType);
        var isResponderTouchMove = responderInst && isMoveish(topLevelType);
        var isResponderTouchEnd = responderInst && isEndish(topLevelType);
        var incrementalTouch = isResponderTouchStart ? eventTypes.responderStart : isResponderTouchMove ? eventTypes.responderMove : isResponderTouchEnd ? eventTypes.responderEnd : null;

        if (incrementalTouch) {
          var gesture = ResponderSyntheticEvent.getPooled(incrementalTouch, responderInst, nativeEvent, nativeEventTarget);
          gesture.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(gesture);
          extracted = accumulate(extracted, gesture);
        }

        var isResponderTerminate = responderInst && topLevelType === "topTouchCancel";
        var isResponderRelease = responderInst && !isResponderTerminate && isEndish(topLevelType) && noResponderTouches(nativeEvent);
        var finalTouch = isResponderTerminate ? eventTypes.responderTerminate : isResponderRelease ? eventTypes.responderRelease : null;
        if (finalTouch) {
          var finalEvent = ResponderSyntheticEvent.getPooled(finalTouch, responderInst, nativeEvent, nativeEventTarget);
          finalEvent.touchHistory = ResponderTouchHistoryStore.touchHistory;
          accumulateDirectDispatches(finalEvent);
          extracted = accumulate(extracted, finalEvent);
          changeResponder(null);
        }

        var numberActiveTouches = ResponderTouchHistoryStore.touchHistory.numberActiveTouches;
        if (ResponderEventPlugin.GlobalInteractionHandler && numberActiveTouches !== previousActiveTouches) {
          ResponderEventPlugin.GlobalInteractionHandler.onChange(numberActiveTouches);
        }
        previousActiveTouches = numberActiveTouches;

        return extracted;
      },

      GlobalResponderHandler: null,
      GlobalInteractionHandler: null,

      injection: {
        injectGlobalResponderHandler: function injectGlobalResponderHandler(GlobalResponderHandler) {
          ResponderEventPlugin.GlobalResponderHandler = GlobalResponderHandler;
        },

        injectGlobalInteractionHandler: function injectGlobalInteractionHandler(GlobalInteractionHandler) {
          ResponderEventPlugin.GlobalInteractionHandler = GlobalInteractionHandler;
        }
      }
    };

    var customBubblingEventTypes = {};
    var customDirectEventTypes = {};

    var ReactNativeBridgeEventPlugin = {
      eventTypes: {},

      extractEvents: function extractEvents(topLevelType, targetInst, nativeEvent, nativeEventTarget) {
        if (targetInst == null) {
          return null;
        }
        var bubbleDispatchConfig = customBubblingEventTypes[topLevelType];
        var directDispatchConfig = customDirectEventTypes[topLevelType];
        invariant(bubbleDispatchConfig || directDispatchConfig, 'Unsupported top level event type "%s" dispatched', topLevelType);
        var event = SyntheticEvent$1.getPooled(bubbleDispatchConfig || directDispatchConfig, targetInst, nativeEvent, nativeEventTarget);
        if (bubbleDispatchConfig) {
          accumulateTwoPhaseDispatches(event);
        } else if (directDispatchConfig) {
          accumulateDirectDispatches(event);
        } else {
          return null;
        }
        return event;
      },

      processEventTypes: function processEventTypes(viewConfig) {
        var bubblingEventTypes = viewConfig.bubblingEventTypes,
            directEventTypes = viewConfig.directEventTypes;

        {
          if (bubblingEventTypes != null && directEventTypes != null) {
            for (var topLevelType in directEventTypes) {
              invariant(bubblingEventTypes[topLevelType] == null, "Event cannot be both direct and bubbling: %s", topLevelType);
            }
          }
        }

        if (bubblingEventTypes != null) {
          for (var _topLevelType in bubblingEventTypes) {
            if (customBubblingEventTypes[_topLevelType] == null) {
              ReactNativeBridgeEventPlugin.eventTypes[_topLevelType] = customBubblingEventTypes[_topLevelType] = bubblingEventTypes[_topLevelType];
            }
          }
        }

        if (directEventTypes != null) {
          for (var _topLevelType2 in directEventTypes) {
            if (customDirectEventTypes[_topLevelType2] == null) {
              ReactNativeBridgeEventPlugin.eventTypes[_topLevelType2] = customDirectEventTypes[_topLevelType2] = directEventTypes[_topLevelType2];
            }
          }
        }
      }
    };

    var instanceCache = {};
    var instanceProps = {};

    function precacheFiberNode(hostInst, tag) {
      instanceCache[tag] = hostInst;
    }

    function uncacheFiberNode(tag) {
      delete instanceCache[tag];
      delete instanceProps[tag];
    }

    function getInstanceFromTag(tag) {
      if (typeof tag === "number") {
        return instanceCache[tag] || null;
      } else {
        return tag;
      }
    }

    function getTagFromInstance(inst) {
      var tag = inst.stateNode._nativeTag;
      if (tag === undefined) {
        tag = inst.stateNode.canonical._nativeTag;
      }
      invariant(tag, "All native instances should have a tag.");
      return tag;
    }

    function getFiberCurrentPropsFromNode$1(stateNode) {
      return instanceProps[stateNode._nativeTag] || null;
    }

    function updateFiberProps(tag, props) {
      instanceProps[tag] = props;
    }

    var ReactNativeComponentTree = Object.freeze({
      precacheFiberNode: precacheFiberNode,
      uncacheFiberNode: uncacheFiberNode,
      getClosestInstanceFromNode: getInstanceFromTag,
      getInstanceFromNode: getInstanceFromTag,
      getNodeFromInstance: getTagFromInstance,
      getFiberCurrentPropsFromNode: getFiberCurrentPropsFromNode$1,
      updateFiberProps: updateFiberProps
    });

    var ReactNativeEventPluginOrder = ["ResponderEventPlugin", "ReactNativeBridgeEventPlugin"];

    var ReactNativeGlobalResponderHandler = {
      onChange: function onChange(from, to, blockNativeResponder) {
        if (to !== null) {
          var tag = to.stateNode._nativeTag;
          UIManager.setJSResponder(tag, blockNativeResponder);
        } else {
          UIManager.clearJSResponder();
        }
      }
    };

    injection.injectEventPluginOrder(ReactNativeEventPluginOrder);
    injection$1.injectComponentTree(ReactNativeComponentTree);

    ResponderEventPlugin.injection.injectGlobalResponderHandler(ReactNativeGlobalResponderHandler);

    injection.injectEventPluginsByName({
      ResponderEventPlugin: ResponderEventPlugin,
      ReactNativeBridgeEventPlugin: ReactNativeBridgeEventPlugin
    });

    var fiberHostComponent = null;

    var restoreTarget = null;
    var restoreQueue = null;

    function restoreStateOfTarget(target) {
      var internalInstance = getInstanceFromNode(target);
      if (!internalInstance) {
        return;
      }
      invariant(fiberHostComponent && typeof fiberHostComponent.restoreControlledState === "function", "Fiber needs to be injected to handle a fiber target for controlled " + "events. This error is likely caused by a bug in React. Please file an issue.");
      var props = getFiberCurrentPropsFromNode(internalInstance.stateNode);
      fiberHostComponent.restoreControlledState(internalInstance.stateNode, internalInstance.type, props);
    }

    function needsStateRestore() {
      return restoreTarget !== null || restoreQueue !== null;
    }

    function restoreStateIfNeeded() {
      if (!restoreTarget) {
        return;
      }
      var target = restoreTarget;
      var queuedTargets = restoreQueue;
      restoreTarget = null;
      restoreQueue = null;

      restoreStateOfTarget(target);
      if (queuedTargets) {
        for (var i = 0; i < queuedTargets.length; i++) {
          restoreStateOfTarget(queuedTargets[i]);
        }
      }
    }

    var _batchedUpdates = function _batchedUpdates(fn, bookkeeping) {
      return fn(bookkeeping);
    };
    var _interactiveUpdates = function _interactiveUpdates(fn, a, b) {
      return fn(a, b);
    };
    var _flushInteractiveUpdates = function _flushInteractiveUpdates() {};

    var isBatching = false;
    function batchedUpdates(fn, bookkeeping) {
      if (isBatching) {
        return fn(bookkeeping);
      }
      isBatching = true;
      try {
        return _batchedUpdates(fn, bookkeeping);
      } finally {
        isBatching = false;
        var controlledComponentsHavePendingUpdates = needsStateRestore();
        if (controlledComponentsHavePendingUpdates) {
          _flushInteractiveUpdates();
          restoreStateIfNeeded();
        }
      }
    }

    var injection$2 = {
      injectRenderer: function injectRenderer(renderer) {
        _batchedUpdates = renderer.batchedUpdates;
        _interactiveUpdates = renderer.interactiveUpdates;
        _flushInteractiveUpdates = renderer.flushInteractiveUpdates;
      }
    };

    var INITIAL_TAG_COUNT = 1;
    var ReactNativeTagHandles = {
      tagsStartAt: INITIAL_TAG_COUNT,
      tagCount: INITIAL_TAG_COUNT,

      allocateTag: function allocateTag() {
        while (this.reactTagIsNativeTopRootID(ReactNativeTagHandles.tagCount)) {
          ReactNativeTagHandles.tagCount++;
        }
        var tag = ReactNativeTagHandles.tagCount;
        ReactNativeTagHandles.tagCount++;
        return tag;
      },

      assertRootTag: function assertRootTag(tag) {
        invariant(this.reactTagIsNativeTopRootID(tag), "Expect a native root tag, instead got %s", tag);
      },

      reactTagIsNativeTopRootID: function reactTagIsNativeTopRootID(reactTag) {
        return reactTag % 10 === 1;
      }
    };

    var EMPTY_NATIVE_EVENT = {};

    var touchSubsequence = function touchSubsequence(touches, indices) {
      var ret = [];
      for (var i = 0; i < indices.length; i++) {
        ret.push(touches[indices[i]]);
      }
      return ret;
    };

    var removeTouchesAtIndices = function removeTouchesAtIndices(touches, indices) {
      var rippedOut = [];

      var temp = touches;
      for (var i = 0; i < indices.length; i++) {
        var index = indices[i];
        rippedOut.push(touches[index]);
        temp[index] = null;
      }
      var fillAt = 0;
      for (var j = 0; j < temp.length; j++) {
        var cur = temp[j];
        if (cur !== null) {
          temp[fillAt++] = cur;
        }
      }
      temp.length = fillAt;
      return rippedOut;
    };

    function _receiveRootNodeIDEvent(rootNodeID, topLevelType, nativeEventParam) {
      var nativeEvent = nativeEventParam || EMPTY_NATIVE_EVENT;
      var inst = getInstanceFromTag(rootNodeID);
      batchedUpdates(function () {
        runExtractedEventsInBatch(topLevelType, inst, nativeEvent, nativeEvent.target);
      });
    }

    function receiveEvent(rootNodeID, topLevelType, nativeEventParam) {
      _receiveRootNodeIDEvent(rootNodeID, topLevelType, nativeEventParam);
    }

    function receiveTouches(eventTopLevelType, touches, changedIndices) {
      var changedTouches = eventTopLevelType === "topTouchEnd" || eventTopLevelType === "topTouchCancel" ? removeTouchesAtIndices(touches, changedIndices) : touchSubsequence(touches, changedIndices);

      for (var jj = 0; jj < changedTouches.length; jj++) {
        var touch = changedTouches[jj];

        touch.changedTouches = changedTouches;
        touch.touches = touches;
        var nativeEvent = touch;
        var rootNodeID = null;
        var target = nativeEvent.target;
        if (target !== null && target !== undefined) {
          if (target < ReactNativeTagHandles.tagsStartAt) {
            {
              warning(false, "A view is reporting that a touch occurred on tag zero.");
            }
          } else {
            rootNodeID = target;
          }
        }

        _receiveRootNodeIDEvent(rootNodeID, eventTopLevelType, nativeEvent);
      }
    }

    var ReactNativeEventEmitter = Object.freeze({
      getListener: getListener,
      registrationNames: registrationNameModules,
      _receiveRootNodeIDEvent: _receiveRootNodeIDEvent,
      receiveEvent: receiveEvent,
      receiveTouches: receiveTouches
    });

    RCTEventEmitter.register(ReactNativeEventEmitter);

    var hasSymbol = typeof Symbol === "function" && Symbol["for"];

    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol["for"]("react.element") : 0xeac7;
    var REACT_CALL_TYPE = hasSymbol ? Symbol["for"]("react.call") : 0xeac8;
    var REACT_RETURN_TYPE = hasSymbol ? Symbol["for"]("react.return") : 0xeac9;
    var REACT_PORTAL_TYPE = hasSymbol ? Symbol["for"]("react.portal") : 0xeaca;
    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol["for"]("react.fragment") : 0xeacb;
    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol["for"]("react.strict_mode") : 0xeacc;
    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol["for"]("react.provider") : 0xeacd;
    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol["for"]("react.context") : 0xeace;
    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol["for"]("react.async_mode") : 0xeacf;
    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol["for"]("react.forward_ref") : 0xead0;

    var MAYBE_ITERATOR_SYMBOL = typeof Symbol === "function" && (typeof Symbol === "function" ? Symbol.iterator : "@@iterator");
    var FAUX_ITERATOR_SYMBOL = "@@iterator";

    function getIteratorFn(maybeIterable) {
      if (maybeIterable === null || typeof maybeIterable === "undefined") {
        return null;
      }
      var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];
      if (typeof maybeIterator === "function") {
        return maybeIterator;
      }
      return null;
    }

    function _createPortal(children, containerInfo, implementation) {
      var key = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;

      return {
        $$typeof: REACT_PORTAL_TYPE,
        key: key == null ? null : "" + key,
        children: children,
        containerInfo: containerInfo,
        implementation: implementation
      };
    }

    var TouchHistoryMath = {
      centroidDimension: function centroidDimension(touchHistory, touchesChangedAfter, isXAxis, ofCurrent) {
        var touchBank = touchHistory.touchBank;
        var total = 0;
        var count = 0;

        var oneTouchData = touchHistory.numberActiveTouches === 1 ? touchHistory.touchBank[touchHistory.indexOfSingleActiveTouch] : null;

        if (oneTouchData !== null) {
          if (oneTouchData.touchActive && oneTouchData.currentTimeStamp > touchesChangedAfter) {
            total += ofCurrent && isXAxis ? oneTouchData.currentPageX : ofCurrent && !isXAxis ? oneTouchData.currentPageY : !ofCurrent && isXAxis ? oneTouchData.previousPageX : oneTouchData.previousPageY;
            count = 1;
          }
        } else {
          for (var i = 0; i < touchBank.length; i++) {
            var touchTrack = touchBank[i];
            if (touchTrack !== null && touchTrack !== undefined && touchTrack.touchActive && touchTrack.currentTimeStamp >= touchesChangedAfter) {
              var toAdd = void 0;
              if (ofCurrent && isXAxis) {
                toAdd = touchTrack.currentPageX;
              } else if (ofCurrent && !isXAxis) {
                toAdd = touchTrack.currentPageY;
              } else if (!ofCurrent && isXAxis) {
                toAdd = touchTrack.previousPageX;
              } else {
                toAdd = touchTrack.previousPageY;
              }
              total += toAdd;
              count++;
            }
          }
        }
        return count > 0 ? total / count : TouchHistoryMath.noCentroid;
      },

      currentCentroidXOfTouchesChangedAfter: function currentCentroidXOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, true, true);
      },

      currentCentroidYOfTouchesChangedAfter: function currentCentroidYOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, false, true);
      },

      previousCentroidXOfTouchesChangedAfter: function previousCentroidXOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, true, false);
      },

      previousCentroidYOfTouchesChangedAfter: function previousCentroidYOfTouchesChangedAfter(touchHistory, touchesChangedAfter) {
        return TouchHistoryMath.centroidDimension(touchHistory, touchesChangedAfter, false, false);
      },

      currentCentroidX: function currentCentroidX(touchHistory) {
        return TouchHistoryMath.centroidDimension(touchHistory, 0, true, true);
      },

      currentCentroidY: function currentCentroidY(touchHistory) {
        return TouchHistoryMath.centroidDimension(touchHistory, 0, false, true);
      },

      noCentroid: -1
    };

    var ReactVersion = "16.3.1";

    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }

    var objects = {};
    var uniqueID = 1;
    var emptyObject$2 = {};

    var ReactNativePropRegistry = function () {
      function ReactNativePropRegistry() {
        _classCallCheck(this, ReactNativePropRegistry);
      }

      ReactNativePropRegistry.register = function register(object) {
        var id = ++uniqueID;
        {
          Object.freeze(object);
        }
        objects[id] = object;
        return id;
      };

      ReactNativePropRegistry.getByID = function getByID(id) {
        if (!id) {
          return emptyObject$2;
        }

        var object = objects[id];
        if (!object) {
          console.warn("Invalid style with id `" + id + "`. Skipping ...");
          return emptyObject$2;
        }
        return object;
      };

      return ReactNativePropRegistry;
    }();

    var emptyObject$1 = {};

    var removedKeys = null;
    var removedKeyCount = 0;

    function defaultDiffer(prevProp, nextProp) {
      if (typeof nextProp !== "object" || nextProp === null) {
        return true;
      } else {
        return deepDiffer(prevProp, nextProp);
      }
    }

    function resolveObject(idOrObject) {
      if (typeof idOrObject === "number") {
        return ReactNativePropRegistry.getByID(idOrObject);
      }
      return idOrObject;
    }

    function restoreDeletedValuesInNestedArray(updatePayload, node, validAttributes) {
      if (Array.isArray(node)) {
        var i = node.length;
        while (i-- && removedKeyCount > 0) {
          restoreDeletedValuesInNestedArray(updatePayload, node[i], validAttributes);
        }
      } else if (node && removedKeyCount > 0) {
        var obj = resolveObject(node);
        for (var propKey in removedKeys) {
          if (!removedKeys[propKey]) {
            continue;
          }
          var _nextProp = obj[propKey];
          if (_nextProp === undefined) {
            continue;
          }

          var attributeConfig = validAttributes[propKey];
          if (!attributeConfig) {
            continue;
          }

          if (typeof _nextProp === "function") {
            _nextProp = true;
          }
          if (typeof _nextProp === "undefined") {
            _nextProp = null;
          }

          if (typeof attributeConfig !== "object") {
            updatePayload[propKey] = _nextProp;
          } else if (typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
            var nextValue = typeof attributeConfig.process === "function" ? attributeConfig.process(_nextProp) : _nextProp;
            updatePayload[propKey] = nextValue;
          }
          removedKeys[propKey] = false;
          removedKeyCount--;
        }
      }
    }

    function diffNestedArrayProperty(updatePayload, prevArray, nextArray, validAttributes) {
      var minLength = prevArray.length < nextArray.length ? prevArray.length : nextArray.length;
      var i = void 0;
      for (i = 0; i < minLength; i++) {
        updatePayload = diffNestedProperty(updatePayload, prevArray[i], nextArray[i], validAttributes);
      }
      for (; i < prevArray.length; i++) {
        updatePayload = clearNestedProperty(updatePayload, prevArray[i], validAttributes);
      }
      for (; i < nextArray.length; i++) {
        updatePayload = addNestedProperty(updatePayload, nextArray[i], validAttributes);
      }
      return updatePayload;
    }

    function diffNestedProperty(updatePayload, prevProp, nextProp, validAttributes) {
      if (!updatePayload && prevProp === nextProp) {
        return updatePayload;
      }

      if (!prevProp || !nextProp) {
        if (nextProp) {
          return addNestedProperty(updatePayload, nextProp, validAttributes);
        }
        if (prevProp) {
          return clearNestedProperty(updatePayload, prevProp, validAttributes);
        }
        return updatePayload;
      }

      if (!Array.isArray(prevProp) && !Array.isArray(nextProp)) {
        return diffProperties(updatePayload, resolveObject(prevProp), resolveObject(nextProp), validAttributes);
      }

      if (Array.isArray(prevProp) && Array.isArray(nextProp)) {
        return diffNestedArrayProperty(updatePayload, prevProp, nextProp, validAttributes);
      }

      if (Array.isArray(prevProp)) {
        return diffProperties(updatePayload, flattenStyle(prevProp), resolveObject(nextProp), validAttributes);
      }

      return diffProperties(updatePayload, resolveObject(prevProp), flattenStyle(nextProp), validAttributes);
    }

    function addNestedProperty(updatePayload, nextProp, validAttributes) {
      if (!nextProp) {
        return updatePayload;
      }

      if (!Array.isArray(nextProp)) {
        return addProperties(updatePayload, resolveObject(nextProp), validAttributes);
      }

      for (var i = 0; i < nextProp.length; i++) {
        updatePayload = addNestedProperty(updatePayload, nextProp[i], validAttributes);
      }

      return updatePayload;
    }

    function clearNestedProperty(updatePayload, prevProp, validAttributes) {
      if (!prevProp) {
        return updatePayload;
      }

      if (!Array.isArray(prevProp)) {
        return clearProperties(updatePayload, resolveObject(prevProp), validAttributes);
      }

      for (var i = 0; i < prevProp.length; i++) {
        updatePayload = clearNestedProperty(updatePayload, prevProp[i], validAttributes);
      }
      return updatePayload;
    }

    function diffProperties(updatePayload, prevProps, nextProps, validAttributes) {
      var attributeConfig = void 0;
      var nextProp = void 0;
      var prevProp = void 0;

      for (var propKey in nextProps) {
        attributeConfig = validAttributes[propKey];
        if (!attributeConfig) {
          continue;
        }

        prevProp = prevProps[propKey];
        nextProp = nextProps[propKey];

        if (typeof nextProp === "function") {
          nextProp = true;

          if (typeof prevProp === "function") {
            prevProp = true;
          }
        }

        if (typeof nextProp === "undefined") {
          nextProp = null;
          if (typeof prevProp === "undefined") {
            prevProp = null;
          }
        }

        if (removedKeys) {
          removedKeys[propKey] = false;
        }

        if (updatePayload && updatePayload[propKey] !== undefined) {
          if (typeof attributeConfig !== "object") {
            updatePayload[propKey] = nextProp;
          } else if (typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
            var nextValue = typeof attributeConfig.process === "function" ? attributeConfig.process(nextProp) : nextProp;
            updatePayload[propKey] = nextValue;
          }
          continue;
        }

        if (prevProp === nextProp) {
          continue;
        }

        if (typeof attributeConfig !== "object") {
          if (defaultDiffer(prevProp, nextProp)) {
            (updatePayload || (updatePayload = {}))[propKey] = nextProp;
          }
        } else if (typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
          var shouldUpdate = prevProp === undefined || (typeof attributeConfig.diff === "function" ? attributeConfig.diff(prevProp, nextProp) : defaultDiffer(prevProp, nextProp));
          if (shouldUpdate) {
            var _nextValue = typeof attributeConfig.process === "function" ? attributeConfig.process(nextProp) : nextProp;
            (updatePayload || (updatePayload = {}))[propKey] = _nextValue;
          }
        } else {
          removedKeys = null;
          removedKeyCount = 0;

          updatePayload = diffNestedProperty(updatePayload, prevProp, nextProp, attributeConfig);
          if (removedKeyCount > 0 && updatePayload) {
            restoreDeletedValuesInNestedArray(updatePayload, nextProp, attributeConfig);
            removedKeys = null;
          }
        }
      }

      for (var _propKey in prevProps) {
        if (nextProps[_propKey] !== undefined) {
          continue;
        }
        attributeConfig = validAttributes[_propKey];
        if (!attributeConfig) {
          continue;
        }

        if (updatePayload && updatePayload[_propKey] !== undefined) {
          continue;
        }

        prevProp = prevProps[_propKey];
        if (prevProp === undefined) {
          continue;
        }

        if (typeof attributeConfig !== "object" || typeof attributeConfig.diff === "function" || typeof attributeConfig.process === "function") {
          (updatePayload || (updatePayload = {}))[_propKey] = null;
          if (!removedKeys) {
            removedKeys = {};
          }
          if (!removedKeys[_propKey]) {
            removedKeys[_propKey] = true;
            removedKeyCount++;
          }
        } else {
          updatePayload = clearNestedProperty(updatePayload, prevProp, attributeConfig);
        }
      }
      return updatePayload;
    }

    function addProperties(updatePayload, props, validAttributes) {
      return diffProperties(updatePayload, emptyObject$1, props, validAttributes);
    }

    function clearProperties(updatePayload, prevProps, validAttributes) {
      return diffProperties(updatePayload, prevProps, emptyObject$1, validAttributes);
    }

    function create(props, validAttributes) {
      return addProperties(null, props, validAttributes);
    }

    function diff(prevProps, nextProps, validAttributes) {
      return diffProperties(null, prevProps, nextProps, validAttributes);
    }

    function mountSafeCallback(context, callback) {
      return function () {
        if (!callback) {
          return undefined;
        }
        if (typeof context.__isMounted === "boolean") {
          if (!context.__isMounted) {
            return undefined;
          }
        } else if (typeof context.isMounted === "function") {
          if (!context.isMounted()) {
            return undefined;
          }
        }
        return callback.apply(context, arguments);
      };
    }

    function throwOnStylesProp(component, props) {
      if (props.styles !== undefined) {
        var owner = component._owner || null;
        var name = component.constructor.displayName;
        var msg = "`styles` is not a supported property of `" + name + "`, did " + "you mean `style` (singular)?";
        if (owner && owner.constructor && owner.constructor.displayName) {
          msg += "\n\nCheck the `" + owner.constructor.displayName + "` parent " + " component.";
        }
        throw new Error(msg);
      }
    }

    function warnForStyleProps(props, validAttributes) {
      for (var key in validAttributes.style) {
        if (!(validAttributes[key] || props[key] === undefined)) {
          console.error("You are setting the style `{ " + key + ": ... }` as a prop. You " + "should nest it in a style object. " + "E.g. `{ style: { " + key + ": ... } }`");
        }
      }
    }

    function get(key) {
      return key._reactInternalFiber;
    }

    function set(key, value) {
      key._reactInternalFiber = value;
    }

    var ReactInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;

    var ReactCurrentOwner = ReactInternals.ReactCurrentOwner;
    var ReactDebugCurrentFrame = ReactInternals.ReactDebugCurrentFrame;

    function getComponentName(fiber) {
      var type = fiber.type;

      if (typeof type === "function") {
        return type.displayName || type.name;
      }
      if (typeof type === "string") {
        return type;
      }
      switch (type) {
        case REACT_FRAGMENT_TYPE:
          return "ReactFragment";
        case REACT_PORTAL_TYPE:
          return "ReactPortal";
        case REACT_CALL_TYPE:
          return "ReactCall";
        case REACT_RETURN_TYPE:
          return "ReactReturn";
      }
      return null;
    }

    var findHostInstance = function findHostInstance(fiber) {
      return null;
    };

    var findHostInstanceFabric = function findHostInstanceFabric(fiber) {
      return null;
    };

    function injectFindHostInstance(impl) {
      findHostInstance = impl;
    }

    function findNodeHandle(componentOrHandle) {
      {
        var owner = ReactCurrentOwner.current;
        if (owner !== null && owner.stateNode !== null) {
          !owner.stateNode._warnedAboutRefsInRender ? warning(false, "%s is accessing findNodeHandle inside its render(). " + "render() should be a pure function of props and state. It should " + "never access something that requires stale data from the previous " + "render, such as refs. Move this logic to componentDidMount and " + "componentDidUpdate instead.", getComponentName(owner) || "A component") : void 0;

          owner.stateNode._warnedAboutRefsInRender = true;
        }
      }
      if (componentOrHandle == null) {
        return null;
      }
      if (typeof componentOrHandle === "number") {
        return componentOrHandle;
      }

      var component = componentOrHandle;

      var internalInstance = get(component);
      if (internalInstance) {
        return findHostInstance(internalInstance) || findHostInstanceFabric(internalInstance);
      } else {
        if (component) {
          return component;
        } else {
          invariant(typeof component === "object" && "_nativeTag" in component || component.render != null && typeof component.render === "function", "findNodeHandle(...): Argument is not a component " + "(type: %s, keys: %s)", typeof component, Object.keys(component));
          invariant(false, "findNodeHandle(...): Unable to find node handle for unmounted " + "component.");
        }
      }
    }

    function findNumericNodeHandleFiber(componentOrHandle) {
      var instance = findNodeHandle(componentOrHandle);
      if (instance == null || typeof instance === "number") {
        return instance;
      }
      return instance._nativeTag;
    }

    var NativeMethodsMixin = {
      measure: function measure(callback) {
        UIManager.measure(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      },

      measureInWindow: function measureInWindow(callback) {
        UIManager.measureInWindow(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      },

      measureLayout: function measureLayout(relativeToNativeNode, onSuccess, onFail) {
        UIManager.measureLayout(findNumericNodeHandleFiber(this), relativeToNativeNode, mountSafeCallback(this, onFail), mountSafeCallback(this, onSuccess));
      },

      setNativeProps: function setNativeProps(nativeProps) {
        var maybeInstance = void 0;

        try {
          maybeInstance = findNodeHandle(this);
        } catch (error) {}

        if (maybeInstance == null) {
          return;
        }

        var viewConfig = maybeInstance.viewConfig;

        {
          warnForStyleProps(nativeProps, viewConfig.validAttributes);
        }

        var updatePayload = create(nativeProps, viewConfig.validAttributes);

        if (updatePayload != null) {
          UIManager.updateView(maybeInstance._nativeTag, viewConfig.uiViewClassName, updatePayload);
        }
      },

      focus: function focus() {
        TextInputState.focusTextInput(findNumericNodeHandleFiber(this));
      },

      blur: function blur() {
        TextInputState.blurTextInput(findNumericNodeHandleFiber(this));
      }
    };

    {
      var NativeMethodsMixin_DEV = NativeMethodsMixin;
      invariant(!NativeMethodsMixin_DEV.componentWillMount && !NativeMethodsMixin_DEV.componentWillReceiveProps && !NativeMethodsMixin_DEV.UNSAFE_componentWillMount && !NativeMethodsMixin_DEV.UNSAFE_componentWillReceiveProps, "Do not override existing functions.");

      NativeMethodsMixin_DEV.componentWillMount = function () {
        throwOnStylesProp(this, this.props);
      };
      NativeMethodsMixin_DEV.componentWillReceiveProps = function (newProps) {
        throwOnStylesProp(this, newProps);
      };
      NativeMethodsMixin_DEV.UNSAFE_componentWillMount = function () {
        throwOnStylesProp(this, this.props);
      };
      NativeMethodsMixin_DEV.UNSAFE_componentWillReceiveProps = function (newProps) {
        throwOnStylesProp(this, newProps);
      };

      NativeMethodsMixin_DEV.componentWillMount.__suppressDeprecationWarning = true;
      NativeMethodsMixin_DEV.componentWillReceiveProps.__suppressDeprecationWarning = true;
    }

    function _classCallCheck$1(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }

    function _possibleConstructorReturn(self, call) {
      if (!self) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }

    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          enumerable: false,
          writable: true,
          configurable: true
        }
      });
      if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }

    var ReactNativeComponent = function (_React$Component) {
      _inherits(ReactNativeComponent, _React$Component);

      function ReactNativeComponent() {
        _classCallCheck$1(this, ReactNativeComponent);

        return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
      }

      ReactNativeComponent.prototype.blur = function blur() {
        TextInputState.blurTextInput(findNumericNodeHandleFiber(this));
      };

      ReactNativeComponent.prototype.focus = function focus() {
        TextInputState.focusTextInput(findNumericNodeHandleFiber(this));
      };

      ReactNativeComponent.prototype.measure = function measure(callback) {
        UIManager.measure(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      };

      ReactNativeComponent.prototype.measureInWindow = function measureInWindow(callback) {
        UIManager.measureInWindow(findNumericNodeHandleFiber(this), mountSafeCallback(this, callback));
      };

      ReactNativeComponent.prototype.measureLayout = function measureLayout(relativeToNativeNode, onSuccess, onFail) {
        UIManager.measureLayout(findNumericNodeHandleFiber(this), relativeToNativeNode, mountSafeCallback(this, onFail), mountSafeCallback(this, onSuccess));
      };

      ReactNativeComponent.prototype.setNativeProps = function setNativeProps(nativeProps) {
        var maybeInstance = void 0;

        try {
          maybeInstance = findNodeHandle(this);
        } catch (error) {}

        if (maybeInstance == null) {
          return;
        }

        var viewConfig = maybeInstance.viewConfig || maybeInstance.canonical.viewConfig;

        var updatePayload = create(nativeProps, viewConfig.validAttributes);

        if (updatePayload != null) {
          UIManager.updateView(maybeInstance._nativeTag, viewConfig.uiViewClassName, updatePayload);
        }
      };

      return ReactNativeComponent;
    }(React.Component);

    var NoEffect = 0;
    var PerformedWork = 1;

    var Placement = 2;
    var Update = 4;
    var PlacementAndUpdate = 6;
    var Deletion = 8;
    var ContentReset = 16;
    var Callback = 32;
    var DidCapture = 64;
    var Ref = 128;
    var ErrLog = 256;
    var Snapshot = 2048;

    var HostEffectMask = 2559;

    var Incomplete = 512;
    var ShouldCapture = 1024;

    var MOUNTING = 1;
    var MOUNTED = 2;
    var UNMOUNTED = 3;

    function isFiberMountedImpl(fiber) {
      var node = fiber;
      if (!fiber.alternate) {
        if ((node.effectTag & Placement) !== NoEffect) {
          return MOUNTING;
        }
        while (node["return"]) {
          node = node["return"];
          if ((node.effectTag & Placement) !== NoEffect) {
            return MOUNTING;
          }
        }
      } else {
        while (node["return"]) {
          node = node["return"];
        }
      }
      if (node.tag === HostRoot) {
        return MOUNTED;
      }

      return UNMOUNTED;
    }

    function isFiberMounted(fiber) {
      return isFiberMountedImpl(fiber) === MOUNTED;
    }

    function isMounted(component) {
      {
        var owner = ReactCurrentOwner.current;
        if (owner !== null && owner.tag === ClassComponent) {
          var ownerFiber = owner;
          var instance = ownerFiber.stateNode;
          !instance._warnedAboutRefsInRender ? warning(false, "%s is accessing isMounted inside its render() function. " + "render() should be a pure function of props and state. It should " + "never access something that requires stale data from the previous " + "render, such as refs. Move this logic to componentDidMount and " + "componentDidUpdate instead.", getComponentName(ownerFiber) || "A component") : void 0;
          instance._warnedAboutRefsInRender = true;
        }
      }

      var fiber = get(component);
      if (!fiber) {
        return false;
      }
      return isFiberMountedImpl(fiber) === MOUNTED;
    }

    function assertIsMounted(fiber) {
      invariant(isFiberMountedImpl(fiber) === MOUNTED, "Unable to find node on an unmounted component.");
    }

    function findCurrentFiberUsingSlowPath(fiber) {
      var alternate = fiber.alternate;
      if (!alternate) {
        var state = isFiberMountedImpl(fiber);
        invariant(state !== UNMOUNTED, "Unable to find node on an unmounted component.");
        if (state === MOUNTING) {
          return null;
        }
        return fiber;
      }

      var a = fiber;
      var b = alternate;
      while (true) {
        var parentA = a["return"];
        var parentB = parentA ? parentA.alternate : null;
        if (!parentA || !parentB) {
          break;
        }

        if (parentA.child === parentB.child) {
          var child = parentA.child;
          while (child) {
            if (child === a) {
              assertIsMounted(parentA);
              return fiber;
            }
            if (child === b) {
              assertIsMounted(parentA);
              return alternate;
            }
            child = child.sibling;
          }

          invariant(false, "Unable to find node on an unmounted component.");
        }

        if (a["return"] !== b["return"]) {
          a = parentA;
          b = parentB;
        } else {
          var didFindChild = false;
          var _child = parentA.child;
          while (_child) {
            if (_child === a) {
              didFindChild = true;
              a = parentA;
              b = parentB;
              break;
            }
            if (_child === b) {
              didFindChild = true;
              b = parentA;
              a = parentB;
              break;
            }
            _child = _child.sibling;
          }
          if (!didFindChild) {
            _child = parentB.child;
            while (_child) {
              if (_child === a) {
                didFindChild = true;
                a = parentB;
                b = parentA;
                break;
              }
              if (_child === b) {
                didFindChild = true;
                b = parentB;
                a = parentA;
                break;
              }
              _child = _child.sibling;
            }
            invariant(didFindChild, "Child was not found in either parent set. This indicates a bug " + "in React related to the return pointer. Please file an issue.");
          }
        }

        invariant(a.alternate === b, "Return fibers should always be each others' alternates. " + "This error is likely caused by a bug in React. Please file an issue.");
      }

      invariant(a.tag === HostRoot, "Unable to find node on an unmounted component.");
      if (a.stateNode.current === a) {
        return fiber;
      }

      return alternate;
    }

    function findCurrentHostFiber(parent) {
      var currentParent = findCurrentFiberUsingSlowPath(parent);
      if (!currentParent) {
        return null;
      }

      var node = currentParent;
      while (true) {
        if (node.tag === HostComponent || node.tag === HostText) {
          return node;
        } else if (node.child) {
          node.child["return"] = node;
          node = node.child;
          continue;
        }
        if (node === currentParent) {
          return null;
        }
        while (!node.sibling) {
          if (!node["return"] || node["return"] === currentParent) {
            return null;
          }
          node = node["return"];
        }
        node.sibling["return"] = node["return"];
        node = node.sibling;
      }

      return null;
    }

    function findCurrentHostFiberWithNoPortals(parent) {
      var currentParent = findCurrentFiberUsingSlowPath(parent);
      if (!currentParent) {
        return null;
      }

      var node = currentParent;
      while (true) {
        if (node.tag === HostComponent || node.tag === HostText) {
          return node;
        } else if (node.child && node.tag !== HostPortal) {
          node.child["return"] = node;
          node = node.child;
          continue;
        }
        if (node === currentParent) {
          return null;
        }
        while (!node.sibling) {
          if (!node["return"] || node["return"] === currentParent) {
            return null;
          }
          node = node["return"];
        }
        node.sibling["return"] = node["return"];
        node = node.sibling;
      }

      return null;
    }

    var MAX_SIGNED_31_BIT_INT = 1073741823;

    var NoWork = 0;
    var Sync = 1;
    var Never = MAX_SIGNED_31_BIT_INT;

    var UNIT_SIZE = 10;
    var MAGIC_NUMBER_OFFSET = 2;

    function msToExpirationTime(ms) {
      return (ms / UNIT_SIZE | 0) + MAGIC_NUMBER_OFFSET;
    }

    function expirationTimeToMs(expirationTime) {
      return (expirationTime - MAGIC_NUMBER_OFFSET) * UNIT_SIZE;
    }

    function ceiling(num, precision) {
      return ((num / precision | 0) + 1) * precision;
    }

    function computeExpirationBucket(currentTime, expirationInMs, bucketSizeMs) {
      return ceiling(currentTime + expirationInMs / UNIT_SIZE, bucketSizeMs / UNIT_SIZE);
    }

    var NoContext = 0;
    var AsyncMode = 1;
    var StrictMode = 2;

    var hasBadMapPolyfill = void 0;

    {
      hasBadMapPolyfill = false;
      try {
        var nonExtensibleObject = Object.preventExtensions({});
        var testMap = new Map([[nonExtensibleObject, null]]);
        var testSet = new Set([nonExtensibleObject]);

        testMap.set(0, 0);
        testSet.add(0);
      } catch (e) {
        hasBadMapPolyfill = true;
      }
    }

    var debugCounter = void 0;

    {
      debugCounter = 1;
    }

    function FiberNode(tag, pendingProps, key, mode) {
      this.tag = tag;
      this.key = key;
      this.type = null;
      this.stateNode = null;

      this["return"] = null;
      this.child = null;
      this.sibling = null;
      this.index = 0;

      this.ref = null;

      this.pendingProps = pendingProps;
      this.memoizedProps = null;
      this.updateQueue = null;
      this.memoizedState = null;

      this.mode = mode;

      this.effectTag = NoEffect;
      this.nextEffect = null;

      this.firstEffect = null;
      this.lastEffect = null;

      this.expirationTime = NoWork;

      this.alternate = null;

      {
        this._debugID = debugCounter++;
        this._debugSource = null;
        this._debugOwner = null;
        this._debugIsCurrentlyTiming = false;
        if (!hasBadMapPolyfill && typeof Object.preventExtensions === "function") {
          Object.preventExtensions(this);
        }
      }
    }

    var createFiber = function createFiber(tag, pendingProps, key, mode) {
      return new FiberNode(tag, pendingProps, key, mode);
    };

    function shouldConstruct(Component) {
      return !!(Component.prototype && Component.prototype.isReactComponent);
    }

    function createWorkInProgress(current, pendingProps, expirationTime) {
      var workInProgress = current.alternate;
      if (workInProgress === null) {
        workInProgress = createFiber(current.tag, pendingProps, current.key, current.mode);
        workInProgress.type = current.type;
        workInProgress.stateNode = current.stateNode;

        {
          workInProgress._debugID = current._debugID;
          workInProgress._debugSource = current._debugSource;
          workInProgress._debugOwner = current._debugOwner;
        }

        workInProgress.alternate = current;
        current.alternate = workInProgress;
      } else {
        workInProgress.pendingProps = pendingProps;

        workInProgress.effectTag = NoEffect;

        workInProgress.nextEffect = null;
        workInProgress.firstEffect = null;
        workInProgress.lastEffect = null;
      }

      workInProgress.expirationTime = expirationTime;

      workInProgress.child = current.child;
      workInProgress.memoizedProps = current.memoizedProps;
      workInProgress.memoizedState = current.memoizedState;
      workInProgress.updateQueue = current.updateQueue;

      workInProgress.sibling = current.sibling;
      workInProgress.index = current.index;
      workInProgress.ref = current.ref;

      return workInProgress;
    }

    function createHostRootFiber(isAsync) {
      var mode = isAsync ? AsyncMode | StrictMode : NoContext;
      return createFiber(HostRoot, null, null, mode);
    }

    function createFiberFromElement(element, mode, expirationTime) {
      var owner = null;
      {
        owner = element._owner;
      }

      var fiber = void 0;
      var type = element.type;
      var key = element.key;
      var pendingProps = element.props;

      var fiberTag = void 0;
      if (typeof type === "function") {
        fiberTag = shouldConstruct(type) ? ClassComponent : IndeterminateComponent;
      } else if (typeof type === "string") {
        fiberTag = HostComponent;
      } else {
        switch (type) {
          case REACT_FRAGMENT_TYPE:
            return createFiberFromFragment(pendingProps.children, mode, expirationTime, key);
          case REACT_ASYNC_MODE_TYPE:
            fiberTag = Mode;
            mode |= AsyncMode | StrictMode;
            break;
          case REACT_STRICT_MODE_TYPE:
            fiberTag = Mode;
            mode |= StrictMode;
            break;
          case REACT_CALL_TYPE:
            fiberTag = CallComponent;
            break;
          case REACT_RETURN_TYPE:
            fiberTag = ReturnComponent;
            break;
          default:
            {
              if (typeof type === "object" && type !== null) {
                switch (type.$$typeof) {
                  case REACT_PROVIDER_TYPE:
                    fiberTag = ContextProvider;
                    break;
                  case REACT_CONTEXT_TYPE:
                    fiberTag = ContextConsumer;
                    break;
                  case REACT_FORWARD_REF_TYPE:
                    fiberTag = ForwardRef;
                    break;
                  default:
                    if (typeof type.tag === "number") {
                      fiber = type;
                      fiber.pendingProps = pendingProps;
                      fiber.expirationTime = expirationTime;
                      return fiber;
                    } else {
                      throwOnInvalidElementType(type, owner);
                    }
                    break;
                }
              } else {
                throwOnInvalidElementType(type, owner);
              }
            }
        }
      }

      fiber = createFiber(fiberTag, pendingProps, key, mode);
      fiber.type = type;
      fiber.expirationTime = expirationTime;

      {
        fiber._debugSource = element._source;
        fiber._debugOwner = element._owner;
      }

      return fiber;
    }

    function throwOnInvalidElementType(type, owner) {
      var info = "";
      {
        if (type === undefined || typeof type === "object" && type !== null && Object.keys(type).length === 0) {
          info += " You likely forgot to export your component from the file " + "it's defined in, or you might have mixed up default and " + "named imports.";
        }
        var ownerName = owner ? getComponentName(owner) : null;
        if (ownerName) {
          info += "\n\nCheck the render method of `" + ownerName + "`.";
        }
      }
      invariant(false, "Element type is invalid: expected a string (for built-in " + "components) or a class/function (for composite components) " + "but got: %s.%s", type == null ? type : typeof type, info);
    }

    function createFiberFromFragment(elements, mode, expirationTime, key) {
      var fiber = createFiber(Fragment, elements, key, mode);
      fiber.expirationTime = expirationTime;
      return fiber;
    }

    function createFiberFromText(content, mode, expirationTime) {
      var fiber = createFiber(HostText, content, null, mode);
      fiber.expirationTime = expirationTime;
      return fiber;
    }

    function createFiberFromHostInstanceForDeletion() {
      var fiber = createFiber(HostComponent, null, null, NoContext);
      fiber.type = "DELETED";
      return fiber;
    }

    function createFiberFromPortal(portal, mode, expirationTime) {
      var pendingProps = portal.children !== null ? portal.children : [];
      var fiber = createFiber(HostPortal, pendingProps, portal.key, mode);
      fiber.expirationTime = expirationTime;
      fiber.stateNode = {
        containerInfo: portal.containerInfo,
        pendingChildren: null,
        implementation: portal.implementation
      };
      return fiber;
    }

    function assignFiberPropertiesInDEV(target, source) {
      if (target === null) {
        target = createFiber(IndeterminateComponent, null, null, NoContext);
      }

      target.tag = source.tag;
      target.key = source.key;
      target.type = source.type;
      target.stateNode = source.stateNode;
      target["return"] = source["return"];
      target.child = source.child;
      target.sibling = source.sibling;
      target.index = source.index;
      target.ref = source.ref;
      target.pendingProps = source.pendingProps;
      target.memoizedProps = source.memoizedProps;
      target.updateQueue = source.updateQueue;
      target.memoizedState = source.memoizedState;
      target.mode = source.mode;
      target.effectTag = source.effectTag;
      target.nextEffect = source.nextEffect;
      target.firstEffect = source.firstEffect;
      target.lastEffect = source.lastEffect;
      target.expirationTime = source.expirationTime;
      target.alternate = source.alternate;
      target._debugID = source._debugID;
      target._debugSource = source._debugSource;
      target._debugOwner = source._debugOwner;
      target._debugIsCurrentlyTiming = source._debugIsCurrentlyTiming;
      return target;
    }

    function createFiberRoot(containerInfo, isAsync, hydrate) {
      var uninitializedFiber = createHostRootFiber(isAsync);
      var root = {
        current: uninitializedFiber,
        containerInfo: containerInfo,
        pendingChildren: null,
        pendingCommitExpirationTime: NoWork,
        finishedWork: null,
        context: null,
        pendingContext: null,
        hydrate: hydrate,
        remainingExpirationTime: NoWork,
        firstBatch: null,
        nextScheduledRoot: null
      };
      uninitializedFiber.stateNode = root;
      return root;
    }

    var onCommitFiberRoot = null;
    var onCommitFiberUnmount = null;
    var hasLoggedError = false;

    function catchErrors(fn) {
      return function (arg) {
        try {
          return fn(arg);
        } catch (err) {
          if (true && !hasLoggedError) {
            hasLoggedError = true;
            warning(false, "React DevTools encountered an error: %s", err);
          }
        }
      };
    }

    function injectInternals(internals) {
      if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === "undefined") {
        return false;
      }
      var hook = __REACT_DEVTOOLS_GLOBAL_HOOK__;
      if (hook.isDisabled) {
        return true;
      }
      if (!hook.supportsFiber) {
        {
          warning(false, "The installed version of React DevTools is too old and will not work " + "with the current version of React. Please update React DevTools. " + "https://fb.me/react-devtools");
        }

        return true;
      }
      try {
        var rendererID = hook.inject(internals);

        onCommitFiberRoot = catchErrors(function (root) {
          return hook.onCommitFiberRoot(rendererID, root);
        });
        onCommitFiberUnmount = catchErrors(function (fiber) {
          return hook.onCommitFiberUnmount(rendererID, fiber);
        });
      } catch (err) {
        {
          warning(false, "React DevTools encountered an error: %s.", err);
        }
      }

      return true;
    }

    function onCommitRoot(root) {
      if (typeof onCommitFiberRoot === "function") {
        onCommitFiberRoot(root);
      }
    }

    function onCommitUnmount(fiber) {
      if (typeof onCommitFiberUnmount === "function") {
        onCommitFiberUnmount(fiber);
      }
    }

    var describeComponentFrame = function describeComponentFrame(name, source, ownerName) {
      return "\n    in " + (name || "Unknown") + (source ? " (at " + source.fileName.replace(/^.*[\\\/]/, "") + ":" + source.lineNumber + ")" : ownerName ? " (created by " + ownerName + ")" : "");
    };

    function describeFiber(fiber) {
      switch (fiber.tag) {
        case IndeterminateComponent:
        case FunctionalComponent:
        case ClassComponent:
        case HostComponent:
          var owner = fiber._debugOwner;
          var source = fiber._debugSource;
          var name = getComponentName(fiber);
          var ownerName = null;
          if (owner) {
            ownerName = getComponentName(owner);
          }
          return describeComponentFrame(name, source, ownerName);
        default:
          return "";
      }
    }

    function getStackAddendumByWorkInProgressFiber(workInProgress) {
      var info = "";
      var node = workInProgress;
      do {
        info += describeFiber(node);

        node = node["return"];
      } while (node);
      return info;
    }

    var lowPriorityWarning = function lowPriorityWarning() {};

    {
      var printWarning = function printWarning(format) {
        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        var argIndex = 0;
        var message = "Warning: " + format.replace(/%s/g, function () {
          return args[argIndex++];
        });
        if (typeof console !== "undefined") {
          console.warn(message);
        }
        try {
          throw new Error(message);
        } catch (x) {}
      };

      lowPriorityWarning = function lowPriorityWarning(condition, format) {
        if (format === undefined) {
          throw new Error("`warning(condition, format, ...args)` requires a warning " + "message argument");
        }
        if (!condition) {
          for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
            args[_key2 - 2] = arguments[_key2];
          }

          printWarning.apply(undefined, [format].concat(args));
        }
      };
    }

    var lowPriorityWarning$1 = lowPriorityWarning;

    var ReactStrictModeWarnings = {
      discardPendingWarnings: function discardPendingWarnings() {},
      flushPendingDeprecationWarnings: function flushPendingDeprecationWarnings() {},
      flushPendingUnsafeLifecycleWarnings: function flushPendingUnsafeLifecycleWarnings() {},
      recordDeprecationWarnings: function recordDeprecationWarnings(fiber, instance) {},
      recordUnsafeLifecycleWarnings: function recordUnsafeLifecycleWarnings(fiber, instance) {}
    };

    {
      var LIFECYCLE_SUGGESTIONS = {
        UNSAFE_componentWillMount: "componentDidMount",
        UNSAFE_componentWillReceiveProps: "static getDerivedStateFromProps",
        UNSAFE_componentWillUpdate: "componentDidUpdate"
      };

      var pendingComponentWillMountWarnings = [];
      var pendingComponentWillReceivePropsWarnings = [];
      var pendingComponentWillUpdateWarnings = [];
      var pendingUnsafeLifecycleWarnings = new Map();

      var didWarnAboutDeprecatedLifecycles = new Set();
      var didWarnAboutUnsafeLifecycles = new Set();

      ReactStrictModeWarnings.discardPendingWarnings = function () {
        pendingComponentWillMountWarnings = [];
        pendingComponentWillReceivePropsWarnings = [];
        pendingComponentWillUpdateWarnings = [];
        pendingUnsafeLifecycleWarnings = new Map();
      };

      ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings = function () {
        pendingUnsafeLifecycleWarnings.forEach(function (lifecycleWarningsMap, strictRoot) {
          var lifecyclesWarningMesages = [];

          Object.keys(lifecycleWarningsMap).forEach(function (lifecycle) {
            var lifecycleWarnings = lifecycleWarningsMap[lifecycle];
            if (lifecycleWarnings.length > 0) {
              var componentNames = new Set();
              lifecycleWarnings.forEach(function (fiber) {
                componentNames.add(getComponentName(fiber) || "Component");
                didWarnAboutUnsafeLifecycles.add(fiber.type);
              });

              var formatted = lifecycle.replace("UNSAFE_", "");
              var suggestion = LIFECYCLE_SUGGESTIONS[lifecycle];
              var sortedComponentNames = Array.from(componentNames).sort().join(", ");

              lifecyclesWarningMesages.push(formatted + ": Please update the following components to use " + (suggestion + " instead: " + sortedComponentNames));
            }
          });

          if (lifecyclesWarningMesages.length > 0) {
            var strictRootComponentStack = getStackAddendumByWorkInProgressFiber(strictRoot);

            warning(false, "Unsafe lifecycle methods were found within a strict-mode tree:%s" + "\n\n%s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-strict-mode-warnings", strictRootComponentStack, lifecyclesWarningMesages.join("\n\n"));
          }
        });

        pendingUnsafeLifecycleWarnings = new Map();
      };

      var getStrictRoot = function getStrictRoot(fiber) {
        var maybeStrictRoot = null;

        while (fiber !== null) {
          if (fiber.mode & StrictMode) {
            maybeStrictRoot = fiber;
          }

          fiber = fiber["return"];
        }

        return maybeStrictRoot;
      };

      ReactStrictModeWarnings.flushPendingDeprecationWarnings = function () {
        if (pendingComponentWillMountWarnings.length > 0) {
          var uniqueNames = new Set();
          pendingComponentWillMountWarnings.forEach(function (fiber) {
            uniqueNames.add(getComponentName(fiber) || "Component");
            didWarnAboutDeprecatedLifecycles.add(fiber.type);
          });

          var sortedNames = Array.from(uniqueNames).sort().join(", ");

          lowPriorityWarning$1(false, "componentWillMount is deprecated and will be removed in the next major version. " + "Use componentDidMount instead. As a temporary workaround, " + "you can rename to UNSAFE_componentWillMount." + "\n\nPlease update the following components: %s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-async-component-lifecycle-hooks", sortedNames);

          pendingComponentWillMountWarnings = [];
        }

        if (pendingComponentWillReceivePropsWarnings.length > 0) {
          var _uniqueNames = new Set();
          pendingComponentWillReceivePropsWarnings.forEach(function (fiber) {
            _uniqueNames.add(getComponentName(fiber) || "Component");
            didWarnAboutDeprecatedLifecycles.add(fiber.type);
          });

          var _sortedNames = Array.from(_uniqueNames).sort().join(", ");

          lowPriorityWarning$1(false, "componentWillReceiveProps is deprecated and will be removed in the next major version. " + "Use static getDerivedStateFromProps instead." + "\n\nPlease update the following components: %s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-async-component-lifecycle-hooks", _sortedNames);

          pendingComponentWillReceivePropsWarnings = [];
        }

        if (pendingComponentWillUpdateWarnings.length > 0) {
          var _uniqueNames2 = new Set();
          pendingComponentWillUpdateWarnings.forEach(function (fiber) {
            _uniqueNames2.add(getComponentName(fiber) || "Component");
            didWarnAboutDeprecatedLifecycles.add(fiber.type);
          });

          var _sortedNames2 = Array.from(_uniqueNames2).sort().join(", ");

          lowPriorityWarning$1(false, "componentWillUpdate is deprecated and will be removed in the next major version. " + "Use componentDidUpdate instead. As a temporary workaround, " + "you can rename to UNSAFE_componentWillUpdate." + "\n\nPlease update the following components: %s" + "\n\nLearn more about this warning here:" + "\nhttps://fb.me/react-async-component-lifecycle-hooks", _sortedNames2);

          pendingComponentWillUpdateWarnings = [];
        }
      };

      ReactStrictModeWarnings.recordDeprecationWarnings = function (fiber, instance) {
        if (didWarnAboutDeprecatedLifecycles.has(fiber.type)) {
          return;
        }

        if (typeof instance.componentWillMount === "function" && instance.componentWillMount.__suppressDeprecationWarning !== true) {
          pendingComponentWillMountWarnings.push(fiber);
        }
        if (typeof instance.componentWillReceiveProps === "function" && instance.componentWillReceiveProps.__suppressDeprecationWarning !== true) {
          pendingComponentWillReceivePropsWarnings.push(fiber);
        }
        if (typeof instance.componentWillUpdate === "function" && instance.componentWillUpdate.__suppressDeprecationWarning !== true) {
          pendingComponentWillUpdateWarnings.push(fiber);
        }
      };

      ReactStrictModeWarnings.recordUnsafeLifecycleWarnings = function (fiber, instance) {
        var strictRoot = getStrictRoot(fiber);

        if (didWarnAboutUnsafeLifecycles.has(fiber.type)) {
          return;
        }

        if (typeof instance.componentWillMount === "function" && instance.componentWillMount.__suppressDeprecationWarning === true) {
          return;
        }

        var warningsForRoot = void 0;
        if (!pendingUnsafeLifecycleWarnings.has(strictRoot)) {
          warningsForRoot = {
            UNSAFE_componentWillMount: [],
            UNSAFE_componentWillReceiveProps: [],
            UNSAFE_componentWillUpdate: []
          };

          pendingUnsafeLifecycleWarnings.set(strictRoot, warningsForRoot);
        } else {
          warningsForRoot = pendingUnsafeLifecycleWarnings.get(strictRoot);
        }

        var unsafeLifecycles = [];
        if (typeof instance.componentWillMount === "function" || typeof instance.UNSAFE_componentWillMount === "function") {
          unsafeLifecycles.push("UNSAFE_componentWillMount");
        }
        if (typeof instance.componentWillReceiveProps === "function" || typeof instance.UNSAFE_componentWillReceiveProps === "function") {
          unsafeLifecycles.push("UNSAFE_componentWillReceiveProps");
        }
        if (typeof instance.componentWillUpdate === "function" || typeof instance.UNSAFE_componentWillUpdate === "function") {
          unsafeLifecycles.push("UNSAFE_componentWillUpdate");
        }

        if (unsafeLifecycles.length > 0) {
          unsafeLifecycles.forEach(function (lifecycle) {
            warningsForRoot[lifecycle].push(fiber);
          });
        }
      };
    }

    var _require = require("ReactFeatureFlags");

    var enableGetDerivedStateFromCatch = _require.enableGetDerivedStateFromCatch;
    var debugRenderPhaseSideEffects = _require.debugRenderPhaseSideEffects;
    var debugRenderPhaseSideEffectsForStrictMode = _require.debugRenderPhaseSideEffectsForStrictMode;
    var warnAboutDeprecatedLifecycles = _require.warnAboutDeprecatedLifecycles;
    var replayFailedUnitOfWorkWithInvokeGuardedCallback = _require.replayFailedUnitOfWorkWithInvokeGuardedCallback;

    var enableUserTimingAPI = true;
    var enableMutatingReconciler = true;
    var enableNoopReconciler = false;
    var enablePersistentReconciler = false;

    function getCurrentFiberOwnerName() {
      {
        var fiber = ReactDebugCurrentFiber.current;
        if (fiber === null) {
          return null;
        }
        var owner = fiber._debugOwner;
        if (owner !== null && typeof owner !== "undefined") {
          return getComponentName(owner);
        }
      }
      return null;
    }

    function getCurrentFiberStackAddendum() {
      {
        var fiber = ReactDebugCurrentFiber.current;
        if (fiber === null) {
          return null;
        }

        return getStackAddendumByWorkInProgressFiber(fiber);
      }
      return null;
    }

    function resetCurrentFiber() {
      ReactDebugCurrentFrame.getCurrentStack = null;
      ReactDebugCurrentFiber.current = null;
      ReactDebugCurrentFiber.phase = null;
    }

    function setCurrentFiber(fiber) {
      ReactDebugCurrentFrame.getCurrentStack = getCurrentFiberStackAddendum;
      ReactDebugCurrentFiber.current = fiber;
      ReactDebugCurrentFiber.phase = null;
    }

    function setCurrentPhase(phase) {
      ReactDebugCurrentFiber.phase = phase;
    }

    var ReactDebugCurrentFiber = {
      current: null,
      phase: null,
      resetCurrentFiber: resetCurrentFiber,
      setCurrentFiber: setCurrentFiber,
      setCurrentPhase: setCurrentPhase,
      getCurrentFiberOwnerName: getCurrentFiberOwnerName,
      getCurrentFiberStackAddendum: getCurrentFiberStackAddendum
    };

    var reactEmoji = "\u269B";
    var warningEmoji = "\u26D4";
    var supportsUserTiming = typeof performance !== "undefined" && typeof performance.mark === "function" && typeof performance.clearMarks === "function" && typeof performance.measure === "function" && typeof performance.clearMeasures === "function";

    var currentFiber = null;

    var currentPhase = null;
    var currentPhaseFiber = null;

    var isCommitting = false;
    var hasScheduledUpdateInCurrentCommit = false;
    var hasScheduledUpdateInCurrentPhase = false;
    var commitCountInCurrentWorkLoop = 0;
    var effectCountInCurrentCommit = 0;
    var isWaitingForCallback = false;

    var labelsInCurrentCommit = new Set();

    var formatMarkName = function formatMarkName(markName) {
      return reactEmoji + " " + markName;
    };

    var formatLabel = function formatLabel(label, warning$$1) {
      var prefix = warning$$1 ? warningEmoji + " " : reactEmoji + " ";
      var suffix = warning$$1 ? " Warning: " + warning$$1 : "";
      return "" + prefix + label + suffix;
    };

    var beginMark = function beginMark(markName) {
      performance.mark(formatMarkName(markName));
    };

    var clearMark = function clearMark(markName) {
      performance.clearMarks(formatMarkName(markName));
    };

    var endMark = function endMark(label, markName, warning$$1) {
      var formattedMarkName = formatMarkName(markName);
      var formattedLabel = formatLabel(label, warning$$1);
      try {
        performance.measure(formattedLabel, formattedMarkName);
      } catch (err) {}

      performance.clearMarks(formattedMarkName);
      performance.clearMeasures(formattedLabel);
    };

    var getFiberMarkName = function getFiberMarkName(label, debugID) {
      return label + " (#" + debugID + ")";
    };

    var getFiberLabel = function getFiberLabel(componentName, isMounted, phase) {
      if (phase === null) {
        return componentName + " [" + (isMounted ? "update" : "mount") + "]";
      } else {
        return componentName + "." + phase;
      }
    };

    var beginFiberMark = function beginFiberMark(fiber, phase) {
      var componentName = getComponentName(fiber) || "Unknown";
      var debugID = fiber._debugID;
      var isMounted = fiber.alternate !== null;
      var label = getFiberLabel(componentName, isMounted, phase);

      if (isCommitting && labelsInCurrentCommit.has(label)) {
        return false;
      }
      labelsInCurrentCommit.add(label);

      var markName = getFiberMarkName(label, debugID);
      beginMark(markName);
      return true;
    };

    var clearFiberMark = function clearFiberMark(fiber, phase) {
      var componentName = getComponentName(fiber) || "Unknown";
      var debugID = fiber._debugID;
      var isMounted = fiber.alternate !== null;
      var label = getFiberLabel(componentName, isMounted, phase);
      var markName = getFiberMarkName(label, debugID);
      clearMark(markName);
    };

    var endFiberMark = function endFiberMark(fiber, phase, warning$$1) {
      var componentName = getComponentName(fiber) || "Unknown";
      var debugID = fiber._debugID;
      var isMounted = fiber.alternate !== null;
      var label = getFiberLabel(componentName, isMounted, phase);
      var markName = getFiberMarkName(label, debugID);
      endMark(label, markName, warning$$1);
    };

    var shouldIgnoreFiber = function shouldIgnoreFiber(fiber) {
      switch (fiber.tag) {
        case HostRoot:
        case HostComponent:
        case HostText:
        case HostPortal:
        case CallComponent:
        case ReturnComponent:
        case Fragment:
        case ContextProvider:
        case ContextConsumer:
          return true;
        default:
          return false;
      }
    };

    var clearPendingPhaseMeasurement = function clearPendingPhaseMeasurement() {
      if (currentPhase !== null && currentPhaseFiber !== null) {
        clearFiberMark(currentPhaseFiber, currentPhase);
      }
      currentPhaseFiber = null;
      currentPhase = null;
      hasScheduledUpdateInCurrentPhase = false;
    };

    var pauseTimers = function pauseTimers() {
      var fiber = currentFiber;
      while (fiber) {
        if (fiber._debugIsCurrentlyTiming) {
          endFiberMark(fiber, null, null);
        }
        fiber = fiber["return"];
      }
    };

    var resumeTimersRecursively = function resumeTimersRecursively(fiber) {
      if (fiber["return"] !== null) {
        resumeTimersRecursively(fiber["return"]);
      }
      if (fiber._debugIsCurrentlyTiming) {
        beginFiberMark(fiber, null);
      }
    };

    var resumeTimers = function resumeTimers() {
      if (currentFiber !== null) {
        resumeTimersRecursively(currentFiber);
      }
    };

    function recordEffect() {
      if (enableUserTimingAPI) {
        effectCountInCurrentCommit++;
      }
    }

    function recordScheduleUpdate() {
      if (enableUserTimingAPI) {
        if (isCommitting) {
          hasScheduledUpdateInCurrentCommit = true;
        }
        if (currentPhase !== null && currentPhase !== "componentWillMount" && currentPhase !== "componentWillReceiveProps") {
          hasScheduledUpdateInCurrentPhase = true;
        }
      }
    }

    function startRequestCallbackTimer() {
      if (enableUserTimingAPI) {
        if (supportsUserTiming && !isWaitingForCallback) {
          isWaitingForCallback = true;
          beginMark("(Waiting for async callback...)");
        }
      }
    }

    function stopRequestCallbackTimer(didExpire, expirationTime) {
      if (enableUserTimingAPI) {
        if (supportsUserTiming) {
          isWaitingForCallback = false;
          var warning$$1 = didExpire ? "React was blocked by main thread" : null;
          endMark("(Waiting for async callback... will force flush in " + expirationTime + " ms)", "(Waiting for async callback...)", warning$$1);
        }
      }
    }

    function startWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        currentFiber = fiber;
        if (!beginFiberMark(fiber, null)) {
          return;
        }
        fiber._debugIsCurrentlyTiming = true;
      }
    }

    function cancelWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        fiber._debugIsCurrentlyTiming = false;
        clearFiberMark(fiber, null);
      }
    }

    function stopWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        currentFiber = fiber["return"];
        if (!fiber._debugIsCurrentlyTiming) {
          return;
        }
        fiber._debugIsCurrentlyTiming = false;
        endFiberMark(fiber, null, null);
      }
    }

    function stopFailedWorkTimer(fiber) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming || shouldIgnoreFiber(fiber)) {
          return;
        }

        currentFiber = fiber["return"];
        if (!fiber._debugIsCurrentlyTiming) {
          return;
        }
        fiber._debugIsCurrentlyTiming = false;
        var warning$$1 = "An error was thrown inside this error boundary";
        endFiberMark(fiber, null, warning$$1);
      }
    }

    function startPhaseTimer(fiber, phase) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        clearPendingPhaseMeasurement();
        if (!beginFiberMark(fiber, phase)) {
          return;
        }
        currentPhaseFiber = fiber;
        currentPhase = phase;
      }
    }

    function stopPhaseTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        if (currentPhase !== null && currentPhaseFiber !== null) {
          var warning$$1 = hasScheduledUpdateInCurrentPhase ? "Scheduled a cascading update" : null;
          endFiberMark(currentPhaseFiber, currentPhase, warning$$1);
        }
        currentPhase = null;
        currentPhaseFiber = null;
      }
    }

    function startWorkLoopTimer(nextUnitOfWork) {
      if (enableUserTimingAPI) {
        currentFiber = nextUnitOfWork;
        if (!supportsUserTiming) {
          return;
        }
        commitCountInCurrentWorkLoop = 0;

        beginMark("(React Tree Reconciliation)");

        resumeTimers();
      }
    }

    function stopWorkLoopTimer(interruptedBy, didCompleteRoot) {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        var warning$$1 = null;
        if (interruptedBy !== null) {
          if (interruptedBy.tag === HostRoot) {
            warning$$1 = "A top-level update interrupted the previous render";
          } else {
            var componentName = getComponentName(interruptedBy) || "Unknown";
            warning$$1 = "An update to " + componentName + " interrupted the previous render";
          }
        } else if (commitCountInCurrentWorkLoop > 1) {
          warning$$1 = "There were cascading updates";
        }
        commitCountInCurrentWorkLoop = 0;
        var label = didCompleteRoot ? "(React Tree Reconciliation: Completed Root)" : "(React Tree Reconciliation: Yielded)";

        pauseTimers();
        endMark(label, "(React Tree Reconciliation)", warning$$1);
      }
    }

    function startCommitTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        isCommitting = true;
        hasScheduledUpdateInCurrentCommit = false;
        labelsInCurrentCommit.clear();
        beginMark("(Committing Changes)");
      }
    }

    function stopCommitTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }

        var warning$$1 = null;
        if (hasScheduledUpdateInCurrentCommit) {
          warning$$1 = "Lifecycle hook scheduled a cascading update";
        } else if (commitCountInCurrentWorkLoop > 0) {
          warning$$1 = "Caused by a cascading update in earlier commit";
        }
        hasScheduledUpdateInCurrentCommit = false;
        commitCountInCurrentWorkLoop++;
        isCommitting = false;
        labelsInCurrentCommit.clear();

        endMark("(Committing Changes)", "(Committing Changes)", warning$$1);
      }
    }

    function startCommitSnapshotEffectsTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        effectCountInCurrentCommit = 0;
        beginMark("(Committing Snapshot Effects)");
      }
    }

    function stopCommitSnapshotEffectsTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        var count = effectCountInCurrentCommit;
        effectCountInCurrentCommit = 0;
        endMark("(Committing Snapshot Effects: " + count + " Total)", "(Committing Snapshot Effects)", null);
      }
    }

    function startCommitHostEffectsTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        effectCountInCurrentCommit = 0;
        beginMark("(Committing Host Effects)");
      }
    }

    function stopCommitHostEffectsTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        var count = effectCountInCurrentCommit;
        effectCountInCurrentCommit = 0;
        endMark("(Committing Host Effects: " + count + " Total)", "(Committing Host Effects)", null);
      }
    }

    function startCommitLifeCyclesTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        effectCountInCurrentCommit = 0;
        beginMark("(Calling Lifecycle Methods)");
      }
    }

    function stopCommitLifeCyclesTimer() {
      if (enableUserTimingAPI) {
        if (!supportsUserTiming) {
          return;
        }
        var count = effectCountInCurrentCommit;
        effectCountInCurrentCommit = 0;
        endMark("(Calling Lifecycle Methods: " + count + " Total)", "(Calling Lifecycle Methods)", null);
      }
    }

    var didWarnUpdateInsideUpdate = void 0;

    {
      didWarnUpdateInsideUpdate = false;
    }

    function createUpdateQueue(baseState) {
      var queue = {
        baseState: baseState,
        expirationTime: NoWork,
        first: null,
        last: null,
        callbackList: null,
        hasForceUpdate: false,
        isInitialized: false,
        capturedValues: null
      };
      {
        queue.isProcessing = false;
      }
      return queue;
    }

    function insertUpdateIntoQueue(queue, update) {
      if (queue.last === null) {
        queue.first = queue.last = update;
      } else {
        queue.last.next = update;
        queue.last = update;
      }
      if (queue.expirationTime === NoWork || queue.expirationTime > update.expirationTime) {
        queue.expirationTime = update.expirationTime;
      }
    }

    var q1 = void 0;
    var q2 = void 0;
    function ensureUpdateQueues(fiber) {
      q1 = q2 = null;

      var alternateFiber = fiber.alternate;
      var queue1 = fiber.updateQueue;
      if (queue1 === null) {
        queue1 = fiber.updateQueue = createUpdateQueue(null);
      }

      var queue2 = void 0;
      if (alternateFiber !== null) {
        queue2 = alternateFiber.updateQueue;
        if (queue2 === null) {
          queue2 = alternateFiber.updateQueue = createUpdateQueue(null);
        }
      } else {
        queue2 = null;
      }
      queue2 = queue2 !== queue1 ? queue2 : null;

      q1 = queue1;
      q2 = queue2;
    }

    function insertUpdateIntoFiber(fiber, update) {
      ensureUpdateQueues(fiber);
      var queue1 = q1;
      var queue2 = q2;

      {
        if ((queue1.isProcessing || queue2 !== null && queue2.isProcessing) && !didWarnUpdateInsideUpdate) {
          warning(false, "An update (setState, replaceState, or forceUpdate) was scheduled " + "from inside an update function. Update functions should be pure, " + "with zero side-effects. Consider using componentDidUpdate or a " + "callback.");
          didWarnUpdateInsideUpdate = true;
        }
      }

      if (queue2 === null) {
        insertUpdateIntoQueue(queue1, update);
        return;
      }

      if (queue1.last === null || queue2.last === null) {
        insertUpdateIntoQueue(queue1, update);
        insertUpdateIntoQueue(queue2, update);
        return;
      }

      insertUpdateIntoQueue(queue1, update);

      queue2.last = update;
    }

    function getUpdateExpirationTime(fiber) {
      switch (fiber.tag) {
        case HostRoot:
        case ClassComponent:
          var updateQueue = fiber.updateQueue;
          if (updateQueue === null) {
            return NoWork;
          }
          return updateQueue.expirationTime;
        default:
          return NoWork;
      }
    }

    function getStateFromUpdate(update, instance, prevState, props) {
      var partialState = update.partialState;
      if (typeof partialState === "function") {
        return partialState.call(instance, prevState, props);
      } else {
        return partialState;
      }
    }

    function processUpdateQueue(current, workInProgress, queue, instance, props, renderExpirationTime) {
      if (current !== null && current.updateQueue === queue) {
        var currentQueue = queue;
        queue = workInProgress.updateQueue = {
          baseState: currentQueue.baseState,
          expirationTime: currentQueue.expirationTime,
          first: currentQueue.first,
          last: currentQueue.last,
          isInitialized: currentQueue.isInitialized,
          capturedValues: currentQueue.capturedValues,

          callbackList: null,
          hasForceUpdate: false
        };
      }

      {
        queue.isProcessing = true;
      }

      queue.expirationTime = NoWork;

      var state = void 0;
      if (queue.isInitialized) {
        state = queue.baseState;
      } else {
        state = queue.baseState = workInProgress.memoizedState;
        queue.isInitialized = true;
      }
      var dontMutatePrevState = true;
      var update = queue.first;
      var didSkip = false;
      while (update !== null) {
        var updateExpirationTime = update.expirationTime;
        if (updateExpirationTime > renderExpirationTime) {
          var remainingExpirationTime = queue.expirationTime;
          if (remainingExpirationTime === NoWork || remainingExpirationTime > updateExpirationTime) {
            queue.expirationTime = updateExpirationTime;
          }
          if (!didSkip) {
            didSkip = true;
            queue.baseState = state;
          }

          update = update.next;
          continue;
        }

        if (!didSkip) {
          queue.first = update.next;
          if (queue.first === null) {
            queue.last = null;
          }
        }

        if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
          getStateFromUpdate(update, instance, state, props);
        }

        var _partialState = void 0;
        if (update.isReplace) {
          state = getStateFromUpdate(update, instance, state, props);
          dontMutatePrevState = true;
        } else {
          _partialState = getStateFromUpdate(update, instance, state, props);
          if (_partialState) {
            if (dontMutatePrevState) {
              state = _extends({}, state, _partialState);
            } else {
              state = _extends(state, _partialState);
            }
            dontMutatePrevState = false;
          }
        }
        if (update.isForced) {
          queue.hasForceUpdate = true;
        }
        if (update.callback !== null) {
          var _callbackList = queue.callbackList;
          if (_callbackList === null) {
            _callbackList = queue.callbackList = [];
          }
          _callbackList.push(update);
        }
        if (update.capturedValue !== null) {
          var _capturedValues = queue.capturedValues;
          if (_capturedValues === null) {
            queue.capturedValues = [update.capturedValue];
          } else {
            _capturedValues.push(update.capturedValue);
          }
        }
        update = update.next;
      }

      if (queue.callbackList !== null) {
        workInProgress.effectTag |= Callback;
      } else if (queue.first === null && !queue.hasForceUpdate && queue.capturedValues === null) {
        workInProgress.updateQueue = null;
      }

      if (!didSkip) {
        didSkip = true;
        queue.baseState = state;
      }

      {
        queue.isProcessing = false;
      }

      return state;
    }

    function commitCallbacks(queue, context) {
      var callbackList = queue.callbackList;
      if (callbackList === null) {
        return;
      }

      queue.callbackList = null;
      for (var i = 0; i < callbackList.length; i++) {
        var update = callbackList[i];
        var _callback = update.callback;

        update.callback = null;
        invariant(typeof _callback === "function", "Invalid argument passed as callback. Expected a function. Instead " + "received: %s", _callback);
        _callback.call(context);
      }
    }

    var fakeInternalInstance = {};
    var isArray = Array.isArray;

    var didWarnAboutStateAssignmentForComponent = void 0;
    var didWarnAboutUndefinedDerivedState = void 0;
    var didWarnAboutUninitializedState = void 0;
    var didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate = void 0;
    var didWarnAboutLegacyLifecyclesAndDerivedState = void 0;
    var warnOnInvalidCallback = void 0;

    {
      didWarnAboutStateAssignmentForComponent = new Set();
      didWarnAboutUndefinedDerivedState = new Set();
      didWarnAboutUninitializedState = new Set();
      didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate = new Set();
      didWarnAboutLegacyLifecyclesAndDerivedState = new Set();

      var didWarnOnInvalidCallback = new Set();

      warnOnInvalidCallback = function warnOnInvalidCallback(callback, callerName) {
        if (callback === null || typeof callback === "function") {
          return;
        }
        var key = callerName + "_" + callback;
        if (!didWarnOnInvalidCallback.has(key)) {
          didWarnOnInvalidCallback.add(key);
          warning(false, "%s(...): Expected the last optional `callback` argument to be a " + "function. Instead received: %s.", callerName, callback);
        }
      };

      Object.defineProperty(fakeInternalInstance, "_processChildContext", {
        enumerable: false,
        value: function value() {
          invariant(false, "_processChildContext is not available in React 16+. This likely " + "means you have multiple copies of React and are attempting to nest " + "a React 15 tree inside a React 16 tree using " + "unstable_renderSubtreeIntoContainer, which isn't supported. Try " + "to make sure you have only one copy of React (and ideally, switch " + "to ReactDOM.createPortal).");
        }
      });
      Object.freeze(fakeInternalInstance);
    }
    function callGetDerivedStateFromCatch(ctor, capturedValues) {
      var resultState = {};
      for (var i = 0; i < capturedValues.length; i++) {
        var capturedValue = capturedValues[i];
        var error = capturedValue.value;
        var partialState = ctor.getDerivedStateFromCatch.call(null, error);
        if (partialState !== null && partialState !== undefined) {
          _extends(resultState, partialState);
        }
      }
      return resultState;
    }

    var ReactFiberClassComponent = function ReactFiberClassComponent(legacyContext, scheduleWork, computeExpirationForFiber, memoizeProps, memoizeState) {
      var cacheContext = legacyContext.cacheContext,
          getMaskedContext = legacyContext.getMaskedContext,
          getUnmaskedContext = legacyContext.getUnmaskedContext,
          isContextConsumer = legacyContext.isContextConsumer,
          hasContextChanged = legacyContext.hasContextChanged;

      var updater = {
        isMounted: isMounted,
        enqueueSetState: function enqueueSetState(instance, partialState, callback) {
          var fiber = get(instance);
          callback = callback === undefined ? null : callback;
          {
            warnOnInvalidCallback(callback, "setState");
          }
          var expirationTime = computeExpirationForFiber(fiber);
          var update = {
            expirationTime: expirationTime,
            partialState: partialState,
            callback: callback,
            isReplace: false,
            isForced: false,
            capturedValue: null,
            next: null
          };
          insertUpdateIntoFiber(fiber, update);
          scheduleWork(fiber, expirationTime);
        },
        enqueueReplaceState: function enqueueReplaceState(instance, state, callback) {
          var fiber = get(instance);
          callback = callback === undefined ? null : callback;
          {
            warnOnInvalidCallback(callback, "replaceState");
          }
          var expirationTime = computeExpirationForFiber(fiber);
          var update = {
            expirationTime: expirationTime,
            partialState: state,
            callback: callback,
            isReplace: true,
            isForced: false,
            capturedValue: null,
            next: null
          };
          insertUpdateIntoFiber(fiber, update);
          scheduleWork(fiber, expirationTime);
        },
        enqueueForceUpdate: function enqueueForceUpdate(instance, callback) {
          var fiber = get(instance);
          callback = callback === undefined ? null : callback;
          {
            warnOnInvalidCallback(callback, "forceUpdate");
          }
          var expirationTime = computeExpirationForFiber(fiber);
          var update = {
            expirationTime: expirationTime,
            partialState: null,
            callback: callback,
            isReplace: false,
            isForced: true,
            capturedValue: null,
            next: null
          };
          insertUpdateIntoFiber(fiber, update);
          scheduleWork(fiber, expirationTime);
        }
      };

      function checkShouldComponentUpdate(workInProgress, oldProps, newProps, oldState, newState, newContext) {
        if (oldProps === null || workInProgress.updateQueue !== null && workInProgress.updateQueue.hasForceUpdate) {
          return true;
        }

        var instance = workInProgress.stateNode;
        var ctor = workInProgress.type;
        if (typeof instance.shouldComponentUpdate === "function") {
          startPhaseTimer(workInProgress, "shouldComponentUpdate");
          var shouldUpdate = instance.shouldComponentUpdate(newProps, newState, newContext);
          stopPhaseTimer();

          {
            !(shouldUpdate !== undefined) ? warning(false, "%s.shouldComponentUpdate(): Returned undefined instead of a " + "boolean value. Make sure to return true or false.", getComponentName(workInProgress) || "Component") : void 0;
          }

          return shouldUpdate;
        }

        if (ctor.prototype && ctor.prototype.isPureReactComponent) {
          return !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState);
        }

        return true;
      }

      function checkClassInstance(workInProgress) {
        var instance = workInProgress.stateNode;
        var type = workInProgress.type;
        {
          var name = getComponentName(workInProgress) || "Component";
          var renderPresent = instance.render;

          if (!renderPresent) {
            if (type.prototype && typeof type.prototype.render === "function") {
              warning(false, "%s(...): No `render` method found on the returned component " + "instance: did you accidentally return an object from the constructor?", name);
            } else {
              warning(false, "%s(...): No `render` method found on the returned component " + "instance: you may have forgotten to define `render`.", name);
            }
          }

          var noGetInitialStateOnES6 = !instance.getInitialState || instance.getInitialState.isReactClassApproved || instance.state;
          !noGetInitialStateOnES6 ? warning(false, "getInitialState was defined on %s, a plain JavaScript class. " + "This is only supported for classes created using React.createClass. " + "Did you mean to define a state property instead?", name) : void 0;
          var noGetDefaultPropsOnES6 = !instance.getDefaultProps || instance.getDefaultProps.isReactClassApproved;
          !noGetDefaultPropsOnES6 ? warning(false, "getDefaultProps was defined on %s, a plain JavaScript class. " + "This is only supported for classes created using React.createClass. " + "Use a static property to define defaultProps instead.", name) : void 0;
          var noInstancePropTypes = !instance.propTypes;
          !noInstancePropTypes ? warning(false, "propTypes was defined as an instance property on %s. Use a static " + "property to define propTypes instead.", name) : void 0;
          var noInstanceContextTypes = !instance.contextTypes;
          !noInstanceContextTypes ? warning(false, "contextTypes was defined as an instance property on %s. Use a static " + "property to define contextTypes instead.", name) : void 0;
          var noComponentShouldUpdate = typeof instance.componentShouldUpdate !== "function";
          !noComponentShouldUpdate ? warning(false, "%s has a method called " + "componentShouldUpdate(). Did you mean shouldComponentUpdate()? " + "The name is phrased as a question because the function is " + "expected to return a value.", name) : void 0;
          if (type.prototype && type.prototype.isPureReactComponent && typeof instance.shouldComponentUpdate !== "undefined") {
            warning(false, "%s has a method called shouldComponentUpdate(). " + "shouldComponentUpdate should not be used when extending React.PureComponent. " + "Please extend React.Component if shouldComponentUpdate is used.", getComponentName(workInProgress) || "A pure component");
          }
          var noComponentDidUnmount = typeof instance.componentDidUnmount !== "function";
          !noComponentDidUnmount ? warning(false, "%s has a method called " + "componentDidUnmount(). But there is no such lifecycle method. " + "Did you mean componentWillUnmount()?", name) : void 0;
          var noComponentDidReceiveProps = typeof instance.componentDidReceiveProps !== "function";
          !noComponentDidReceiveProps ? warning(false, "%s has a method called " + "componentDidReceiveProps(). But there is no such lifecycle method. " + "If you meant to update the state in response to changing props, " + "use componentWillReceiveProps(). If you meant to fetch data or " + "run side-effects or mutations after React has updated the UI, use componentDidUpdate().", name) : void 0;
          var noComponentWillRecieveProps = typeof instance.componentWillRecieveProps !== "function";
          !noComponentWillRecieveProps ? warning(false, "%s has a method called " + "componentWillRecieveProps(). Did you mean componentWillReceiveProps()?", name) : void 0;
          var noUnsafeComponentWillRecieveProps = typeof instance.UNSAFE_componentWillRecieveProps !== "function";
          !noUnsafeComponentWillRecieveProps ? warning(false, "%s has a method called " + "UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?", name) : void 0;
          var hasMutatedProps = instance.props !== workInProgress.pendingProps;
          !(instance.props === undefined || !hasMutatedProps) ? warning(false, "%s(...): When calling super() in `%s`, make sure to pass " + "up the same props that your component's constructor was passed.", name, name) : void 0;
          var noInstanceDefaultProps = !instance.defaultProps;
          !noInstanceDefaultProps ? warning(false, "Setting defaultProps as an instance property on %s is not supported and will be ignored." + " Instead, define defaultProps as a static property on %s.", name, name) : void 0;

          if (typeof instance.getSnapshotBeforeUpdate === "function" && typeof instance.componentDidUpdate !== "function" && typeof instance.componentDidUpdate !== "function" && !didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.has(type)) {
            didWarnAboutGetSnapshotBeforeUpdateWithoutDidUpdate.add(type);
            warning(false, "%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). " + "This component defines getSnapshotBeforeUpdate() only.", getComponentName(workInProgress));
          }

          var noInstanceGetDerivedStateFromProps = typeof instance.getDerivedStateFromProps !== "function";
          !noInstanceGetDerivedStateFromProps ? warning(false, "%s: getDerivedStateFromProps() is defined as an instance method " + "and will be ignored. Instead, declare it as a static method.", name) : void 0;
          var noInstanceGetDerivedStateFromCatch = typeof instance.getDerivedStateFromCatch !== "function";
          !noInstanceGetDerivedStateFromCatch ? warning(false, "%s: getDerivedStateFromCatch() is defined as an instance method " + "and will be ignored. Instead, declare it as a static method.", name) : void 0;
          var noStaticGetSnapshotBeforeUpdate = typeof type.getSnapshotBeforeUpdate !== "function";
          !noStaticGetSnapshotBeforeUpdate ? warning(false, "%s: getSnapshotBeforeUpdate() is defined as a static method " + "and will be ignored. Instead, declare it as an instance method.", name) : void 0;
          var _state = instance.state;
          if (_state && (typeof _state !== "object" || isArray(_state))) {
            warning(false, "%s.state: must be set to an object or null", name);
          }
          if (typeof instance.getChildContext === "function") {
            !(typeof type.childContextTypes === "object") ? warning(false, "%s.getChildContext(): childContextTypes must be defined in order to " + "use getChildContext().", name) : void 0;
          }
        }
      }

      function resetInputPointers(workInProgress, instance) {
        instance.props = workInProgress.memoizedProps;
        instance.state = workInProgress.memoizedState;
      }

      function adoptClassInstance(workInProgress, instance) {
        instance.updater = updater;
        workInProgress.stateNode = instance;

        set(instance, workInProgress);
        {
          instance._reactInternalInstance = fakeInternalInstance;
        }
      }

      function constructClassInstance(workInProgress, props) {
        var ctor = workInProgress.type;
        var unmaskedContext = getUnmaskedContext(workInProgress);
        var needsContext = isContextConsumer(workInProgress);
        var context = needsContext ? getMaskedContext(workInProgress, unmaskedContext) : emptyObject;

        if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
          new ctor(props, context);
        }

        var instance = new ctor(props, context);
        var state = instance.state !== null && instance.state !== undefined ? instance.state : null;
        adoptClassInstance(workInProgress, instance);

        {
          if (typeof ctor.getDerivedStateFromProps === "function" && state === null) {
            var componentName = getComponentName(workInProgress) || "Component";
            if (!didWarnAboutUninitializedState.has(componentName)) {
              didWarnAboutUninitializedState.add(componentName);
              warning(false, "%s: Did not properly initialize state during construction. " + "Expected state to be an object, but it was %s.", componentName, instance.state === null ? "null" : "undefined");
            }
          }

          if (typeof ctor.getDerivedStateFromProps === "function" || typeof instance.getSnapshotBeforeUpdate === "function") {
            var foundWillMountName = null;
            var foundWillReceivePropsName = null;
            var foundWillUpdateName = null;
            if (typeof instance.componentWillMount === "function" && instance.componentWillMount.__suppressDeprecationWarning !== true) {
              foundWillMountName = "componentWillMount";
            } else if (typeof instance.UNSAFE_componentWillMount === "function") {
              foundWillMountName = "UNSAFE_componentWillMount";
            }
            if (typeof instance.componentWillReceiveProps === "function" && instance.componentWillReceiveProps.__suppressDeprecationWarning !== true) {
              foundWillReceivePropsName = "componentWillReceiveProps";
            } else if (typeof instance.UNSAFE_componentWillReceiveProps === "function") {
              foundWillReceivePropsName = "UNSAFE_componentWillReceiveProps";
            }
            if (typeof instance.componentWillUpdate === "function" && instance.componentWillUpdate.__suppressDeprecationWarning !== true) {
              foundWillUpdateName = "componentWillUpdate";
            } else if (typeof instance.UNSAFE_componentWillUpdate === "function") {
              foundWillUpdateName = "UNSAFE_componentWillUpdate";
            }
            if (foundWillMountName !== null || foundWillReceivePropsName !== null || foundWillUpdateName !== null) {
              var _componentName = getComponentName(workInProgress) || "Component";
              var newApiName = typeof ctor.getDerivedStateFromProps === "function" ? "getDerivedStateFromProps()" : "getSnapshotBeforeUpdate()";
              if (!didWarnAboutLegacyLifecyclesAndDerivedState.has(_componentName)) {
                didWarnAboutLegacyLifecyclesAndDerivedState.add(_componentName);
                warning(false, "Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n" + "%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\n" + "The above lifecycles should be removed. Learn more about this warning here:\n" + "https://fb.me/react-async-component-lifecycle-hooks", _componentName, newApiName, foundWillMountName !== null ? "\n  " + foundWillMountName : "", foundWillReceivePropsName !== null ? "\n  " + foundWillReceivePropsName : "", foundWillUpdateName !== null ? "\n  " + foundWillUpdateName : "");
              }
            }
          }
        }

        workInProgress.memoizedState = state;

        var partialState = callGetDerivedStateFromProps(workInProgress, instance, props, state);

        if (partialState !== null && partialState !== undefined) {
          workInProgress.memoizedState = _extends({}, workInProgress.memoizedState, partialState);
        }

        if (needsContext) {
          cacheContext(workInProgress, unmaskedContext, context);
        }

        return instance;
      }

      function callComponentWillMount(workInProgress, instance) {
        startPhaseTimer(workInProgress, "componentWillMount");
        var oldState = instance.state;

        if (typeof instance.componentWillMount === "function") {
          instance.componentWillMount();
        }
        if (typeof instance.UNSAFE_componentWillMount === "function") {
          instance.UNSAFE_componentWillMount();
        }

        stopPhaseTimer();

        if (oldState !== instance.state) {
          {
            warning(false, "%s.componentWillMount(): Assigning directly to this.state is " + "deprecated (except inside a component's " + "constructor). Use setState instead.", getComponentName(workInProgress) || "Component");
          }
          updater.enqueueReplaceState(instance, instance.state, null);
        }
      }

      function callComponentWillReceiveProps(workInProgress, instance, newProps, newContext) {
        var oldState = instance.state;
        startPhaseTimer(workInProgress, "componentWillReceiveProps");
        if (typeof instance.componentWillReceiveProps === "function") {
          instance.componentWillReceiveProps(newProps, newContext);
        }
        if (typeof instance.UNSAFE_componentWillReceiveProps === "function") {
          instance.UNSAFE_componentWillReceiveProps(newProps, newContext);
        }
        stopPhaseTimer();

        if (instance.state !== oldState) {
          {
            var componentName = getComponentName(workInProgress) || "Component";
            if (!didWarnAboutStateAssignmentForComponent.has(componentName)) {
              didWarnAboutStateAssignmentForComponent.add(componentName);
              warning(false, "%s.componentWillReceiveProps(): Assigning directly to " + "this.state is deprecated (except inside a component's " + "constructor). Use setState instead.", componentName);
            }
          }
          updater.enqueueReplaceState(instance, instance.state, null);
        }
      }

      function callGetDerivedStateFromProps(workInProgress, instance, nextProps, prevState) {
        var type = workInProgress.type;

        if (typeof type.getDerivedStateFromProps === "function") {
          if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
            type.getDerivedStateFromProps.call(null, nextProps, prevState);
          }

          var partialState = type.getDerivedStateFromProps.call(null, nextProps, prevState);

          {
            if (partialState === undefined) {
              var componentName = getComponentName(workInProgress) || "Component";
              if (!didWarnAboutUndefinedDerivedState.has(componentName)) {
                didWarnAboutUndefinedDerivedState.add(componentName);
                warning(false, "%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. " + "You have returned undefined.", componentName);
              }
            }
          }

          return partialState;
        }
      }

      function mountClassInstance(workInProgress, renderExpirationTime) {
        var ctor = workInProgress.type;
        var current = workInProgress.alternate;

        {
          checkClassInstance(workInProgress);
        }

        var instance = workInProgress.stateNode;
        var props = workInProgress.pendingProps;
        var unmaskedContext = getUnmaskedContext(workInProgress);

        instance.props = props;
        instance.state = workInProgress.memoizedState;
        instance.refs = emptyObject;
        instance.context = getMaskedContext(workInProgress, unmaskedContext);

        {
          if (workInProgress.mode & StrictMode) {
            ReactStrictModeWarnings.recordUnsafeLifecycleWarnings(workInProgress, instance);
          }

          if (warnAboutDeprecatedLifecycles) {
            ReactStrictModeWarnings.recordDeprecationWarnings(workInProgress, instance);
          }
        }

        if (typeof ctor.getDerivedStateFromProps !== "function" && typeof instance.getSnapshotBeforeUpdate !== "function" && (typeof instance.UNSAFE_componentWillMount === "function" || typeof instance.componentWillMount === "function")) {
          callComponentWillMount(workInProgress, instance);

          var updateQueue = workInProgress.updateQueue;
          if (updateQueue !== null) {
            instance.state = processUpdateQueue(current, workInProgress, updateQueue, instance, props, renderExpirationTime);
          }
        }
        if (typeof instance.componentDidMount === "function") {
          workInProgress.effectTag |= Update;
        }
      }

      function resumeMountClassInstance(workInProgress, renderExpirationTime) {
        var ctor = workInProgress.type;
        var instance = workInProgress.stateNode;
        resetInputPointers(workInProgress, instance);

        var oldProps = workInProgress.memoizedProps;
        var newProps = workInProgress.pendingProps;
        var oldContext = instance.context;
        var newUnmaskedContext = getUnmaskedContext(workInProgress);
        var newContext = getMaskedContext(workInProgress, newUnmaskedContext);

        var hasNewLifecycles = typeof ctor.getDerivedStateFromProps === "function" || typeof instance.getSnapshotBeforeUpdate === "function";

        if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillReceiveProps === "function" || typeof instance.componentWillReceiveProps === "function")) {
          if (oldProps !== newProps || oldContext !== newContext) {
            callComponentWillReceiveProps(workInProgress, instance, newProps, newContext);
          }
        }

        var oldState = workInProgress.memoizedState;

        var newState = void 0;
        var derivedStateFromCatch = void 0;
        if (workInProgress.updateQueue !== null) {
          newState = processUpdateQueue(null, workInProgress, workInProgress.updateQueue, instance, newProps, renderExpirationTime);

          var updateQueue = workInProgress.updateQueue;
          if (updateQueue !== null && updateQueue.capturedValues !== null && enableGetDerivedStateFromCatch && typeof ctor.getDerivedStateFromCatch === "function") {
            var capturedValues = updateQueue.capturedValues;

            derivedStateFromCatch = callGetDerivedStateFromCatch(ctor, capturedValues);
          }
        } else {
          newState = oldState;
        }

        var derivedStateFromProps = void 0;
        if (oldProps !== newProps) {
          derivedStateFromProps = callGetDerivedStateFromProps(workInProgress, instance, newProps, newState);
        }

        if (derivedStateFromProps !== null && derivedStateFromProps !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromProps : _extends({}, newState, derivedStateFromProps);

          var _updateQueue = workInProgress.updateQueue;
          if (_updateQueue !== null) {
            _updateQueue.baseState = _extends({}, _updateQueue.baseState, derivedStateFromProps);
          }
        }
        if (derivedStateFromCatch !== null && derivedStateFromCatch !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromCatch : _extends({}, newState, derivedStateFromCatch);

          var _updateQueue2 = workInProgress.updateQueue;
          if (_updateQueue2 !== null) {
            _updateQueue2.baseState = _extends({}, _updateQueue2.baseState, derivedStateFromCatch);
          }
        }

        if (oldProps === newProps && oldState === newState && !hasContextChanged() && !(workInProgress.updateQueue !== null && workInProgress.updateQueue.hasForceUpdate)) {
          if (typeof instance.componentDidMount === "function") {
            workInProgress.effectTag |= Update;
          }
          return false;
        }

        var shouldUpdate = checkShouldComponentUpdate(workInProgress, oldProps, newProps, oldState, newState, newContext);

        if (shouldUpdate) {
          if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillMount === "function" || typeof instance.componentWillMount === "function")) {
            startPhaseTimer(workInProgress, "componentWillMount");
            if (typeof instance.componentWillMount === "function") {
              instance.componentWillMount();
            }
            if (typeof instance.UNSAFE_componentWillMount === "function") {
              instance.UNSAFE_componentWillMount();
            }
            stopPhaseTimer();
          }
          if (typeof instance.componentDidMount === "function") {
            workInProgress.effectTag |= Update;
          }
        } else {
          if (typeof instance.componentDidMount === "function") {
            workInProgress.effectTag |= Update;
          }

          memoizeProps(workInProgress, newProps);
          memoizeState(workInProgress, newState);
        }

        instance.props = newProps;
        instance.state = newState;
        instance.context = newContext;

        return shouldUpdate;
      }

      function updateClassInstance(current, workInProgress, renderExpirationTime) {
        var ctor = workInProgress.type;
        var instance = workInProgress.stateNode;
        resetInputPointers(workInProgress, instance);

        var oldProps = workInProgress.memoizedProps;
        var newProps = workInProgress.pendingProps;
        var oldContext = instance.context;
        var newUnmaskedContext = getUnmaskedContext(workInProgress);
        var newContext = getMaskedContext(workInProgress, newUnmaskedContext);

        var hasNewLifecycles = typeof ctor.getDerivedStateFromProps === "function" || typeof instance.getSnapshotBeforeUpdate === "function";

        if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillReceiveProps === "function" || typeof instance.componentWillReceiveProps === "function")) {
          if (oldProps !== newProps || oldContext !== newContext) {
            callComponentWillReceiveProps(workInProgress, instance, newProps, newContext);
          }
        }

        var oldState = workInProgress.memoizedState;

        var newState = void 0;
        var derivedStateFromCatch = void 0;

        if (workInProgress.updateQueue !== null) {
          newState = processUpdateQueue(current, workInProgress, workInProgress.updateQueue, instance, newProps, renderExpirationTime);

          var updateQueue = workInProgress.updateQueue;
          if (updateQueue !== null && updateQueue.capturedValues !== null && enableGetDerivedStateFromCatch && typeof ctor.getDerivedStateFromCatch === "function") {
            var capturedValues = updateQueue.capturedValues;

            derivedStateFromCatch = callGetDerivedStateFromCatch(ctor, capturedValues);
          }
        } else {
          newState = oldState;
        }

        var derivedStateFromProps = void 0;
        if (oldProps !== newProps) {
          derivedStateFromProps = callGetDerivedStateFromProps(workInProgress, instance, newProps, newState);
        }

        if (derivedStateFromProps !== null && derivedStateFromProps !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromProps : _extends({}, newState, derivedStateFromProps);

          var _updateQueue3 = workInProgress.updateQueue;
          if (_updateQueue3 !== null) {
            _updateQueue3.baseState = _extends({}, _updateQueue3.baseState, derivedStateFromProps);
          }
        }
        if (derivedStateFromCatch !== null && derivedStateFromCatch !== undefined) {
          newState = newState === null || newState === undefined ? derivedStateFromCatch : _extends({}, newState, derivedStateFromCatch);

          var _updateQueue4 = workInProgress.updateQueue;
          if (_updateQueue4 !== null) {
            _updateQueue4.baseState = _extends({}, _updateQueue4.baseState, derivedStateFromCatch);
          }
        }

        if (oldProps === newProps && oldState === newState && !hasContextChanged() && !(workInProgress.updateQueue !== null && workInProgress.updateQueue.hasForceUpdate)) {
          if (typeof instance.componentDidUpdate === "function") {
            if (oldProps !== current.memoizedProps || oldState !== current.memoizedState) {
              workInProgress.effectTag |= Update;
            }
          }
          if (typeof instance.getSnapshotBeforeUpdate === "function") {
            if (oldProps !== current.memoizedProps || oldState !== current.memoizedState) {
              workInProgress.effectTag |= Snapshot;
            }
          }
          return false;
        }

        var shouldUpdate = checkShouldComponentUpdate(workInProgress, oldProps, newProps, oldState, newState, newContext);

        if (shouldUpdate) {
          if (!hasNewLifecycles && (typeof instance.UNSAFE_componentWillUpdate === "function" || typeof instance.componentWillUpdate === "function")) {
            startPhaseTimer(workInProgress, "componentWillUpdate");
            if (typeof instance.componentWillUpdate === "function") {
              instance.componentWillUpdate(newProps, newState, newContext);
            }
            if (typeof instance.UNSAFE_componentWillUpdate === "function") {
              instance.UNSAFE_componentWillUpdate(newProps, newState, newContext);
            }
            stopPhaseTimer();
          }
          if (typeof instance.componentDidUpdate === "function") {
            workInProgress.effectTag |= Update;
          }
          if (typeof instance.getSnapshotBeforeUpdate === "function") {
            workInProgress.effectTag |= Snapshot;
          }
        } else {
          if (typeof instance.componentDidUpdate === "function") {
            if (oldProps !== current.memoizedProps || oldState !== current.memoizedState) {
              workInProgress.effectTag |= Update;
            }
          }
          if (typeof instance.getSnapshotBeforeUpdate === "function") {
            if (oldProps !== current.memoizedProps || oldState !== current.memoizedState) {
              workInProgress.effectTag |= Snapshot;
            }
          }

          memoizeProps(workInProgress, newProps);
          memoizeState(workInProgress, newState);
        }

        instance.props = newProps;
        instance.state = newState;
        instance.context = newContext;

        return shouldUpdate;
      }

      return {
        adoptClassInstance: adoptClassInstance,
        callGetDerivedStateFromProps: callGetDerivedStateFromProps,
        constructClassInstance: constructClassInstance,
        mountClassInstance: mountClassInstance,
        resumeMountClassInstance: resumeMountClassInstance,
        updateClassInstance: updateClassInstance
      };
    };

    var getCurrentFiberStackAddendum$1 = ReactDebugCurrentFiber.getCurrentFiberStackAddendum;

    var didWarnAboutMaps = void 0;
    var didWarnAboutStringRefInStrictMode = void 0;
    var ownerHasKeyUseWarning = void 0;
    var ownerHasFunctionTypeWarning = void 0;
    var warnForMissingKey = function warnForMissingKey(child) {};

    {
      didWarnAboutMaps = false;
      didWarnAboutStringRefInStrictMode = {};

      ownerHasKeyUseWarning = {};
      ownerHasFunctionTypeWarning = {};

      warnForMissingKey = function warnForMissingKey(child) {
        if (child === null || typeof child !== "object") {
          return;
        }
        if (!child._store || child._store.validated || child.key != null) {
          return;
        }
        invariant(typeof child._store === "object", "React Component in warnForMissingKey should have a _store. " + "This error is likely caused by a bug in React. Please file an issue.");
        child._store.validated = true;

        var currentComponentErrorInfo = "Each child in an array or iterator should have a unique " + '"key" prop. See https://fb.me/react-warning-keys for ' + "more information." + (getCurrentFiberStackAddendum$1() || "");
        if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {
          return;
        }
        ownerHasKeyUseWarning[currentComponentErrorInfo] = true;

        warning(false, "Each child in an array or iterator should have a unique " + '"key" prop. See https://fb.me/react-warning-keys for ' + "more information.%s", getCurrentFiberStackAddendum$1());
      };
    }

    var isArray$1 = Array.isArray;

    function coerceRef(returnFiber, current, element) {
      var mixedRef = element.ref;
      if (mixedRef !== null && typeof mixedRef !== "function" && typeof mixedRef !== "object") {
        {
          if (returnFiber.mode & StrictMode) {
            var componentName = getComponentName(returnFiber) || "Component";
            if (!didWarnAboutStringRefInStrictMode[componentName]) {
              warning(false, 'A string ref, "%s", has been found within a strict mode tree. ' + "String refs are a source of potential bugs and should be avoided. " + "We recommend using createRef() instead." + "\n%s" + "\n\nLearn more about using refs safely here:" + "\nhttps://fb.me/react-strict-mode-string-ref", mixedRef, getStackAddendumByWorkInProgressFiber(returnFiber));
              didWarnAboutStringRefInStrictMode[componentName] = true;
            }
          }
        }

        if (element._owner) {
          var owner = element._owner;
          var inst = void 0;
          if (owner) {
            var ownerFiber = owner;
            invariant(ownerFiber.tag === ClassComponent, "Stateless function components cannot have refs.");
            inst = ownerFiber.stateNode;
          }
          invariant(inst, "Missing owner for string ref %s. This error is likely caused by a " + "bug in React. Please file an issue.", mixedRef);
          var stringRef = "" + mixedRef;

          if (current !== null && current.ref !== null && current.ref._stringRef === stringRef) {
            return current.ref;
          }
          var ref = function ref(value) {
            var refs = inst.refs === emptyObject ? inst.refs = {} : inst.refs;
            if (value === null) {
              delete refs[stringRef];
            } else {
              refs[stringRef] = value;
            }
          };
          ref._stringRef = stringRef;
          return ref;
        } else {
          invariant(typeof mixedRef === "string", "Expected ref to be a function or a string.");
          invariant(element._owner, "Element ref was specified as a string (%s) but no owner was set. This could happen for one of" + " the following reasons:\n" + "1. You may be adding a ref to a functional component\n" + "2. You may be adding a ref to a component that was not created inside a component's render method\n" + "3. You have multiple copies of React loaded\n" + "See https://fb.me/react-refs-must-have-owner for more information.", mixedRef);
        }
      }
      return mixedRef;
    }

    function throwOnInvalidObjectType(returnFiber, newChild) {
      if (returnFiber.type !== "textarea") {
        var addendum = "";
        {
          addendum = " If you meant to render a collection of children, use an array " + "instead." + (getCurrentFiberStackAddendum$1() || "");
        }
        invariant(false, "Objects are not valid as a React child (found: %s).%s", Object.prototype.toString.call(newChild) === "[object Object]" ? "object with keys {" + Object.keys(newChild).join(", ") + "}" : newChild, addendum);
      }
    }

    function warnOnFunctionType() {
      var currentComponentErrorInfo = "Functions are not valid as a React child. This may happen if " + "you return a Component instead of <Component /> from render. " + "Or maybe you meant to call this function rather than return it." + (getCurrentFiberStackAddendum$1() || "");

      if (ownerHasFunctionTypeWarning[currentComponentErrorInfo]) {
        return;
      }
      ownerHasFunctionTypeWarning[currentComponentErrorInfo] = true;

      warning(false, "Functions are not valid as a React child. This may happen if " + "you return a Component instead of <Component /> from render. " + "Or maybe you meant to call this function rather than return it.%s", getCurrentFiberStackAddendum$1() || "");
    }

    function ChildReconciler(shouldTrackSideEffects) {
      function deleteChild(returnFiber, childToDelete) {
        if (!shouldTrackSideEffects) {
          return;
        }

        var last = returnFiber.lastEffect;
        if (last !== null) {
          last.nextEffect = childToDelete;
          returnFiber.lastEffect = childToDelete;
        } else {
          returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;
        }
        childToDelete.nextEffect = null;
        childToDelete.effectTag = Deletion;
      }

      function deleteRemainingChildren(returnFiber, currentFirstChild) {
        if (!shouldTrackSideEffects) {
          return null;
        }

        var childToDelete = currentFirstChild;
        while (childToDelete !== null) {
          deleteChild(returnFiber, childToDelete);
          childToDelete = childToDelete.sibling;
        }
        return null;
      }

      function mapRemainingChildren(returnFiber, currentFirstChild) {
        var existingChildren = new Map();

        var existingChild = currentFirstChild;
        while (existingChild !== null) {
          if (existingChild.key !== null) {
            existingChildren.set(existingChild.key, existingChild);
          } else {
            existingChildren.set(existingChild.index, existingChild);
          }
          existingChild = existingChild.sibling;
        }
        return existingChildren;
      }

      function useFiber(fiber, pendingProps, expirationTime) {
        var clone = createWorkInProgress(fiber, pendingProps, expirationTime);
        clone.index = 0;
        clone.sibling = null;
        return clone;
      }

      function placeChild(newFiber, lastPlacedIndex, newIndex) {
        newFiber.index = newIndex;
        if (!shouldTrackSideEffects) {
          return lastPlacedIndex;
        }
        var current = newFiber.alternate;
        if (current !== null) {
          var oldIndex = current.index;
          if (oldIndex < lastPlacedIndex) {
            newFiber.effectTag = Placement;
            return lastPlacedIndex;
          } else {
            return oldIndex;
          }
        } else {
          newFiber.effectTag = Placement;
          return lastPlacedIndex;
        }
      }

      function placeSingleChild(newFiber) {
        if (shouldTrackSideEffects && newFiber.alternate === null) {
          newFiber.effectTag = Placement;
        }
        return newFiber;
      }

      function updateTextNode(returnFiber, current, textContent, expirationTime) {
        if (current === null || current.tag !== HostText) {
          var created = createFiberFromText(textContent, returnFiber.mode, expirationTime);
          created["return"] = returnFiber;
          return created;
        } else {
          var existing = useFiber(current, textContent, expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }
      }

      function updateElement(returnFiber, current, element, expirationTime) {
        if (current !== null && current.type === element.type) {
          var existing = useFiber(current, element.props, expirationTime);
          existing.ref = coerceRef(returnFiber, current, element);
          existing["return"] = returnFiber;
          {
            existing._debugSource = element._source;
            existing._debugOwner = element._owner;
          }
          return existing;
        } else {
          var created = createFiberFromElement(element, returnFiber.mode, expirationTime);
          created.ref = coerceRef(returnFiber, current, element);
          created["return"] = returnFiber;
          return created;
        }
      }

      function updatePortal(returnFiber, current, portal, expirationTime) {
        if (current === null || current.tag !== HostPortal || current.stateNode.containerInfo !== portal.containerInfo || current.stateNode.implementation !== portal.implementation) {
          var created = createFiberFromPortal(portal, returnFiber.mode, expirationTime);
          created["return"] = returnFiber;
          return created;
        } else {
          var existing = useFiber(current, portal.children || [], expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }
      }

      function updateFragment(returnFiber, current, fragment, expirationTime, key) {
        if (current === null || current.tag !== Fragment) {
          var created = createFiberFromFragment(fragment, returnFiber.mode, expirationTime, key);
          created["return"] = returnFiber;
          return created;
        } else {
          var existing = useFiber(current, fragment, expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }
      }

      function createChild(returnFiber, newChild, expirationTime) {
        if (typeof newChild === "string" || typeof newChild === "number") {
          var created = createFiberFromText("" + newChild, returnFiber.mode, expirationTime);
          created["return"] = returnFiber;
          return created;
        }

        if (typeof newChild === "object" && newChild !== null) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              {
                var _created = createFiberFromElement(newChild, returnFiber.mode, expirationTime);
                _created.ref = coerceRef(returnFiber, null, newChild);
                _created["return"] = returnFiber;
                return _created;
              }
            case REACT_PORTAL_TYPE:
              {
                var _created2 = createFiberFromPortal(newChild, returnFiber.mode, expirationTime);
                _created2["return"] = returnFiber;
                return _created2;
              }
          }

          if (isArray$1(newChild) || getIteratorFn(newChild)) {
            var _created3 = createFiberFromFragment(newChild, returnFiber.mode, expirationTime, null);
            _created3["return"] = returnFiber;
            return _created3;
          }

          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }

        return null;
      }

      function updateSlot(returnFiber, oldFiber, newChild, expirationTime) {

        var key = oldFiber !== null ? oldFiber.key : null;

        if (typeof newChild === "string" || typeof newChild === "number") {
          if (key !== null) {
            return null;
          }
          return updateTextNode(returnFiber, oldFiber, "" + newChild, expirationTime);
        }

        if (typeof newChild === "object" && newChild !== null) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              {
                if (newChild.key === key) {
                  if (newChild.type === REACT_FRAGMENT_TYPE) {
                    return updateFragment(returnFiber, oldFiber, newChild.props.children, expirationTime, key);
                  }
                  return updateElement(returnFiber, oldFiber, newChild, expirationTime);
                } else {
                  return null;
                }
              }
            case REACT_PORTAL_TYPE:
              {
                if (newChild.key === key) {
                  return updatePortal(returnFiber, oldFiber, newChild, expirationTime);
                } else {
                  return null;
                }
              }
          }

          if (isArray$1(newChild) || getIteratorFn(newChild)) {
            if (key !== null) {
              return null;
            }

            return updateFragment(returnFiber, oldFiber, newChild, expirationTime, null);
          }

          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }

        return null;
      }

      function updateFromMap(existingChildren, returnFiber, newIdx, newChild, expirationTime) {
        if (typeof newChild === "string" || typeof newChild === "number") {
          var matchedFiber = existingChildren.get(newIdx) || null;
          return updateTextNode(returnFiber, matchedFiber, "" + newChild, expirationTime);
        }

        if (typeof newChild === "object" && newChild !== null) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              {
                var _matchedFiber = existingChildren.get(newChild.key === null ? newIdx : newChild.key) || null;
                if (newChild.type === REACT_FRAGMENT_TYPE) {
                  return updateFragment(returnFiber, _matchedFiber, newChild.props.children, expirationTime, newChild.key);
                }
                return updateElement(returnFiber, _matchedFiber, newChild, expirationTime);
              }
            case REACT_PORTAL_TYPE:
              {
                var _matchedFiber2 = existingChildren.get(newChild.key === null ? newIdx : newChild.key) || null;
                return updatePortal(returnFiber, _matchedFiber2, newChild, expirationTime);
              }
          }

          if (isArray$1(newChild) || getIteratorFn(newChild)) {
            var _matchedFiber3 = existingChildren.get(newIdx) || null;
            return updateFragment(returnFiber, _matchedFiber3, newChild, expirationTime, null);
          }

          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }

        return null;
      }

      function warnOnInvalidKey(child, knownKeys) {
        {
          if (typeof child !== "object" || child === null) {
            return knownKeys;
          }
          switch (child.$$typeof) {
            case REACT_ELEMENT_TYPE:
            case REACT_PORTAL_TYPE:
              warnForMissingKey(child);
              var key = child.key;
              if (typeof key !== "string") {
                break;
              }
              if (knownKeys === null) {
                knownKeys = new Set();
                knownKeys.add(key);
                break;
              }
              if (!knownKeys.has(key)) {
                knownKeys.add(key);
                break;
              }
              warning(false, "Encountered two children with the same key, `%s`. " + "Keys should be unique so that components maintain their identity " + "across updates. Non-unique keys may cause children to be " + "duplicated and/or omitted — the behavior is unsupported and " + "could change in a future version.%s", key, getCurrentFiberStackAddendum$1());
              break;
            default:
              break;
          }
        }
        return knownKeys;
      }

      function reconcileChildrenArray(returnFiber, currentFirstChild, newChildren, expirationTime) {

        {
          var knownKeys = null;
          for (var i = 0; i < newChildren.length; i++) {
            var child = newChildren[i];
            knownKeys = warnOnInvalidKey(child, knownKeys);
          }
        }

        var resultingFirstChild = null;
        var previousNewFiber = null;

        var oldFiber = currentFirstChild;
        var lastPlacedIndex = 0;
        var newIdx = 0;
        var nextOldFiber = null;
        for (; oldFiber !== null && newIdx < newChildren.length; newIdx++) {
          if (oldFiber.index > newIdx) {
            nextOldFiber = oldFiber;
            oldFiber = null;
          } else {
            nextOldFiber = oldFiber.sibling;
          }
          var newFiber = updateSlot(returnFiber, oldFiber, newChildren[newIdx], expirationTime);
          if (newFiber === null) {
            if (oldFiber === null) {
              oldFiber = nextOldFiber;
            }
            break;
          }
          if (shouldTrackSideEffects) {
            if (oldFiber && newFiber.alternate === null) {
              deleteChild(returnFiber, oldFiber);
            }
          }
          lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);
          if (previousNewFiber === null) {
            resultingFirstChild = newFiber;
          } else {
            previousNewFiber.sibling = newFiber;
          }
          previousNewFiber = newFiber;
          oldFiber = nextOldFiber;
        }

        if (newIdx === newChildren.length) {
          deleteRemainingChildren(returnFiber, oldFiber);
          return resultingFirstChild;
        }

        if (oldFiber === null) {
          for (; newIdx < newChildren.length; newIdx++) {
            var _newFiber = createChild(returnFiber, newChildren[newIdx], expirationTime);
            if (!_newFiber) {
              continue;
            }
            lastPlacedIndex = placeChild(_newFiber, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber;
            } else {
              previousNewFiber.sibling = _newFiber;
            }
            previousNewFiber = _newFiber;
          }
          return resultingFirstChild;
        }

        var existingChildren = mapRemainingChildren(returnFiber, oldFiber);

        for (; newIdx < newChildren.length; newIdx++) {
          var _newFiber2 = updateFromMap(existingChildren, returnFiber, newIdx, newChildren[newIdx], expirationTime);
          if (_newFiber2) {
            if (shouldTrackSideEffects) {
              if (_newFiber2.alternate !== null) {
                existingChildren["delete"](_newFiber2.key === null ? newIdx : _newFiber2.key);
              }
            }
            lastPlacedIndex = placeChild(_newFiber2, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber2;
            } else {
              previousNewFiber.sibling = _newFiber2;
            }
            previousNewFiber = _newFiber2;
          }
        }

        if (shouldTrackSideEffects) {
          existingChildren.forEach(function (child) {
            return deleteChild(returnFiber, child);
          });
        }

        return resultingFirstChild;
      }

      function reconcileChildrenIterator(returnFiber, currentFirstChild, newChildrenIterable, expirationTime) {

        var iteratorFn = getIteratorFn(newChildrenIterable);
        invariant(typeof iteratorFn === "function", "An object is not an iterable. This error is likely caused by a bug in " + "React. Please file an issue.");

        {
          if (typeof newChildrenIterable.entries === "function") {
            var possibleMap = newChildrenIterable;
            if (possibleMap.entries === iteratorFn) {
              !didWarnAboutMaps ? warning(false, "Using Maps as children is unsupported and will likely yield " + "unexpected results. Convert it to a sequence/iterable of keyed " + "ReactElements instead.%s", getCurrentFiberStackAddendum$1()) : void 0;
              didWarnAboutMaps = true;
            }
          }

          var _newChildren = iteratorFn.call(newChildrenIterable);
          if (_newChildren) {
            var knownKeys = null;
            var _step = _newChildren.next();
            for (; !_step.done; _step = _newChildren.next()) {
              var child = _step.value;
              knownKeys = warnOnInvalidKey(child, knownKeys);
            }
          }
        }

        var newChildren = iteratorFn.call(newChildrenIterable);
        invariant(newChildren != null, "An iterable object provided no iterator.");

        var resultingFirstChild = null;
        var previousNewFiber = null;

        var oldFiber = currentFirstChild;
        var lastPlacedIndex = 0;
        var newIdx = 0;
        var nextOldFiber = null;

        var step = newChildren.next();
        for (; oldFiber !== null && !step.done; newIdx++, step = newChildren.next()) {
          if (oldFiber.index > newIdx) {
            nextOldFiber = oldFiber;
            oldFiber = null;
          } else {
            nextOldFiber = oldFiber.sibling;
          }
          var newFiber = updateSlot(returnFiber, oldFiber, step.value, expirationTime);
          if (newFiber === null) {
            if (!oldFiber) {
              oldFiber = nextOldFiber;
            }
            break;
          }
          if (shouldTrackSideEffects) {
            if (oldFiber && newFiber.alternate === null) {
              deleteChild(returnFiber, oldFiber);
            }
          }
          lastPlacedIndex = placeChild(newFiber, lastPlacedIndex, newIdx);
          if (previousNewFiber === null) {
            resultingFirstChild = newFiber;
          } else {
            previousNewFiber.sibling = newFiber;
          }
          previousNewFiber = newFiber;
          oldFiber = nextOldFiber;
        }

        if (step.done) {
          deleteRemainingChildren(returnFiber, oldFiber);
          return resultingFirstChild;
        }

        if (oldFiber === null) {
          for (; !step.done; newIdx++, step = newChildren.next()) {
            var _newFiber3 = createChild(returnFiber, step.value, expirationTime);
            if (_newFiber3 === null) {
              continue;
            }
            lastPlacedIndex = placeChild(_newFiber3, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber3;
            } else {
              previousNewFiber.sibling = _newFiber3;
            }
            previousNewFiber = _newFiber3;
          }
          return resultingFirstChild;
        }

        var existingChildren = mapRemainingChildren(returnFiber, oldFiber);

        for (; !step.done; newIdx++, step = newChildren.next()) {
          var _newFiber4 = updateFromMap(existingChildren, returnFiber, newIdx, step.value, expirationTime);
          if (_newFiber4 !== null) {
            if (shouldTrackSideEffects) {
              if (_newFiber4.alternate !== null) {
                existingChildren["delete"](_newFiber4.key === null ? newIdx : _newFiber4.key);
              }
            }
            lastPlacedIndex = placeChild(_newFiber4, lastPlacedIndex, newIdx);
            if (previousNewFiber === null) {
              resultingFirstChild = _newFiber4;
            } else {
              previousNewFiber.sibling = _newFiber4;
            }
            previousNewFiber = _newFiber4;
          }
        }

        if (shouldTrackSideEffects) {
          existingChildren.forEach(function (child) {
            return deleteChild(returnFiber, child);
          });
        }

        return resultingFirstChild;
      }

      function reconcileSingleTextNode(returnFiber, currentFirstChild, textContent, expirationTime) {
        if (currentFirstChild !== null && currentFirstChild.tag === HostText) {
          deleteRemainingChildren(returnFiber, currentFirstChild.sibling);
          var existing = useFiber(currentFirstChild, textContent, expirationTime);
          existing["return"] = returnFiber;
          return existing;
        }

        deleteRemainingChildren(returnFiber, currentFirstChild);
        var created = createFiberFromText(textContent, returnFiber.mode, expirationTime);
        created["return"] = returnFiber;
        return created;
      }

      function reconcileSingleElement(returnFiber, currentFirstChild, element, expirationTime) {
        var key = element.key;
        var child = currentFirstChild;
        while (child !== null) {
          if (child.key === key) {
            if (child.tag === Fragment ? element.type === REACT_FRAGMENT_TYPE : child.type === element.type) {
              deleteRemainingChildren(returnFiber, child.sibling);
              var existing = useFiber(child, element.type === REACT_FRAGMENT_TYPE ? element.props.children : element.props, expirationTime);
              existing.ref = coerceRef(returnFiber, child, element);
              existing["return"] = returnFiber;
              {
                existing._debugSource = element._source;
                existing._debugOwner = element._owner;
              }
              return existing;
            } else {
              deleteRemainingChildren(returnFiber, child);
              break;
            }
          } else {
            deleteChild(returnFiber, child);
          }
          child = child.sibling;
        }

        if (element.type === REACT_FRAGMENT_TYPE) {
          var created = createFiberFromFragment(element.props.children, returnFiber.mode, expirationTime, element.key);
          created["return"] = returnFiber;
          return created;
        } else {
          var _created4 = createFiberFromElement(element, returnFiber.mode, expirationTime);
          _created4.ref = coerceRef(returnFiber, currentFirstChild, element);
          _created4["return"] = returnFiber;
          return _created4;
        }
      }

      function reconcileSinglePortal(returnFiber, currentFirstChild, portal, expirationTime) {
        var key = portal.key;
        var child = currentFirstChild;
        while (child !== null) {
          if (child.key === key) {
            if (child.tag === HostPortal && child.stateNode.containerInfo === portal.containerInfo && child.stateNode.implementation === portal.implementation) {
              deleteRemainingChildren(returnFiber, child.sibling);
              var existing = useFiber(child, portal.children || [], expirationTime);
              existing["return"] = returnFiber;
              return existing;
            } else {
              deleteRemainingChildren(returnFiber, child);
              break;
            }
          } else {
            deleteChild(returnFiber, child);
          }
          child = child.sibling;
        }

        var created = createFiberFromPortal(portal, returnFiber.mode, expirationTime);
        created["return"] = returnFiber;
        return created;
      }

      function reconcileChildFibers(returnFiber, currentFirstChild, newChild, expirationTime) {
        if (typeof newChild === "object" && newChild !== null && newChild.type === REACT_FRAGMENT_TYPE && newChild.key === null) {
          newChild = newChild.props.children;
        }

        var isObject = typeof newChild === "object" && newChild !== null;

        if (isObject) {
          switch (newChild.$$typeof) {
            case REACT_ELEMENT_TYPE:
              return placeSingleChild(reconcileSingleElement(returnFiber, currentFirstChild, newChild, expirationTime));
            case REACT_PORTAL_TYPE:
              return placeSingleChild(reconcileSinglePortal(returnFiber, currentFirstChild, newChild, expirationTime));
          }
        }

        if (typeof newChild === "string" || typeof newChild === "number") {
          return placeSingleChild(reconcileSingleTextNode(returnFiber, currentFirstChild, "" + newChild, expirationTime));
        }

        if (isArray$1(newChild)) {
          return reconcileChildrenArray(returnFiber, currentFirstChild, newChild, expirationTime);
        }

        if (getIteratorFn(newChild)) {
          return reconcileChildrenIterator(returnFiber, currentFirstChild, newChild, expirationTime);
        }

        if (isObject) {
          throwOnInvalidObjectType(returnFiber, newChild);
        }

        {
          if (typeof newChild === "function") {
            warnOnFunctionType();
          }
        }
        if (typeof newChild === "undefined") {
          switch (returnFiber.tag) {
            case ClassComponent:
              {
                {
                  var instance = returnFiber.stateNode;
                  if (instance.render._isMockFunction) {
                    break;
                  }
                }
              }

            case FunctionalComponent:
              {
                var Component = returnFiber.type;
                invariant(false, "%s(...): Nothing was returned from render. This usually means a " + "return statement is missing. Or, to render nothing, " + "return null.", Component.displayName || Component.name || "Component");
              }
          }
        }

        return deleteRemainingChildren(returnFiber, currentFirstChild);
      }

      return reconcileChildFibers;
    }

    var reconcileChildFibers = ChildReconciler(true);
    var mountChildFibers = ChildReconciler(false);

    function cloneChildFibers(current, workInProgress) {
      invariant(current === null || workInProgress.child === current.child, "Resuming work not yet implemented.");

      if (workInProgress.child === null) {
        return;
      }

      var currentChild = workInProgress.child;
      var newChild = createWorkInProgress(currentChild, currentChild.pendingProps, currentChild.expirationTime);
      workInProgress.child = newChild;

      newChild["return"] = workInProgress;
      while (currentChild.sibling !== null) {
        currentChild = currentChild.sibling;
        newChild = newChild.sibling = createWorkInProgress(currentChild, currentChild.pendingProps, currentChild.expirationTime);
        newChild["return"] = workInProgress;
      }
      newChild.sibling = null;
    }

    var didWarnAboutBadClass = void 0;
    var didWarnAboutGetDerivedStateOnFunctionalComponent = void 0;
    var didWarnAboutStatelessRefs = void 0;

    {
      didWarnAboutBadClass = {};
      didWarnAboutGetDerivedStateOnFunctionalComponent = {};
      didWarnAboutStatelessRefs = {};
    }

    var ReactFiberBeginWork = function ReactFiberBeginWork(config, hostContext, legacyContext, newContext, hydrationContext, scheduleWork, computeExpirationForFiber) {
      var shouldSetTextContent = config.shouldSetTextContent,
          shouldDeprioritizeSubtree = config.shouldDeprioritizeSubtree;
      var pushHostContext = hostContext.pushHostContext,
          pushHostContainer = hostContext.pushHostContainer;
      var pushProvider = newContext.pushProvider;
      var getMaskedContext = legacyContext.getMaskedContext,
          getUnmaskedContext = legacyContext.getUnmaskedContext,
          hasLegacyContextChanged = legacyContext.hasContextChanged,
          pushLegacyContextProvider = legacyContext.pushContextProvider,
          pushTopLevelContextObject = legacyContext.pushTopLevelContextObject,
          invalidateContextProvider = legacyContext.invalidateContextProvider;
      var enterHydrationState = hydrationContext.enterHydrationState,
          resetHydrationState = hydrationContext.resetHydrationState,
          tryToClaimNextHydratableInstance = hydrationContext.tryToClaimNextHydratableInstance;

      var _ReactFiberClassCompo = ReactFiberClassComponent(legacyContext, scheduleWork, computeExpirationForFiber, memoizeProps, memoizeState),
          adoptClassInstance = _ReactFiberClassCompo.adoptClassInstance,
          callGetDerivedStateFromProps = _ReactFiberClassCompo.callGetDerivedStateFromProps,
          constructClassInstance = _ReactFiberClassCompo.constructClassInstance,
          mountClassInstance = _ReactFiberClassCompo.mountClassInstance,
          resumeMountClassInstance = _ReactFiberClassCompo.resumeMountClassInstance,
          updateClassInstance = _ReactFiberClassCompo.updateClassInstance;

      function reconcileChildren(current, workInProgress, nextChildren) {
        reconcileChildrenAtExpirationTime(current, workInProgress, nextChildren, workInProgress.expirationTime);
      }

      function reconcileChildrenAtExpirationTime(current, workInProgress, nextChildren, renderExpirationTime) {
        if (current === null) {
          workInProgress.child = mountChildFibers(workInProgress, null, nextChildren, renderExpirationTime);
        } else {
          workInProgress.child = reconcileChildFibers(workInProgress, current.child, nextChildren, renderExpirationTime);
        }
      }

      function updateForwardRef(current, workInProgress) {
        var render = workInProgress.type.render;
        var nextChildren = render(workInProgress.pendingProps, workInProgress.ref);
        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextChildren);
        return workInProgress.child;
      }

      function updateFragment(current, workInProgress) {
        var nextChildren = workInProgress.pendingProps;
        if (hasLegacyContextChanged()) {} else if (workInProgress.memoizedProps === nextChildren) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }
        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextChildren);
        return workInProgress.child;
      }

      function updateMode(current, workInProgress) {
        var nextChildren = workInProgress.pendingProps.children;
        if (hasLegacyContextChanged()) {} else if (nextChildren === null || workInProgress.memoizedProps === nextChildren) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }
        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextChildren);
        return workInProgress.child;
      }

      function markRef(current, workInProgress) {
        var ref = workInProgress.ref;
        if (current === null && ref !== null || current !== null && current.ref !== ref) {
          workInProgress.effectTag |= Ref;
        }
      }

      function updateFunctionalComponent(current, workInProgress) {
        var fn = workInProgress.type;
        var nextProps = workInProgress.pendingProps;

        if (hasLegacyContextChanged()) {} else {
          if (workInProgress.memoizedProps === nextProps) {
            return bailoutOnAlreadyFinishedWork(current, workInProgress);
          }
        }

        var unmaskedContext = getUnmaskedContext(workInProgress);
        var context = getMaskedContext(workInProgress, unmaskedContext);

        var nextChildren = void 0;

        {
          ReactCurrentOwner.current = workInProgress;
          ReactDebugCurrentFiber.setCurrentPhase("render");
          nextChildren = fn(nextProps, context);
          ReactDebugCurrentFiber.setCurrentPhase(null);
        }

        workInProgress.effectTag |= PerformedWork;
        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextProps);
        return workInProgress.child;
      }

      function updateClassComponent(current, workInProgress, renderExpirationTime) {
        var hasContext = pushLegacyContextProvider(workInProgress);
        var shouldUpdate = void 0;
        if (current === null) {
          if (workInProgress.stateNode === null) {
            constructClassInstance(workInProgress, workInProgress.pendingProps);
            mountClassInstance(workInProgress, renderExpirationTime);

            shouldUpdate = true;
          } else {
            shouldUpdate = resumeMountClassInstance(workInProgress, renderExpirationTime);
          }
        } else {
          shouldUpdate = updateClassInstance(current, workInProgress, renderExpirationTime);
        }

        var didCaptureError = false;
        var updateQueue = workInProgress.updateQueue;
        if (updateQueue !== null && updateQueue.capturedValues !== null) {
          shouldUpdate = true;
          didCaptureError = true;
        }
        return finishClassComponent(current, workInProgress, shouldUpdate, hasContext, didCaptureError, renderExpirationTime);
      }

      function finishClassComponent(current, workInProgress, shouldUpdate, hasContext, didCaptureError, renderExpirationTime) {
        markRef(current, workInProgress);

        if (!shouldUpdate && !didCaptureError) {
          if (hasContext) {
            invalidateContextProvider(workInProgress, false);
          }

          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }

        var ctor = workInProgress.type;
        var instance = workInProgress.stateNode;

        ReactCurrentOwner.current = workInProgress;
        var nextChildren = void 0;
        if (didCaptureError && (!enableGetDerivedStateFromCatch || typeof ctor.getDerivedStateFromCatch !== "function")) {
          nextChildren = null;
        } else {
          {
            ReactDebugCurrentFiber.setCurrentPhase("render");
            nextChildren = instance.render();
            if (debugRenderPhaseSideEffects || debugRenderPhaseSideEffectsForStrictMode && workInProgress.mode & StrictMode) {
              instance.render();
            }
            ReactDebugCurrentFiber.setCurrentPhase(null);
          }
        }

        workInProgress.effectTag |= PerformedWork;
        if (didCaptureError) {
          reconcileChildrenAtExpirationTime(current, workInProgress, null, renderExpirationTime);
          workInProgress.child = null;
        }
        reconcileChildrenAtExpirationTime(current, workInProgress, nextChildren, renderExpirationTime);

        memoizeState(workInProgress, instance.state);
        memoizeProps(workInProgress, instance.props);

        if (hasContext) {
          invalidateContextProvider(workInProgress, true);
        }

        return workInProgress.child;
      }

      function pushHostRootContext(workInProgress) {
        var root = workInProgress.stateNode;
        if (root.pendingContext) {
          pushTopLevelContextObject(workInProgress, root.pendingContext, root.pendingContext !== root.context);
        } else if (root.context) {
          pushTopLevelContextObject(workInProgress, root.context, false);
        }
        pushHostContainer(workInProgress, root.containerInfo);
      }

      function updateHostRoot(current, workInProgress, renderExpirationTime) {
        pushHostRootContext(workInProgress);
        var updateQueue = workInProgress.updateQueue;
        if (updateQueue !== null) {
          var prevState = workInProgress.memoizedState;
          var state = processUpdateQueue(current, workInProgress, updateQueue, null, null, renderExpirationTime);
          memoizeState(workInProgress, state);
          updateQueue = workInProgress.updateQueue;

          var element = void 0;
          if (updateQueue !== null && updateQueue.capturedValues !== null) {
            element = null;
          } else if (prevState === state) {
            resetHydrationState();
            return bailoutOnAlreadyFinishedWork(current, workInProgress);
          } else {
            element = state.element;
          }
          var root = workInProgress.stateNode;
          if ((current === null || current.child === null) && root.hydrate && enterHydrationState(workInProgress)) {
            workInProgress.effectTag |= Placement;

            workInProgress.child = mountChildFibers(workInProgress, null, element, renderExpirationTime);
          } else {
            resetHydrationState();
            reconcileChildren(current, workInProgress, element);
          }
          memoizeState(workInProgress, state);
          return workInProgress.child;
        }
        resetHydrationState();

        return bailoutOnAlreadyFinishedWork(current, workInProgress);
      }

      function updateHostComponent(current, workInProgress, renderExpirationTime) {
        pushHostContext(workInProgress);

        if (current === null) {
          tryToClaimNextHydratableInstance(workInProgress);
        }

        var type = workInProgress.type;
        var memoizedProps = workInProgress.memoizedProps;
        var nextProps = workInProgress.pendingProps;
        var prevProps = current !== null ? current.memoizedProps : null;

        if (hasLegacyContextChanged()) {} else if (memoizedProps === nextProps) {
          var isHidden = workInProgress.mode & AsyncMode && shouldDeprioritizeSubtree(type, nextProps);
          if (isHidden) {
            workInProgress.expirationTime = Never;
          }
          if (!isHidden || renderExpirationTime !== Never) {
            return bailoutOnAlreadyFinishedWork(current, workInProgress);
          }
        }

        var nextChildren = nextProps.children;
        var isDirectTextChild = shouldSetTextContent(type, nextProps);

        if (isDirectTextChild) {
          nextChildren = null;
        } else if (prevProps && shouldSetTextContent(type, prevProps)) {
          workInProgress.effectTag |= ContentReset;
        }

        markRef(current, workInProgress);

        if (renderExpirationTime !== Never && workInProgress.mode & AsyncMode && shouldDeprioritizeSubtree(type, nextProps)) {
          workInProgress.expirationTime = Never;

          workInProgress.memoizedProps = nextProps;
          return null;
        }

        reconcileChildren(current, workInProgress, nextChildren);
        memoizeProps(workInProgress, nextProps);
        return workInProgress.child;
      }

      function updateHostText(current, workInProgress) {
        if (current === null) {
          tryToClaimNextHydratableInstance(workInProgress);
        }
        var nextProps = workInProgress.pendingProps;
        memoizeProps(workInProgress, nextProps);

        return null;
      }

      function mountIndeterminateComponent(current, workInProgress, renderExpirationTime) {
        invariant(current === null, "An indeterminate component should never have mounted. This error is " + "likely caused by a bug in React. Please file an issue.");
        var fn = workInProgress.type;
        var props = workInProgress.pendingProps;
        var unmaskedContext = getUnmaskedContext(workInProgress);
        var context = getMaskedContext(workInProgress, unmaskedContext);

        var value = void 0;

        {
          if (fn.prototype && typeof fn.prototype.render === "function") {
            var componentName = getComponentName(workInProgress) || "Unknown";

            if (!didWarnAboutBadClass[componentName]) {
              warning(false, "The <%s /> component appears to have a render method, but doesn't extend React.Component. " + "This is likely to cause errors. Change %s to extend React.Component instead.", componentName, componentName);
              didWarnAboutBadClass[componentName] = true;
            }
          }
          ReactCurrentOwner.current = workInProgress;
          value = fn(props, context);
        }

        workInProgress.effectTag |= PerformedWork;

        if (typeof value === "object" && value !== null && typeof value.render === "function" && value.$$typeof === undefined) {
          var Component = workInProgress.type;

          workInProgress.tag = ClassComponent;

          workInProgress.memoizedState = value.state !== null && value.state !== undefined ? value.state : null;

          if (typeof Component.getDerivedStateFromProps === "function") {
            var partialState = callGetDerivedStateFromProps(workInProgress, value, props, workInProgress.memoizedState);

            if (partialState !== null && partialState !== undefined) {
              workInProgress.memoizedState = _extends({}, workInProgress.memoizedState, partialState);
            }
          }

          var hasContext = pushLegacyContextProvider(workInProgress);
          adoptClassInstance(workInProgress, value);
          mountClassInstance(workInProgress, renderExpirationTime);
          return finishClassComponent(current, workInProgress, true, hasContext, false, renderExpirationTime);
        } else {
          workInProgress.tag = FunctionalComponent;
          {
            var _Component = workInProgress.type;

            if (_Component) {
              !!_Component.childContextTypes ? warning(false, "%s(...): childContextTypes cannot be defined on a functional component.", _Component.displayName || _Component.name || "Component") : void 0;
            }
            if (workInProgress.ref !== null) {
              var info = "";
              var ownerName = ReactDebugCurrentFiber.getCurrentFiberOwnerName();
              if (ownerName) {
                info += "\n\nCheck the render method of `" + ownerName + "`.";
              }

              var warningKey = ownerName || workInProgress._debugID || "";
              var debugSource = workInProgress._debugSource;
              if (debugSource) {
                warningKey = debugSource.fileName + ":" + debugSource.lineNumber;
              }
              if (!didWarnAboutStatelessRefs[warningKey]) {
                didWarnAboutStatelessRefs[warningKey] = true;
                warning(false, "Stateless function components cannot be given refs. " + "Attempts to access this ref will fail.%s%s", info, ReactDebugCurrentFiber.getCurrentFiberStackAddendum());
              }
            }

            if (typeof fn.getDerivedStateFromProps === "function") {
              var _componentName = getComponentName(workInProgress) || "Unknown";

              if (!didWarnAboutGetDerivedStateOnFunctionalComponent[_componentName]) {
                warning(false, "%s: Stateless functional components do not support getDerivedStateFromProps.", _componentName);
                didWarnAboutGetDerivedStateOnFunctionalComponent[_componentName] = true;
              }
            }
          }
          reconcileChildren(current, workInProgress, value);
          memoizeProps(workInProgress, props);
          return workInProgress.child;
        }
      }

      function updateCallComponent(current, workInProgress, renderExpirationTime) {
        var nextProps = workInProgress.pendingProps;
        if (hasLegacyContextChanged()) {} else if (workInProgress.memoizedProps === nextProps) {
          nextProps = workInProgress.memoizedProps;
        }

        var nextChildren = nextProps.children;

        if (current === null) {
          workInProgress.stateNode = mountChildFibers(workInProgress, workInProgress.stateNode, nextChildren, renderExpirationTime);
        } else {
          workInProgress.stateNode = reconcileChildFibers(workInProgress, current.stateNode, nextChildren, renderExpirationTime);
        }

        memoizeProps(workInProgress, nextProps);

        return workInProgress.stateNode;
      }

      function updatePortalComponent(current, workInProgress, renderExpirationTime) {
        pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);
        var nextChildren = workInProgress.pendingProps;
        if (hasLegacyContextChanged()) {} else if (workInProgress.memoizedProps === nextChildren) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }

        if (current === null) {
          workInProgress.child = reconcileChildFibers(workInProgress, null, nextChildren, renderExpirationTime);
          memoizeProps(workInProgress, nextChildren);
        } else {
          reconcileChildren(current, workInProgress, nextChildren);
          memoizeProps(workInProgress, nextChildren);
        }
        return workInProgress.child;
      }

      function propagateContextChange(workInProgress, context, changedBits, renderExpirationTime) {
        var fiber = workInProgress.child;
        if (fiber !== null) {
          fiber["return"] = workInProgress;
        }
        while (fiber !== null) {
          var nextFiber = void 0;

          switch (fiber.tag) {
            case ContextConsumer:
              var observedBits = fiber.stateNode | 0;
              if (fiber.type === context && (observedBits & changedBits) !== 0) {
                var node = fiber;
                while (node !== null) {
                  var alternate = node.alternate;
                  if (node.expirationTime === NoWork || node.expirationTime > renderExpirationTime) {
                    node.expirationTime = renderExpirationTime;
                    if (alternate !== null && (alternate.expirationTime === NoWork || alternate.expirationTime > renderExpirationTime)) {
                      alternate.expirationTime = renderExpirationTime;
                    }
                  } else if (alternate !== null && (alternate.expirationTime === NoWork || alternate.expirationTime > renderExpirationTime)) {
                    alternate.expirationTime = renderExpirationTime;
                  } else {
                    break;
                  }
                  node = node["return"];
                }

                nextFiber = null;
              } else {
                nextFiber = fiber.child;
              }
              break;
            case ContextProvider:
              nextFiber = fiber.type === workInProgress.type ? null : fiber.child;
              break;
            default:
              nextFiber = fiber.child;
              break;
          }
          if (nextFiber !== null) {
            nextFiber["return"] = fiber;
          } else {
            nextFiber = fiber;
            while (nextFiber !== null) {
              if (nextFiber === workInProgress) {
                nextFiber = null;
                break;
              }
              var sibling = nextFiber.sibling;
              if (sibling !== null) {
                nextFiber = sibling;
                break;
              }

              nextFiber = nextFiber["return"];
            }
          }
          fiber = nextFiber;
        }
      }

      function updateContextProvider(current, workInProgress, renderExpirationTime) {
        var providerType = workInProgress.type;
        var context = providerType._context;

        var newProps = workInProgress.pendingProps;
        var oldProps = workInProgress.memoizedProps;

        if (hasLegacyContextChanged()) {} else if (oldProps === newProps) {
          workInProgress.stateNode = 0;
          pushProvider(workInProgress);
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }

        var newValue = newProps.value;
        workInProgress.memoizedProps = newProps;

        var changedBits = void 0;
        if (oldProps === null) {
          changedBits = MAX_SIGNED_31_BIT_INT;
        } else {
          if (oldProps.value === newProps.value) {
            if (oldProps.children === newProps.children) {
              workInProgress.stateNode = 0;
              pushProvider(workInProgress);
              return bailoutOnAlreadyFinishedWork(current, workInProgress);
            }
            changedBits = 0;
          } else {
            var oldValue = oldProps.value;

            if (oldValue === newValue && (oldValue !== 0 || 1 / oldValue === 1 / newValue) || oldValue !== oldValue && newValue !== newValue) {
                if (oldProps.children === newProps.children) {
                  workInProgress.stateNode = 0;
                  pushProvider(workInProgress);
                  return bailoutOnAlreadyFinishedWork(current, workInProgress);
                }
                changedBits = 0;
              } else {
              changedBits = typeof context._calculateChangedBits === "function" ? context._calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;
              {
                !((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits) ? warning(false, "calculateChangedBits: Expected the return value to be a " + "31-bit integer. Instead received: %s", changedBits) : void 0;
              }
              changedBits |= 0;

              if (changedBits === 0) {
                if (oldProps.children === newProps.children) {
                  workInProgress.stateNode = 0;
                  pushProvider(workInProgress);
                  return bailoutOnAlreadyFinishedWork(current, workInProgress);
                }
              } else {
                propagateContextChange(workInProgress, context, changedBits, renderExpirationTime);
              }
            }
          }
        }

        workInProgress.stateNode = changedBits;
        pushProvider(workInProgress);

        var newChildren = newProps.children;
        reconcileChildren(current, workInProgress, newChildren);
        return workInProgress.child;
      }

      function updateContextConsumer(current, workInProgress, renderExpirationTime) {
        var context = workInProgress.type;
        var newProps = workInProgress.pendingProps;
        var oldProps = workInProgress.memoizedProps;

        var newValue = context._currentValue;
        var changedBits = context._changedBits;

        if (hasLegacyContextChanged()) {} else if (changedBits === 0 && oldProps === newProps) {
          return bailoutOnAlreadyFinishedWork(current, workInProgress);
        }
        workInProgress.memoizedProps = newProps;

        var observedBits = newProps.unstable_observedBits;
        if (observedBits === undefined || observedBits === null) {
          observedBits = MAX_SIGNED_31_BIT_INT;
        }

        workInProgress.stateNode = observedBits;

        if ((changedBits & observedBits) !== 0) {
          propagateContextChange(workInProgress, context, changedBits, renderExpirationTime);
        }


        var render = newProps.children;

        {
          !(typeof render === "function") ? warning(false, "A context consumer was rendered with multiple children, or a child " + "that isn't a function. A context consumer expects a single child " + "that is a function. If you did pass a function, make sure there " + "is no trailing or leading whitespace around it.") : void 0;
        }

        var newChildren = render(newValue);
        reconcileChildren(current, workInProgress, newChildren);
        return workInProgress.child;
      }

      function bailoutOnAlreadyFinishedWork(current, workInProgress) {
        cancelWorkTimer(workInProgress);

        cloneChildFibers(current, workInProgress);
        return workInProgress.child;
      }

      function bailoutOnLowPriority(current, workInProgress) {
        cancelWorkTimer(workInProgress);

        switch (workInProgress.tag) {
          case HostRoot:
            pushHostRootContext(workInProgress);
            break;
          case ClassComponent:
            pushLegacyContextProvider(workInProgress);
            break;
          case HostPortal:
            pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);
            break;
          case ContextProvider:
            pushProvider(workInProgress);
            break;
        }

        return null;
      }

      function memoizeProps(workInProgress, nextProps) {
        workInProgress.memoizedProps = nextProps;
      }

      function memoizeState(workInProgress, nextState) {
        workInProgress.memoizedState = nextState;
      }

      function beginWork(current, workInProgress, renderExpirationTime) {
        if (workInProgress.expirationTime === NoWork || workInProgress.expirationTime > renderExpirationTime) {
          return bailoutOnLowPriority(current, workInProgress);
        }

        switch (workInProgress.tag) {
          case IndeterminateComponent:
            return mountIndeterminateComponent(current, workInProgress, renderExpirationTime);
          case FunctionalComponent:
            return updateFunctionalComponent(current, workInProgress);
          case ClassComponent:
            return updateClassComponent(current, workInProgress, renderExpirationTime);
          case HostRoot:
            return updateHostRoot(current, workInProgress, renderExpirationTime);
          case HostComponent:
            return updateHostComponent(current, workInProgress, renderExpirationTime);
          case HostText:
            return updateHostText(current, workInProgress);
          case CallHandlerPhase:
            workInProgress.tag = CallComponent;

          case CallComponent:
            return updateCallComponent(current, workInProgress, renderExpirationTime);
          case ReturnComponent:
            return null;
          case HostPortal:
            return updatePortalComponent(current, workInProgress, renderExpirationTime);
          case ForwardRef:
            return updateForwardRef(current, workInProgress);
          case Fragment:
            return updateFragment(current, workInProgress);
          case Mode:
            return updateMode(current, workInProgress);
          case ContextProvider:
            return updateContextProvider(current, workInProgress, renderExpirationTime);
          case ContextConsumer:
            return updateContextConsumer(current, workInProgress, renderExpirationTime);
          default:
            invariant(false, "Unknown unit of work tag. This error is likely caused by a bug in " + "React. Please file an issue.");
        }
      }

      return {
        beginWork: beginWork
      };
    };

    var ReactFiberCompleteWork = function ReactFiberCompleteWork(config, hostContext, legacyContext, newContext, hydrationContext) {
      var createInstance = config.createInstance,
          createTextInstance = config.createTextInstance,
          appendInitialChild = config.appendInitialChild,
          finalizeInitialChildren = config.finalizeInitialChildren,
          prepareUpdate = config.prepareUpdate,
          mutation = config.mutation,
          persistence = config.persistence;
      var getRootHostContainer = hostContext.getRootHostContainer,
          popHostContext = hostContext.popHostContext,
          getHostContext = hostContext.getHostContext,
          popHostContainer = hostContext.popHostContainer;
      var popLegacyContextProvider = legacyContext.popContextProvider,
          popTopLevelLegacyContextObject = legacyContext.popTopLevelContextObject;
      var popProvider = newContext.popProvider;
      var prepareToHydrateHostInstance = hydrationContext.prepareToHydrateHostInstance,
          prepareToHydrateHostTextInstance = hydrationContext.prepareToHydrateHostTextInstance,
          popHydrationState = hydrationContext.popHydrationState;

      function markUpdate(workInProgress) {
        workInProgress.effectTag |= Update;
      }

      function markRef(workInProgress) {
        workInProgress.effectTag |= Ref;
      }

      function appendAllReturns(returns, workInProgress) {
        var node = workInProgress.stateNode;
        if (node) {
          node["return"] = workInProgress;
        }
        while (node !== null) {
          if (node.tag === HostComponent || node.tag === HostText || node.tag === HostPortal) {
            invariant(false, "A call cannot have host component children.");
          } else if (node.tag === ReturnComponent) {
            returns.push(node.pendingProps.value);
          } else if (node.child !== null) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === workInProgress) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function moveCallToHandlerPhase(current, workInProgress, renderExpirationTime) {
        var props = workInProgress.memoizedProps;
        invariant(props, "Should be resolved by now. This error is likely caused by a bug in " + "React. Please file an issue.");

        workInProgress.tag = CallHandlerPhase;

        var returns = [];
        appendAllReturns(returns, workInProgress);
        var fn = props.handler;
        var childProps = props.props;
        var nextChildren = fn(childProps, returns);

        var currentFirstChild = current !== null ? current.child : null;
        workInProgress.child = reconcileChildFibers(workInProgress, currentFirstChild, nextChildren, renderExpirationTime);
        return workInProgress.child;
      }

      function appendAllChildren(parent, workInProgress) {
        var node = workInProgress.child;
        while (node !== null) {
          if (node.tag === HostComponent || node.tag === HostText) {
            appendInitialChild(parent, node.stateNode);
          } else if (node.tag === HostPortal) {} else if (node.child !== null) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          if (node === workInProgress) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === workInProgress) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      var updateHostContainer = void 0;
      var updateHostComponent = void 0;
      var updateHostText = void 0;
      if (mutation) {
        if (enableMutatingReconciler) {
          updateHostContainer = function updateHostContainer(workInProgress) {};
          updateHostComponent = function updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext) {
            workInProgress.updateQueue = updatePayload;

            if (updatePayload) {
              markUpdate(workInProgress);
            }
          };
          updateHostText = function updateHostText(current, workInProgress, oldText, newText) {
            if (oldText !== newText) {
              markUpdate(workInProgress);
            }
          };
        } else {
          invariant(false, "Mutating reconciler is disabled.");
        }
      } else if (persistence) {
        if (enablePersistentReconciler) {
          var cloneInstance = persistence.cloneInstance,
              createContainerChildSet = persistence.createContainerChildSet,
              appendChildToContainerChildSet = persistence.appendChildToContainerChildSet,
              finalizeContainerChildren = persistence.finalizeContainerChildren;

          var appendAllChildrenToContainer = function appendAllChildrenToContainer(containerChildSet, workInProgress) {
            var node = workInProgress.child;
            while (node !== null) {
              if (node.tag === HostComponent || node.tag === HostText) {
                appendChildToContainerChildSet(containerChildSet, node.stateNode);
              } else if (node.tag === HostPortal) {} else if (node.child !== null) {
                node.child["return"] = node;
                node = node.child;
                continue;
              }
              if (node === workInProgress) {
                return;
              }
              while (node.sibling === null) {
                if (node["return"] === null || node["return"] === workInProgress) {
                  return;
                }
                node = node["return"];
              }
              node.sibling["return"] = node["return"];
              node = node.sibling;
            }
          };
          updateHostContainer = function updateHostContainer(workInProgress) {
            var portalOrRoot = workInProgress.stateNode;
            var childrenUnchanged = workInProgress.firstEffect === null;
            if (childrenUnchanged) {} else {
              var container = portalOrRoot.containerInfo;
              var newChildSet = createContainerChildSet(container);

              appendAllChildrenToContainer(newChildSet, workInProgress);
              portalOrRoot.pendingChildren = newChildSet;

              markUpdate(workInProgress);
              finalizeContainerChildren(container, newChildSet);
            }
          };
          updateHostComponent = function updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext) {
            var childrenUnchanged = workInProgress.firstEffect === null;
            var currentInstance = current.stateNode;
            if (childrenUnchanged && updatePayload === null) {
              workInProgress.stateNode = currentInstance;
            } else {
              var recyclableInstance = workInProgress.stateNode;
              var newInstance = cloneInstance(currentInstance, updatePayload, type, oldProps, newProps, workInProgress, childrenUnchanged, recyclableInstance);
              if (finalizeInitialChildren(newInstance, type, newProps, rootContainerInstance, currentHostContext)) {
                markUpdate(workInProgress);
              }
              workInProgress.stateNode = newInstance;
              if (childrenUnchanged) {
                markUpdate(workInProgress);
              } else {
                appendAllChildren(newInstance, workInProgress);
              }
            }
          };
          updateHostText = function updateHostText(current, workInProgress, oldText, newText) {
            if (oldText !== newText) {
              var rootContainerInstance = getRootHostContainer();
              var currentHostContext = getHostContext();
              workInProgress.stateNode = createTextInstance(newText, rootContainerInstance, currentHostContext, workInProgress);

              markUpdate(workInProgress);
            }
          };
        } else {
          invariant(false, "Persistent reconciler is disabled.");
        }
      } else {
        if (enableNoopReconciler) {
          updateHostContainer = function updateHostContainer(workInProgress) {};
          updateHostComponent = function updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext) {};
          updateHostText = function updateHostText(current, workInProgress, oldText, newText) {};
        } else {
          invariant(false, "Noop reconciler is disabled.");
        }
      }

      function completeWork(current, workInProgress, renderExpirationTime) {
        var newProps = workInProgress.pendingProps;
        switch (workInProgress.tag) {
          case FunctionalComponent:
            return null;
          case ClassComponent:
            {
              popLegacyContextProvider(workInProgress);

              var instance = workInProgress.stateNode;
              var updateQueue = workInProgress.updateQueue;
              if (updateQueue !== null && updateQueue.capturedValues !== null) {
                workInProgress.effectTag &= ~DidCapture;
                if (typeof instance.componentDidCatch === "function") {
                  workInProgress.effectTag |= ErrLog;
                } else {
                  updateQueue.capturedValues = null;
                }
              }
              return null;
            }
          case HostRoot:
            {
              popHostContainer(workInProgress);
              popTopLevelLegacyContextObject(workInProgress);
              var fiberRoot = workInProgress.stateNode;
              if (fiberRoot.pendingContext) {
                fiberRoot.context = fiberRoot.pendingContext;
                fiberRoot.pendingContext = null;
              }
              if (current === null || current.child === null) {
                popHydrationState(workInProgress);

                workInProgress.effectTag &= ~Placement;
              }
              updateHostContainer(workInProgress);

              var _updateQueue = workInProgress.updateQueue;
              if (_updateQueue !== null && _updateQueue.capturedValues !== null) {
                workInProgress.effectTag |= ErrLog;
              }
              return null;
            }
          case HostComponent:
            {
              popHostContext(workInProgress);
              var rootContainerInstance = getRootHostContainer();
              var type = workInProgress.type;
              if (current !== null && workInProgress.stateNode != null) {
                var oldProps = current.memoizedProps;

                var _instance = workInProgress.stateNode;
                var currentHostContext = getHostContext();

                var updatePayload = prepareUpdate(_instance, type, oldProps, newProps, rootContainerInstance, currentHostContext);

                updateHostComponent(current, workInProgress, updatePayload, type, oldProps, newProps, rootContainerInstance, currentHostContext);

                if (current.ref !== workInProgress.ref) {
                  markRef(workInProgress);
                }
              } else {
                if (!newProps) {
                  invariant(workInProgress.stateNode !== null, "We must have new props for new mounts. This error is likely " + "caused by a bug in React. Please file an issue.");

                  return null;
                }

                var _currentHostContext = getHostContext();

                var wasHydrated = popHydrationState(workInProgress);
                if (wasHydrated) {
                  if (prepareToHydrateHostInstance(workInProgress, rootContainerInstance, _currentHostContext)) {
                    markUpdate(workInProgress);
                  }
                } else {
                  var _instance2 = createInstance(type, newProps, rootContainerInstance, _currentHostContext, workInProgress);

                  appendAllChildren(_instance2, workInProgress);

                  if (finalizeInitialChildren(_instance2, type, newProps, rootContainerInstance, _currentHostContext)) {
                    markUpdate(workInProgress);
                  }
                  workInProgress.stateNode = _instance2;
                }

                if (workInProgress.ref !== null) {
                  markRef(workInProgress);
                }
              }
              return null;
            }
          case HostText:
            {
              var newText = newProps;
              if (current && workInProgress.stateNode != null) {
                var oldText = current.memoizedProps;

                updateHostText(current, workInProgress, oldText, newText);
              } else {
                if (typeof newText !== "string") {
                  invariant(workInProgress.stateNode !== null, "We must have new props for new mounts. This error is likely " + "caused by a bug in React. Please file an issue.");

                  return null;
                }
                var _rootContainerInstance = getRootHostContainer();
                var _currentHostContext2 = getHostContext();
                var _wasHydrated = popHydrationState(workInProgress);
                if (_wasHydrated) {
                  if (prepareToHydrateHostTextInstance(workInProgress)) {
                    markUpdate(workInProgress);
                  }
                } else {
                  workInProgress.stateNode = createTextInstance(newText, _rootContainerInstance, _currentHostContext2, workInProgress);
                }
              }
              return null;
            }
          case CallComponent:
            return moveCallToHandlerPhase(current, workInProgress, renderExpirationTime);
          case CallHandlerPhase:
            workInProgress.tag = CallComponent;
            return null;
          case ReturnComponent:
            return null;
          case ForwardRef:
            return null;
          case Fragment:
            return null;
          case Mode:
            return null;
          case HostPortal:
            popHostContainer(workInProgress);
            updateHostContainer(workInProgress);
            return null;
          case ContextProvider:
            popProvider(workInProgress);
            return null;
          case ContextConsumer:
            return null;

          case IndeterminateComponent:
            invariant(false, "An indeterminate component should have become determinate before " + "completing. This error is likely caused by a bug in React. Please " + "file an issue.");

          default:
            invariant(false, "Unknown unit of work tag. This error is likely caused by a bug in " + "React. Please file an issue.");
        }
      }

      return {
        completeWork: completeWork
      };
    };

    function createCapturedValue(value, source) {
      return {
        value: value,
        source: source,
        stack: getStackAddendumByWorkInProgressFiber(source)
      };
    }

    var ReactFiberUnwindWork = function ReactFiberUnwindWork(hostContext, legacyContext, newContext, scheduleWork, isAlreadyFailedLegacyErrorBoundary) {
      var popHostContainer = hostContext.popHostContainer,
          popHostContext = hostContext.popHostContext;
      var popLegacyContextProvider = legacyContext.popContextProvider,
          popTopLevelLegacyContextObject = legacyContext.popTopLevelContextObject;
      var popProvider = newContext.popProvider;

      function throwException(returnFiber, sourceFiber, rawValue) {
        sourceFiber.effectTag |= Incomplete;

        sourceFiber.firstEffect = sourceFiber.lastEffect = null;

        var value = createCapturedValue(rawValue, sourceFiber);

        var workInProgress = returnFiber;
        do {
          switch (workInProgress.tag) {
            case HostRoot:
              {
                var errorInfo = value;
                ensureUpdateQueues(workInProgress);
                var updateQueue = workInProgress.updateQueue;
                updateQueue.capturedValues = [errorInfo];
                workInProgress.effectTag |= ShouldCapture;
                return;
              }
            case ClassComponent:
              var ctor = workInProgress.type;
              var _instance = workInProgress.stateNode;
              if ((workInProgress.effectTag & DidCapture) === NoEffect && (typeof ctor.getDerivedStateFromCatch === "function" && enableGetDerivedStateFromCatch || _instance !== null && typeof _instance.componentDidCatch === "function" && !isAlreadyFailedLegacyErrorBoundary(_instance))) {
                ensureUpdateQueues(workInProgress);
                var _updateQueue = workInProgress.updateQueue;
                var capturedValues = _updateQueue.capturedValues;
                if (capturedValues === null) {
                  _updateQueue.capturedValues = [value];
                } else {
                  capturedValues.push(value);
                }
                workInProgress.effectTag |= ShouldCapture;
                return;
              }
              break;
            default:
              break;
          }
          workInProgress = workInProgress["return"];
        } while (workInProgress !== null);
      }

      function unwindWork(workInProgress) {
        switch (workInProgress.tag) {
          case ClassComponent:
            {
              popLegacyContextProvider(workInProgress);
              var effectTag = workInProgress.effectTag;
              if (effectTag & ShouldCapture) {
                workInProgress.effectTag = effectTag & ~ShouldCapture | DidCapture;
                return workInProgress;
              }
              return null;
            }
          case HostRoot:
            {
              popHostContainer(workInProgress);
              popTopLevelLegacyContextObject(workInProgress);
              var _effectTag = workInProgress.effectTag;
              if (_effectTag & ShouldCapture) {
                workInProgress.effectTag = _effectTag & ~ShouldCapture | DidCapture;
                return workInProgress;
              }
              return null;
            }
          case HostComponent:
            {
              popHostContext(workInProgress);
              return null;
            }
          case HostPortal:
            popHostContainer(workInProgress);
            return null;
          case ContextProvider:
            popProvider(workInProgress);
            return null;
          default:
            return null;
        }
      }

      function unwindInterruptedWork(interruptedWork) {
        switch (interruptedWork.tag) {
          case ClassComponent:
            {
              popLegacyContextProvider(interruptedWork);
              break;
            }
          case HostRoot:
            {
              popHostContainer(interruptedWork);
              popTopLevelLegacyContextObject(interruptedWork);
              break;
            }
          case HostComponent:
            {
              popHostContext(interruptedWork);
              break;
            }
          case HostPortal:
            popHostContainer(interruptedWork);
            break;
          case ContextProvider:
            popProvider(interruptedWork);
            break;
          default:
            break;
        }
      }

      return {
        throwException: throwException,
        unwindWork: unwindWork,
        unwindInterruptedWork: unwindInterruptedWork
      };
    };

    function showErrorDialog(capturedError) {
      var componentStack = capturedError.componentStack,
          error = capturedError.error;

      var errorToHandle = void 0;

      if (error instanceof Error) {
        var message = error.message,
            name = error.name;

        var summary = message ? name + ": " + message : name;

        errorToHandle = error;

        try {
          errorToHandle.message = summary + "\n\nThis error is located at:" + componentStack;
        } catch (e) {}
      } else if (typeof error === "string") {
        errorToHandle = new Error(error + "\n\nThis error is located at:" + componentStack);
      } else {
        errorToHandle = new Error("Unspecified error at:" + componentStack);
      }

      ExceptionsManager.handleException(errorToHandle, false);

      return false;
    }

    function logCapturedError(capturedError) {
      var logError = showErrorDialog(capturedError);

      if (logError === false) {
        return;
      }

      var error = capturedError.error;
      var suppressLogging = error && error.suppressReactErrorLogging;
      if (suppressLogging) {
        return;
      }

      {
        var componentName = capturedError.componentName,
            componentStack = capturedError.componentStack,
            errorBoundaryName = capturedError.errorBoundaryName,
            errorBoundaryFound = capturedError.errorBoundaryFound,
            willRetry = capturedError.willRetry;

        var componentNameMessage = componentName ? "The above error occurred in the <" + componentName + "> component:" : "The above error occurred in one of your React components:";

        var errorBoundaryMessage = void 0;

        if (errorBoundaryFound && errorBoundaryName) {
          if (willRetry) {
            errorBoundaryMessage = "React will try to recreate this component tree from scratch " + ("using the error boundary you provided, " + errorBoundaryName + ".");
          } else {
            errorBoundaryMessage = "This error was initially handled by the error boundary " + errorBoundaryName + ".\n" + "Recreating the tree from scratch failed so React will unmount the tree.";
          }
        } else {
          errorBoundaryMessage = "Consider adding an error boundary to your tree to customize error handling behavior.\n" + "Visit https://fb.me/react-error-boundaries to learn more about error boundaries.";
        }
        var combinedMessage = "" + componentNameMessage + componentStack + "\n\n" + ("" + errorBoundaryMessage);

        console.error(combinedMessage);
      }
    }

    var invokeGuardedCallback$3 = ReactErrorUtils.invokeGuardedCallback;
    var hasCaughtError$1 = ReactErrorUtils.hasCaughtError;
    var clearCaughtError$1 = ReactErrorUtils.clearCaughtError;

    var didWarnAboutUndefinedSnapshotBeforeUpdate = null;
    {
      didWarnAboutUndefinedSnapshotBeforeUpdate = new Set();
    }

    function logError(boundary, errorInfo) {
      var source = errorInfo.source;
      var stack = errorInfo.stack;
      if (stack === null) {
        stack = getStackAddendumByWorkInProgressFiber(source);
      }

      var capturedError = {
        componentName: source !== null ? getComponentName(source) : null,
        componentStack: stack !== null ? stack : "",
        error: errorInfo.value,
        errorBoundary: null,
        errorBoundaryName: null,
        errorBoundaryFound: false,
        willRetry: false
      };

      if (boundary !== null && boundary.tag === ClassComponent) {
        capturedError.errorBoundary = boundary.stateNode;
        capturedError.errorBoundaryName = getComponentName(boundary);
        capturedError.errorBoundaryFound = true;
        capturedError.willRetry = true;
      }

      try {
        logCapturedError(capturedError);
      } catch (e) {
        var suppressLogging = e && e.suppressReactErrorLogging;
        if (!suppressLogging) {
          console.error(e);
        }
      }
    }

    var ReactFiberCommitWork = function ReactFiberCommitWork(config, captureError, scheduleWork, computeExpirationForFiber, markLegacyErrorBoundaryAsFailed, recalculateCurrentTime) {
      var getPublicInstance = config.getPublicInstance,
          mutation = config.mutation,
          persistence = config.persistence;

      var callComponentWillUnmountWithTimer = function callComponentWillUnmountWithTimer(current, instance) {
        startPhaseTimer(current, "componentWillUnmount");
        instance.props = current.memoizedProps;
        instance.state = current.memoizedState;
        instance.componentWillUnmount();
        stopPhaseTimer();
      };

      function safelyCallComponentWillUnmount(current, instance) {
        {
          invokeGuardedCallback$3(null, callComponentWillUnmountWithTimer, null, current, instance);
          if (hasCaughtError$1()) {
            var unmountError = clearCaughtError$1();
            captureError(current, unmountError);
          }
        }
      }

      function safelyDetachRef(current) {
        var ref = current.ref;
        if (ref !== null) {
          if (typeof ref === "function") {
            {
              invokeGuardedCallback$3(null, ref, null, null);
              if (hasCaughtError$1()) {
                var refError = clearCaughtError$1();
                captureError(current, refError);
              }
            }
          } else {
            ref.current = null;
          }
        }
      }

      function commitBeforeMutationLifeCycles(current, finishedWork) {
        switch (finishedWork.tag) {
          case ClassComponent:
            {
              if (finishedWork.effectTag & Snapshot) {
                if (current !== null) {
                  var prevProps = current.memoizedProps;
                  var prevState = current.memoizedState;
                  startPhaseTimer(finishedWork, "getSnapshotBeforeUpdate");
                  var _instance = finishedWork.stateNode;
                  _instance.props = finishedWork.memoizedProps;
                  _instance.state = finishedWork.memoizedState;
                  var snapshot = _instance.getSnapshotBeforeUpdate(prevProps, prevState);
                  {
                    var didWarnSet = didWarnAboutUndefinedSnapshotBeforeUpdate;
                    if (snapshot === undefined && !didWarnSet.has(finishedWork.type)) {
                      didWarnSet.add(finishedWork.type);
                      warning(false, "%s.getSnapshotBeforeUpdate(): A snapshot value (or null) " + "must be returned. You have returned undefined.", getComponentName(finishedWork));
                    }
                  }
                  _instance.__reactInternalSnapshotBeforeUpdate = snapshot;
                  stopPhaseTimer();
                }
              }
              return;
            }
          case HostRoot:
          case HostComponent:
          case HostText:
          case HostPortal:
            return;
          default:
            {
              invariant(false, "This unit of work tag should not have side-effects. This error is " + "likely caused by a bug in React. Please file an issue.");
            }
        }
      }

      function commitLifeCycles(finishedRoot, current, finishedWork, currentTime, committedExpirationTime) {
        switch (finishedWork.tag) {
          case ClassComponent:
            {
              var _instance2 = finishedWork.stateNode;
              if (finishedWork.effectTag & Update) {
                if (current === null) {
                  startPhaseTimer(finishedWork, "componentDidMount");
                  _instance2.props = finishedWork.memoizedProps;
                  _instance2.state = finishedWork.memoizedState;
                  _instance2.componentDidMount();
                  stopPhaseTimer();
                } else {
                  var prevProps = current.memoizedProps;
                  var prevState = current.memoizedState;
                  startPhaseTimer(finishedWork, "componentDidUpdate");
                  _instance2.props = finishedWork.memoizedProps;
                  _instance2.state = finishedWork.memoizedState;
                  _instance2.componentDidUpdate(prevProps, prevState, _instance2.__reactInternalSnapshotBeforeUpdate);
                  stopPhaseTimer();
                }
              }
              var updateQueue = finishedWork.updateQueue;
              if (updateQueue !== null) {
                commitCallbacks(updateQueue, _instance2);
              }
              return;
            }
          case HostRoot:
            {
              var _updateQueue = finishedWork.updateQueue;
              if (_updateQueue !== null) {
                var _instance3 = null;
                if (finishedWork.child !== null) {
                  switch (finishedWork.child.tag) {
                    case HostComponent:
                      _instance3 = getPublicInstance(finishedWork.child.stateNode);
                      break;
                    case ClassComponent:
                      _instance3 = finishedWork.child.stateNode;
                      break;
                  }
                }
                commitCallbacks(_updateQueue, _instance3);
              }
              return;
            }
          case HostComponent:
            {
              var _instance4 = finishedWork.stateNode;

              if (current === null && finishedWork.effectTag & Update) {
                var type = finishedWork.type;
                var props = finishedWork.memoizedProps;
                commitMount(_instance4, type, props, finishedWork);
              }

              return;
            }
          case HostText:
            {
              return;
            }
          case HostPortal:
            {
              return;
            }
          default:
            {
              invariant(false, "This unit of work tag should not have side-effects. This error is " + "likely caused by a bug in React. Please file an issue.");
            }
        }
      }

      function commitErrorLogging(finishedWork, onUncaughtError) {
        switch (finishedWork.tag) {
          case ClassComponent:
            {
              var ctor = finishedWork.type;
              var _instance5 = finishedWork.stateNode;
              var updateQueue = finishedWork.updateQueue;
              invariant(updateQueue !== null && updateQueue.capturedValues !== null, "An error logging effect should not have been scheduled if no errors " + "were captured. This error is likely caused by a bug in React. " + "Please file an issue.");
              var capturedErrors = updateQueue.capturedValues;
              updateQueue.capturedValues = null;

              if (typeof ctor.getDerivedStateFromCatch !== "function") {
                markLegacyErrorBoundaryAsFailed(_instance5);
              }

              _instance5.props = finishedWork.memoizedProps;
              _instance5.state = finishedWork.memoizedState;
              for (var i = 0; i < capturedErrors.length; i++) {
                var errorInfo = capturedErrors[i];
                var _error = errorInfo.value;
                var stack = errorInfo.stack;
                logError(finishedWork, errorInfo);
                _instance5.componentDidCatch(_error, {
                  componentStack: stack !== null ? stack : ""
                });
              }
            }
            break;
          case HostRoot:
            {
              var _updateQueue2 = finishedWork.updateQueue;
              invariant(_updateQueue2 !== null && _updateQueue2.capturedValues !== null, "An error logging effect should not have been scheduled if no errors " + "were captured. This error is likely caused by a bug in React. " + "Please file an issue.");
              var _capturedErrors = _updateQueue2.capturedValues;
              _updateQueue2.capturedValues = null;
              for (var _i = 0; _i < _capturedErrors.length; _i++) {
                var _errorInfo = _capturedErrors[_i];
                logError(finishedWork, _errorInfo);
                onUncaughtError(_errorInfo.value);
              }
              break;
            }
          default:
            invariant(false, "This unit of work tag cannot capture errors.  This error is " + "likely caused by a bug in React. Please file an issue.");
        }
      }

      function commitAttachRef(finishedWork) {
        var ref = finishedWork.ref;
        if (ref !== null) {
          var _instance6 = finishedWork.stateNode;
          var instanceToUse = void 0;
          switch (finishedWork.tag) {
            case HostComponent:
              instanceToUse = getPublicInstance(_instance6);
              break;
            default:
              instanceToUse = _instance6;
          }
          if (typeof ref === "function") {
            ref(instanceToUse);
          } else {
            {
              if (!ref.hasOwnProperty("current")) {
                warning(false, "Unexpected ref object provided for %s. " + "Use either a ref-setter function or React.createRef().%s", getComponentName(finishedWork), getStackAddendumByWorkInProgressFiber(finishedWork));
              }
            }

            ref.current = instanceToUse;
          }
        }
      }

      function commitDetachRef(current) {
        var currentRef = current.ref;
        if (currentRef !== null) {
          if (typeof currentRef === "function") {
            currentRef(null);
          } else {
            currentRef.current = null;
          }
        }
      }

      function commitUnmount(current) {
        if (typeof onCommitUnmount === "function") {
          onCommitUnmount(current);
        }

        switch (current.tag) {
          case ClassComponent:
            {
              safelyDetachRef(current);
              var _instance7 = current.stateNode;
              if (typeof _instance7.componentWillUnmount === "function") {
                safelyCallComponentWillUnmount(current, _instance7);
              }
              return;
            }
          case HostComponent:
            {
              safelyDetachRef(current);
              return;
            }
          case CallComponent:
            {
              commitNestedUnmounts(current.stateNode);
              return;
            }
          case HostPortal:
            {
              if (enableMutatingReconciler && mutation) {
                unmountHostComponents(current);
              } else if (enablePersistentReconciler && persistence) {
                emptyPortalContainer(current);
              }
              return;
            }
        }
      }

      function commitNestedUnmounts(root) {
        var node = root;
        while (true) {
          commitUnmount(node);

          if (node.child !== null && (!mutation || node.tag !== HostPortal)) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          if (node === root) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === root) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function detachFiber(current) {
        current["return"] = null;
        current.child = null;
        if (current.alternate) {
          current.alternate.child = null;
          current.alternate["return"] = null;
        }
      }

      var emptyPortalContainer = void 0;

      if (!mutation) {
        var commitContainer = void 0;
        if (persistence) {
          var replaceContainerChildren = persistence.replaceContainerChildren,
              createContainerChildSet = persistence.createContainerChildSet;

          emptyPortalContainer = function emptyPortalContainer(current) {
            var portal = current.stateNode;
            var containerInfo = portal.containerInfo;

            var emptyChildSet = createContainerChildSet(containerInfo);
            replaceContainerChildren(containerInfo, emptyChildSet);
          };
          commitContainer = function commitContainer(finishedWork) {
            switch (finishedWork.tag) {
              case ClassComponent:
                {
                  return;
                }
              case HostComponent:
                {
                  return;
                }
              case HostText:
                {
                  return;
                }
              case HostRoot:
              case HostPortal:
                {
                  var portalOrRoot = finishedWork.stateNode;
                  var containerInfo = portalOrRoot.containerInfo,
                      _pendingChildren = portalOrRoot.pendingChildren;

                  replaceContainerChildren(containerInfo, _pendingChildren);
                  return;
                }
              default:
                {
                  invariant(false, "This unit of work tag should not have side-effects. This error is " + "likely caused by a bug in React. Please file an issue.");
                }
            }
          };
        } else {
          commitContainer = function commitContainer(finishedWork) {};
        }
        if (enablePersistentReconciler || enableNoopReconciler) {
          return {
            commitResetTextContent: function commitResetTextContent(finishedWork) {},
            commitPlacement: function commitPlacement(finishedWork) {},
            commitDeletion: function commitDeletion(current) {
              commitNestedUnmounts(current);
              detachFiber(current);
            },
            commitWork: function commitWork(current, finishedWork) {
              commitContainer(finishedWork);
            },

            commitLifeCycles: commitLifeCycles,
            commitBeforeMutationLifeCycles: commitBeforeMutationLifeCycles,
            commitErrorLogging: commitErrorLogging,
            commitAttachRef: commitAttachRef,
            commitDetachRef: commitDetachRef
          };
        } else if (persistence) {
          invariant(false, "Persistent reconciler is disabled.");
        } else {
          invariant(false, "Noop reconciler is disabled.");
        }
      }
      var commitMount = mutation.commitMount,
          commitUpdate = mutation.commitUpdate,
          resetTextContent = mutation.resetTextContent,
          commitTextUpdate = mutation.commitTextUpdate,
          appendChild = mutation.appendChild,
          appendChildToContainer = mutation.appendChildToContainer,
          insertBefore = mutation.insertBefore,
          insertInContainerBefore = mutation.insertInContainerBefore,
          removeChild = mutation.removeChild,
          removeChildFromContainer = mutation.removeChildFromContainer;

      function getHostParentFiber(fiber) {
        var parent = fiber["return"];
        while (parent !== null) {
          if (isHostParent(parent)) {
            return parent;
          }
          parent = parent["return"];
        }
        invariant(false, "Expected to find a host parent. This error is likely caused by a bug " + "in React. Please file an issue.");
      }

      function isHostParent(fiber) {
        return fiber.tag === HostComponent || fiber.tag === HostRoot || fiber.tag === HostPortal;
      }

      function getHostSibling(fiber) {
        var node = fiber;
        siblings: while (true) {
          while (node.sibling === null) {
            if (node["return"] === null || isHostParent(node["return"])) {
              return null;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
          while (node.tag !== HostComponent && node.tag !== HostText) {
            if (node.effectTag & Placement) {
              continue siblings;
            }

            if (node.child === null || node.tag === HostPortal) {
              continue siblings;
            } else {
              node.child["return"] = node;
              node = node.child;
            }
          }

          if (!(node.effectTag & Placement)) {
            return node.stateNode;
          }
        }
      }

      function commitPlacement(finishedWork) {
        var parentFiber = getHostParentFiber(finishedWork);
        var parent = void 0;
        var isContainer = void 0;
        switch (parentFiber.tag) {
          case HostComponent:
            parent = parentFiber.stateNode;
            isContainer = false;
            break;
          case HostRoot:
            parent = parentFiber.stateNode.containerInfo;
            isContainer = true;
            break;
          case HostPortal:
            parent = parentFiber.stateNode.containerInfo;
            isContainer = true;
            break;
          default:
            invariant(false, "Invalid host parent fiber. This error is likely caused by a bug " + "in React. Please file an issue.");
        }
        if (parentFiber.effectTag & ContentReset) {
          resetTextContent(parent);

          parentFiber.effectTag &= ~ContentReset;
        }

        var before = getHostSibling(finishedWork);

        var node = finishedWork;
        while (true) {
          if (node.tag === HostComponent || node.tag === HostText) {
            if (before) {
              if (isContainer) {
                insertInContainerBefore(parent, node.stateNode, before);
              } else {
                insertBefore(parent, node.stateNode, before);
              }
            } else {
              if (isContainer) {
                appendChildToContainer(parent, node.stateNode);
              } else {
                appendChild(parent, node.stateNode);
              }
            }
          } else if (node.tag === HostPortal) {} else if (node.child !== null) {
            node.child["return"] = node;
            node = node.child;
            continue;
          }
          if (node === finishedWork) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === finishedWork) {
              return;
            }
            node = node["return"];
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function unmountHostComponents(current) {
        var node = current;

        var currentParentIsValid = false;
        var currentParent = void 0;
        var currentParentIsContainer = void 0;

        while (true) {
          if (!currentParentIsValid) {
            var parent = node["return"];
            findParent: while (true) {
              invariant(parent !== null, "Expected to find a host parent. This error is likely caused by " + "a bug in React. Please file an issue.");
              switch (parent.tag) {
                case HostComponent:
                  currentParent = parent.stateNode;
                  currentParentIsContainer = false;
                  break findParent;
                case HostRoot:
                  currentParent = parent.stateNode.containerInfo;
                  currentParentIsContainer = true;
                  break findParent;
                case HostPortal:
                  currentParent = parent.stateNode.containerInfo;
                  currentParentIsContainer = true;
                  break findParent;
              }
              parent = parent["return"];
            }
            currentParentIsValid = true;
          }

          if (node.tag === HostComponent || node.tag === HostText) {
            commitNestedUnmounts(node);

            if (currentParentIsContainer) {
              removeChildFromContainer(currentParent, node.stateNode);
            } else {
              removeChild(currentParent, node.stateNode);
            }
          } else if (node.tag === HostPortal) {
            currentParent = node.stateNode.containerInfo;

            if (node.child !== null) {
              node.child["return"] = node;
              node = node.child;
              continue;
            }
          } else {
            commitUnmount(node);

            if (node.child !== null) {
              node.child["return"] = node;
              node = node.child;
              continue;
            }
          }
          if (node === current) {
            return;
          }
          while (node.sibling === null) {
            if (node["return"] === null || node["return"] === current) {
              return;
            }
            node = node["return"];
            if (node.tag === HostPortal) {
              currentParentIsValid = false;
            }
          }
          node.sibling["return"] = node["return"];
          node = node.sibling;
        }
      }

      function commitDeletion(current) {
        unmountHostComponents(current);
        detachFiber(current);
      }

      function commitWork(current, finishedWork) {
        switch (finishedWork.tag) {
          case ClassComponent:
            {
              return;
            }
          case HostComponent:
            {
              var _instance8 = finishedWork.stateNode;
              if (_instance8 != null) {
                var newProps = finishedWork.memoizedProps;

                var oldProps = current !== null ? current.memoizedProps : newProps;
                var type = finishedWork.type;

                var updatePayload = finishedWork.updateQueue;
                finishedWork.updateQueue = null;
                if (updatePayload !== null) {
                  commitUpdate(_instance8, updatePayload, type, oldProps, newProps, finishedWork);
                }
              }
              return;
            }
          case HostText:
            {
              invariant(finishedWork.stateNode !== null, "This should have a text node initialized. This error is likely " + "caused by a bug in React. Please file an issue.");
              var textInstance = finishedWork.stateNode;
              var newText = finishedWork.memoizedProps;

              var oldText = current !== null ? current.memoizedProps : newText;
              commitTextUpdate(textInstance, oldText, newText);
              return;
            }
          case HostRoot:
            {
              return;
            }
          default:
            {
              invariant(false, "This unit of work tag should not have side-effects. This error is " + "likely caused by a bug in React. Please file an issue.");
            }
        }
      }

      function commitResetTextContent(current) {
        resetTextContent(current.stateNode);
      }

      if (enableMutatingReconciler) {
        return {
          commitBeforeMutationLifeCycles: commitBeforeMutationLifeCycles,
          commitResetTextContent: commitResetTextContent,
          commitPlacement: commitPlacement,
          commitDeletion: commitDeletion,
          commitWork: commitWork,
          commitLifeCycles: commitLifeCycles,
          commitErrorLogging: commitErrorLogging,
          commitAttachRef: commitAttachRef,
          commitDetachRef: commitDetachRef
        };
      } else {
        invariant(false, "Mutating reconciler is disabled.");
      }
    };

    var NO_CONTEXT = {};

    var ReactFiberHostContext = function ReactFiberHostContext(config, stack) {
      var getChildHostContext = config.getChildHostContext,
          getRootHostContext = config.getRootHostContext;
      var createCursor = stack.createCursor,
          push = stack.push,
          pop = stack.pop;

      var contextStackCursor = createCursor(NO_CONTEXT);
      var contextFiberStackCursor = createCursor(NO_CONTEXT);
      var rootInstanceStackCursor = createCursor(NO_CONTEXT);

      function requiredContext(c) {
        invariant(c !== NO_CONTEXT, "Expected host context to exist. This error is likely caused by a bug " + "in React. Please file an issue.");
        return c;
      }

      function getRootHostContainer() {
        var rootInstance = requiredContext(rootInstanceStackCursor.current);
        return rootInstance;
      }

      function pushHostContainer(fiber, nextRootInstance) {
        push(rootInstanceStackCursor, nextRootInstance, fiber);

        push(contextFiberStackCursor, fiber, fiber);

        push(contextStackCursor, NO_CONTEXT, fiber);
        var nextRootContext = getRootHostContext(nextRootInstance);

        pop(contextStackCursor, fiber);
        push(contextStackCursor, nextRootContext, fiber);
      }

      function popHostContainer(fiber) {
        pop(contextStackCursor, fiber);
        pop(contextFiberStackCursor, fiber);
        pop(rootInstanceStackCursor, fiber);
      }

      function getHostContext() {
        var context = requiredContext(contextStackCursor.current);
        return context;
      }

      function pushHostContext(fiber) {
        var rootInstance = requiredContext(rootInstanceStackCursor.current);
        var context = requiredContext(contextStackCursor.current);
        var nextContext = getChildHostContext(context, fiber.type, rootInstance);

        if (context === nextContext) {
          return;
        }

        push(contextFiberStackCursor, fiber, fiber);
        push(contextStackCursor, nextContext, fiber);
      }

      function popHostContext(fiber) {
        if (contextFiberStackCursor.current !== fiber) {
          return;
        }

        pop(contextStackCursor, fiber);
        pop(contextFiberStackCursor, fiber);
      }

      return {
        getHostContext: getHostContext,
        getRootHostContainer: getRootHostContainer,
        popHostContainer: popHostContainer,
        popHostContext: popHostContext,
        pushHostContainer: pushHostContainer,
        pushHostContext: pushHostContext
      };
    };

    var ReactFiberHydrationContext = function ReactFiberHydrationContext(config) {
      var shouldSetTextContent = config.shouldSetTextContent,
          hydration = config.hydration;

      if (!hydration) {
        return {
          enterHydrationState: function enterHydrationState() {
            return false;
          },
          resetHydrationState: function resetHydrationState() {},
          tryToClaimNextHydratableInstance: function tryToClaimNextHydratableInstance() {},
          prepareToHydrateHostInstance: function prepareToHydrateHostInstance() {
            invariant(false, "Expected prepareToHydrateHostInstance() to never be called. " + "This error is likely caused by a bug in React. Please file an issue.");
          },
          prepareToHydrateHostTextInstance: function prepareToHydrateHostTextInstance() {
            invariant(false, "Expected prepareToHydrateHostTextInstance() to never be called. " + "This error is likely caused by a bug in React. Please file an issue.");
          },
          popHydrationState: function popHydrationState(fiber) {
            return false;
          }
        };
      }

      var canHydrateInstance = hydration.canHydrateInstance,
          canHydrateTextInstance = hydration.canHydrateTextInstance,
          getNextHydratableSibling = hydration.getNextHydratableSibling,
          getFirstHydratableChild = hydration.getFirstHydratableChild,
          hydrateInstance = hydration.hydrateInstance,
          hydrateTextInstance = hydration.hydrateTextInstance,
          didNotMatchHydratedContainerTextInstance = hydration.didNotMatchHydratedContainerTextInstance,
          didNotMatchHydratedTextInstance = hydration.didNotMatchHydratedTextInstance,
          didNotHydrateContainerInstance = hydration.didNotHydrateContainerInstance,
          didNotHydrateInstance = hydration.didNotHydrateInstance,
          didNotFindHydratableContainerInstance = hydration.didNotFindHydratableContainerInstance,
          didNotFindHydratableContainerTextInstance = hydration.didNotFindHydratableContainerTextInstance,
          didNotFindHydratableInstance = hydration.didNotFindHydratableInstance,
          didNotFindHydratableTextInstance = hydration.didNotFindHydratableTextInstance;

      var hydrationParentFiber = null;
      var nextHydratableInstance = null;
      var isHydrating = false;

      function enterHydrationState(fiber) {
        var parentInstance = fiber.stateNode.containerInfo;
        nextHydratableInstance = getFirstHydratableChild(parentInstance);
        hydrationParentFiber = fiber;
        isHydrating = true;
        return true;
      }

      function deleteHydratableInstance(returnFiber, instance) {
        {
          switch (returnFiber.tag) {
            case HostRoot:
              didNotHydrateContainerInstance(returnFiber.stateNode.containerInfo, instance);
              break;
            case HostComponent:
              didNotHydrateInstance(returnFiber.type, returnFiber.memoizedProps, returnFiber.stateNode, instance);
              break;
          }
        }

        var childToDelete = createFiberFromHostInstanceForDeletion();
        childToDelete.stateNode = instance;
        childToDelete["return"] = returnFiber;
        childToDelete.effectTag = Deletion;

        if (returnFiber.lastEffect !== null) {
          returnFiber.lastEffect.nextEffect = childToDelete;
          returnFiber.lastEffect = childToDelete;
        } else {
          returnFiber.firstEffect = returnFiber.lastEffect = childToDelete;
        }
      }

      function insertNonHydratedInstance(returnFiber, fiber) {
        fiber.effectTag |= Placement;
        {
          switch (returnFiber.tag) {
            case HostRoot:
              {
                var parentContainer = returnFiber.stateNode.containerInfo;
                switch (fiber.tag) {
                  case HostComponent:
                    var type = fiber.type;
                    var props = fiber.pendingProps;
                    didNotFindHydratableContainerInstance(parentContainer, type, props);
                    break;
                  case HostText:
                    var text = fiber.pendingProps;
                    didNotFindHydratableContainerTextInstance(parentContainer, text);
                    break;
                }
                break;
              }
            case HostComponent:
              {
                var parentType = returnFiber.type;
                var parentProps = returnFiber.memoizedProps;
                var parentInstance = returnFiber.stateNode;
                switch (fiber.tag) {
                  case HostComponent:
                    var _type = fiber.type;
                    var _props = fiber.pendingProps;
                    didNotFindHydratableInstance(parentType, parentProps, parentInstance, _type, _props);
                    break;
                  case HostText:
                    var _text = fiber.pendingProps;
                    didNotFindHydratableTextInstance(parentType, parentProps, parentInstance, _text);
                    break;
                }
                break;
              }
            default:
              return;
          }
        }
      }

      function tryHydrate(fiber, nextInstance) {
        switch (fiber.tag) {
          case HostComponent:
            {
              var type = fiber.type;
              var props = fiber.pendingProps;
              var instance = canHydrateInstance(nextInstance, type, props);
              if (instance !== null) {
                fiber.stateNode = instance;
                return true;
              }
              return false;
            }
          case HostText:
            {
              var text = fiber.pendingProps;
              var textInstance = canHydrateTextInstance(nextInstance, text);
              if (textInstance !== null) {
                fiber.stateNode = textInstance;
                return true;
              }
              return false;
            }
          default:
            return false;
        }
      }

      function tryToClaimNextHydratableInstance(fiber) {
        if (!isHydrating) {
          return;
        }
        var nextInstance = nextHydratableInstance;
        if (!nextInstance) {
          insertNonHydratedInstance(hydrationParentFiber, fiber);
          isHydrating = false;
          hydrationParentFiber = fiber;
          return;
        }
        if (!tryHydrate(fiber, nextInstance)) {
          nextInstance = getNextHydratableSibling(nextInstance);
          if (!nextInstance || !tryHydrate(fiber, nextInstance)) {
            insertNonHydratedInstance(hydrationParentFiber, fiber);
            isHydrating = false;
            hydrationParentFiber = fiber;
            return;
          }

          deleteHydratableInstance(hydrationParentFiber, nextHydratableInstance);
        }
        hydrationParentFiber = fiber;
        nextHydratableInstance = getFirstHydratableChild(nextInstance);
      }

      function prepareToHydrateHostInstance(fiber, rootContainerInstance, hostContext) {
        var instance = fiber.stateNode;
        var updatePayload = hydrateInstance(instance, fiber.type, fiber.memoizedProps, rootContainerInstance, hostContext, fiber);

        fiber.updateQueue = updatePayload;

        if (updatePayload !== null) {
          return true;
        }
        return false;
      }

      function prepareToHydrateHostTextInstance(fiber) {
        var textInstance = fiber.stateNode;
        var textContent = fiber.memoizedProps;
        var shouldUpdate = hydrateTextInstance(textInstance, textContent, fiber);
        {
          if (shouldUpdate) {
            var returnFiber = hydrationParentFiber;
            if (returnFiber !== null) {
              switch (returnFiber.tag) {
                case HostRoot:
                  {
                    var parentContainer = returnFiber.stateNode.containerInfo;
                    didNotMatchHydratedContainerTextInstance(parentContainer, textInstance, textContent);
                    break;
                  }
                case HostComponent:
                  {
                    var parentType = returnFiber.type;
                    var parentProps = returnFiber.memoizedProps;
                    var parentInstance = returnFiber.stateNode;
                    didNotMatchHydratedTextInstance(parentType, parentProps, parentInstance, textInstance, textContent);
                    break;
                  }
              }
            }
          }
        }
        return shouldUpdate;
      }

      function popToNextHostParent(fiber) {
        var parent = fiber["return"];
        while (parent !== null && parent.tag !== HostComponent && parent.tag !== HostRoot) {
          parent = parent["return"];
        }
        hydrationParentFiber = parent;
      }

      function popHydrationState(fiber) {
        if (fiber !== hydrationParentFiber) {
          return false;
        }
        if (!isHydrating) {
          popToNextHostParent(fiber);
          isHydrating = true;
          return false;
        }

        var type = fiber.type;

        if (fiber.tag !== HostComponent || type !== "head" && type !== "body" && !shouldSetTextContent(type, fiber.memoizedProps)) {
          var nextInstance = nextHydratableInstance;
          while (nextInstance) {
            deleteHydratableInstance(fiber, nextInstance);
            nextInstance = getNextHydratableSibling(nextInstance);
          }
        }

        popToNextHostParent(fiber);
        nextHydratableInstance = hydrationParentFiber ? getNextHydratableSibling(fiber.stateNode) : null;
        return true;
      }

      function resetHydrationState() {
        hydrationParentFiber = null;
        nextHydratableInstance = null;
        isHydrating = false;
      }

      return {
        enterHydrationState: enterHydrationState,
        resetHydrationState: resetHydrationState,
        tryToClaimNextHydratableInstance: tryToClaimNextHydratableInstance,
        prepareToHydrateHostInstance: prepareToHydrateHostInstance,
        prepareToHydrateHostTextInstance: prepareToHydrateHostTextInstance,
        popHydrationState: popHydrationState
      };
    };

    var ReactFiberInstrumentation = {
      debugTool: null
    };

    var ReactFiberInstrumentation_1 = ReactFiberInstrumentation;

    var warnedAboutMissingGetChildContext = void 0;

    {
      warnedAboutMissingGetChildContext = {};
    }

    var ReactFiberLegacyContext = function ReactFiberLegacyContext(stack) {
      var createCursor = stack.createCursor,
          push = stack.push,
          pop = stack.pop;

      var contextStackCursor = createCursor(emptyObject);

      var didPerformWorkStackCursor = createCursor(false);

      var previousContext = emptyObject;

      function getUnmaskedContext(workInProgress) {
        var hasOwnContext = isContextProvider(workInProgress);
        if (hasOwnContext) {
          return previousContext;
        }
        return contextStackCursor.current;
      }

      function cacheContext(workInProgress, unmaskedContext, maskedContext) {
        var instance = workInProgress.stateNode;
        instance.__reactInternalMemoizedUnmaskedChildContext = unmaskedContext;
        instance.__reactInternalMemoizedMaskedChildContext = maskedContext;
      }

      function getMaskedContext(workInProgress, unmaskedContext) {
        var type = workInProgress.type;
        var contextTypes = type.contextTypes;
        if (!contextTypes) {
          return emptyObject;
        }

        var instance = workInProgress.stateNode;
        if (instance && instance.__reactInternalMemoizedUnmaskedChildContext === unmaskedContext) {
          return instance.__reactInternalMemoizedMaskedChildContext;
        }

        var context = {};
        for (var key in contextTypes) {
          context[key] = unmaskedContext[key];
        }

        {
          var name = getComponentName(workInProgress) || "Unknown";
          checkPropTypes(contextTypes, context, "context", name, ReactDebugCurrentFiber.getCurrentFiberStackAddendum);
        }

        if (instance) {
          cacheContext(workInProgress, unmaskedContext, context);
        }

        return context;
      }

      function hasContextChanged() {
        return didPerformWorkStackCursor.current;
      }

      function isContextConsumer(fiber) {
        return fiber.tag === ClassComponent && fiber.type.contextTypes != null;
      }

      function isContextProvider(fiber) {
        return fiber.tag === ClassComponent && fiber.type.childContextTypes != null;
      }

      function popContextProvider(fiber) {
        if (!isContextProvider(fiber)) {
          return;
        }

        pop(didPerformWorkStackCursor, fiber);
        pop(contextStackCursor, fiber);
      }

      function popTopLevelContextObject(fiber) {
        pop(didPerformWorkStackCursor, fiber);
        pop(contextStackCursor, fiber);
      }

      function pushTopLevelContextObject(fiber, context, didChange) {
        invariant(contextStackCursor.cursor == null, "Unexpected context found on stack. " + "This error is likely caused by a bug in React. Please file an issue.");

        push(contextStackCursor, context, fiber);
        push(didPerformWorkStackCursor, didChange, fiber);
      }

      function processChildContext(fiber, parentContext) {
        var instance = fiber.stateNode;
        var childContextTypes = fiber.type.childContextTypes;

        if (typeof instance.getChildContext !== "function") {
          {
            var componentName = getComponentName(fiber) || "Unknown";

            if (!warnedAboutMissingGetChildContext[componentName]) {
              warnedAboutMissingGetChildContext[componentName] = true;
              warning(false, "%s.childContextTypes is specified but there is no getChildContext() method " + "on the instance. You can either define getChildContext() on %s or remove " + "childContextTypes from it.", componentName, componentName);
            }
          }
          return parentContext;
        }

        var childContext = void 0;
        {
          ReactDebugCurrentFiber.setCurrentPhase("getChildContext");
        }
        startPhaseTimer(fiber, "getChildContext");
        childContext = instance.getChildContext();
        stopPhaseTimer();
        {
          ReactDebugCurrentFiber.setCurrentPhase(null);
        }
        for (var contextKey in childContext) {
          invariant(contextKey in childContextTypes, '%s.getChildContext(): key "%s" is not defined in childContextTypes.', getComponentName(fiber) || "Unknown", contextKey);
        }
        {
          var name = getComponentName(fiber) || "Unknown";
          checkPropTypes(childContextTypes, childContext, "child context", name, ReactDebugCurrentFiber.getCurrentFiberStackAddendum);
        }

        return _extends({}, parentContext, childContext);
      }

      function pushContextProvider(workInProgress) {
        if (!isContextProvider(workInProgress)) {
          return false;
        }

        var instance = workInProgress.stateNode;

        var memoizedMergedChildContext = instance && instance.__reactInternalMemoizedMergedChildContext || emptyObject;

        previousContext = contextStackCursor.current;
        push(contextStackCursor, memoizedMergedChildContext, workInProgress);
        push(didPerformWorkStackCursor, didPerformWorkStackCursor.current, workInProgress);

        return true;
      }

      function invalidateContextProvider(workInProgress, didChange) {
        var instance = workInProgress.stateNode;
        invariant(instance, "Expected to have an instance by this point. " + "This error is likely caused by a bug in React. Please file an issue.");

        if (didChange) {
          var mergedContext = processChildContext(workInProgress, previousContext);
          instance.__reactInternalMemoizedMergedChildContext = mergedContext;

          pop(didPerformWorkStackCursor, workInProgress);
          pop(contextStackCursor, workInProgress);

          push(contextStackCursor, mergedContext, workInProgress);
          push(didPerformWorkStackCursor, didChange, workInProgress);
        } else {
          pop(didPerformWorkStackCursor, workInProgress);
          push(didPerformWorkStackCursor, didChange, workInProgress);
        }
      }

      function findCurrentUnmaskedContext(fiber) {
        invariant(isFiberMounted(fiber) && fiber.tag === ClassComponent, "Expected subtree parent to be a mounted class component. " + "This error is likely caused by a bug in React. Please file an issue.");

        var node = fiber;
        while (node.tag !== HostRoot) {
          if (isContextProvider(node)) {
            return node.stateNode.__reactInternalMemoizedMergedChildContext;
          }
          var parent = node["return"];
          invariant(parent, "Found unexpected detached subtree parent. " + "This error is likely caused by a bug in React. Please file an issue.");
          node = parent;
        }
        return node.stateNode.context;
      }

      return {
        getUnmaskedContext: getUnmaskedContext,
        cacheContext: cacheContext,
        getMaskedContext: getMaskedContext,
        hasContextChanged: hasContextChanged,
        isContextConsumer: isContextConsumer,
        isContextProvider: isContextProvider,
        popContextProvider: popContextProvider,
        popTopLevelContextObject: popTopLevelContextObject,
        pushTopLevelContextObject: pushTopLevelContextObject,
        processChildContext: processChildContext,
        pushContextProvider: pushContextProvider,
        invalidateContextProvider: invalidateContextProvider,
        findCurrentUnmaskedContext: findCurrentUnmaskedContext
      };
    };

    var ReactFiberNewContext = function ReactFiberNewContext(stack) {
      var createCursor = stack.createCursor,
          push = stack.push,
          pop = stack.pop;

      var providerCursor = createCursor(null);
      var valueCursor = createCursor(null);
      var changedBitsCursor = createCursor(0);

      var rendererSigil = void 0;
      {
        rendererSigil = {};
      }

      function pushProvider(providerFiber) {
        var context = providerFiber.type._context;

        push(changedBitsCursor, context._changedBits, providerFiber);
        push(valueCursor, context._currentValue, providerFiber);
        push(providerCursor, providerFiber, providerFiber);

        context._currentValue = providerFiber.pendingProps.value;
        context._changedBits = providerFiber.stateNode;

        {
          !(context._currentRenderer === null || context._currentRenderer === rendererSigil) ? warning(false, "Detected multiple renderers concurrently rendering the " + "same context provider. This is currently unsupported.") : void 0;
          context._currentRenderer = rendererSigil;
        }
      }

      function popProvider(providerFiber) {
        var changedBits = changedBitsCursor.current;
        var currentValue = valueCursor.current;

        pop(providerCursor, providerFiber);
        pop(valueCursor, providerFiber);
        pop(changedBitsCursor, providerFiber);

        var context = providerFiber.type._context;
        context._currentValue = currentValue;
        context._changedBits = changedBits;
      }

      return {
        pushProvider: pushProvider,
        popProvider: popProvider
      };
    };

    var ReactFiberStack = function ReactFiberStack() {
      var valueStack = [];

      var fiberStack = void 0;

      {
        fiberStack = [];
      }

      var index = -1;

      function createCursor(defaultValue) {
        return {
          current: defaultValue
        };
      }

      function isEmpty() {
        return index === -1;
      }

      function pop(cursor, fiber) {
        if (index < 0) {
          {
            warning(false, "Unexpected pop.");
          }
          return;
        }

        {
          if (fiber !== fiberStack[index]) {
            warning(false, "Unexpected Fiber popped.");
          }
        }

        cursor.current = valueStack[index];

        valueStack[index] = null;

        {
          fiberStack[index] = null;
        }

        index--;
      }

      function push(cursor, value, fiber) {
        index++;

        valueStack[index] = cursor.current;

        {
          fiberStack[index] = fiber;
        }

        cursor.current = value;
      }

      function checkThatStackIsEmpty() {
        {
          if (index !== -1) {
            warning(false, "Expected an empty stack. Something was not reset properly.");
          }
        }
      }

      function resetStackAfterFatalErrorInDev() {
        {
          index = -1;
          valueStack.length = 0;
          fiberStack.length = 0;
        }
      }

      return {
        createCursor: createCursor,
        isEmpty: isEmpty,
        pop: pop,
        push: push,
        checkThatStackIsEmpty: checkThatStackIsEmpty,
        resetStackAfterFatalErrorInDev: resetStackAfterFatalErrorInDev
      };
    };

    var invokeGuardedCallback$2 = ReactErrorUtils.invokeGuardedCallback;
    var hasCaughtError = ReactErrorUtils.hasCaughtError;
    var clearCaughtError = ReactErrorUtils.clearCaughtError;

    var didWarnAboutStateTransition = void 0;
    var didWarnSetStateChildContext = void 0;
    var warnAboutUpdateOnUnmounted = void 0;
    var warnAboutInvalidUpdates = void 0;

    {
      didWarnAboutStateTransition = false;
      didWarnSetStateChildContext = false;
      var didWarnStateUpdateForUnmountedComponent = {};

      warnAboutUpdateOnUnmounted = function warnAboutUpdateOnUnmounted(fiber) {
        var componentName = getComponentName(fiber) || "ReactClass";
        if (didWarnStateUpdateForUnmountedComponent[componentName]) {
          return;
        }
        warning(false, "Can't call setState (or forceUpdate) on an unmounted component. This " + "is a no-op, but it indicates a memory leak in your application. To " + "fix, cancel all subscriptions and asynchronous tasks in the " + "componentWillUnmount method.%s", getStackAddendumByWorkInProgressFiber(fiber));
        didWarnStateUpdateForUnmountedComponent[componentName] = true;
      };

      warnAboutInvalidUpdates = function warnAboutInvalidUpdates(instance) {
        switch (ReactDebugCurrentFiber.phase) {
          case "getChildContext":
            if (didWarnSetStateChildContext) {
              return;
            }
            warning(false, "setState(...): Cannot call setState() inside getChildContext()");
            didWarnSetStateChildContext = true;
            break;
          case "render":
            if (didWarnAboutStateTransition) {
              return;
            }
            warning(false, "Cannot update during an existing state transition (such as within " + "`render` or another component's constructor). Render methods should " + "be a pure function of props and state; constructor side-effects are " + "an anti-pattern, but can be moved to `componentWillMount`.");
            didWarnAboutStateTransition = true;
            break;
        }
      };
    }

    var ReactFiberScheduler = function ReactFiberScheduler(config) {
      var stack = ReactFiberStack();
      var hostContext = ReactFiberHostContext(config, stack);
      var legacyContext = ReactFiberLegacyContext(stack);
      var newContext = ReactFiberNewContext(stack);
      var popHostContext = hostContext.popHostContext,
          popHostContainer = hostContext.popHostContainer;
      var popTopLevelLegacyContextObject = legacyContext.popTopLevelContextObject,
          popLegacyContextProvider = legacyContext.popContextProvider;
      var popProvider = newContext.popProvider;

      var hydrationContext = ReactFiberHydrationContext(config);

      var _ReactFiberBeginWork = ReactFiberBeginWork(config, hostContext, legacyContext, newContext, hydrationContext, scheduleWork, computeExpirationForFiber),
          beginWork = _ReactFiberBeginWork.beginWork;

      var _ReactFiberCompleteWo = ReactFiberCompleteWork(config, hostContext, legacyContext, newContext, hydrationContext),
          completeWork = _ReactFiberCompleteWo.completeWork;

      var _ReactFiberUnwindWork = ReactFiberUnwindWork(hostContext, legacyContext, newContext, scheduleWork, isAlreadyFailedLegacyErrorBoundary),
          throwException = _ReactFiberUnwindWork.throwException,
          unwindWork = _ReactFiberUnwindWork.unwindWork,
          unwindInterruptedWork = _ReactFiberUnwindWork.unwindInterruptedWork;

      var _ReactFiberCommitWork = ReactFiberCommitWork(config, onCommitPhaseError, scheduleWork, computeExpirationForFiber, markLegacyErrorBoundaryAsFailed, recalculateCurrentTime),
          commitBeforeMutationLifeCycles = _ReactFiberCommitWork.commitBeforeMutationLifeCycles,
          commitResetTextContent = _ReactFiberCommitWork.commitResetTextContent,
          commitPlacement = _ReactFiberCommitWork.commitPlacement,
          commitDeletion = _ReactFiberCommitWork.commitDeletion,
          commitWork = _ReactFiberCommitWork.commitWork,
          commitLifeCycles = _ReactFiberCommitWork.commitLifeCycles,
          commitErrorLogging = _ReactFiberCommitWork.commitErrorLogging,
          commitAttachRef = _ReactFiberCommitWork.commitAttachRef,
          commitDetachRef = _ReactFiberCommitWork.commitDetachRef;

      var now = config.now,
          scheduleDeferredCallback = config.scheduleDeferredCallback,
          cancelDeferredCallback = config.cancelDeferredCallback,
          prepareForCommit = config.prepareForCommit,
          resetAfterCommit = config.resetAfterCommit;

      var originalStartTimeMs = now();
      var mostRecentCurrentTime = msToExpirationTime(0);
      var mostRecentCurrentTimeMs = originalStartTimeMs;

      var lastUniqueAsyncExpiration = 0;

      var expirationContext = NoWork;

      var isWorking = false;

      var nextUnitOfWork = null;
      var nextRoot = null;

      var nextRenderExpirationTime = NoWork;

      var nextEffect = null;

      var isCommitting = false;

      var isRootReadyForCommit = false;

      var legacyErrorBoundariesThatAlreadyFailed = null;

      var interruptedBy = null;

      var stashedWorkInProgressProperties = void 0;
      var replayUnitOfWork = void 0;
      var isReplayingFailedUnitOfWork = void 0;
      var originalReplayError = void 0;
      var rethrowOriginalError = void 0;
      if (true && replayFailedUnitOfWorkWithInvokeGuardedCallback) {
        stashedWorkInProgressProperties = null;
        isReplayingFailedUnitOfWork = false;
        originalReplayError = null;
        replayUnitOfWork = function replayUnitOfWork(failedUnitOfWork, error, isAsync) {
          assignFiberPropertiesInDEV(failedUnitOfWork, stashedWorkInProgressProperties);
          switch (failedUnitOfWork.tag) {
            case HostRoot:
              popHostContainer(failedUnitOfWork);
              popTopLevelLegacyContextObject(failedUnitOfWork);
              break;
            case HostComponent:
              popHostContext(failedUnitOfWork);
              break;
            case ClassComponent:
              popLegacyContextProvider(failedUnitOfWork);
              break;
            case HostPortal:
              popHostContainer(failedUnitOfWork);
              break;
            case ContextProvider:
              popProvider(failedUnitOfWork);
              break;
          }

          isReplayingFailedUnitOfWork = true;
          originalReplayError = error;
          invokeGuardedCallback$2(null, workLoop, null, isAsync);
          isReplayingFailedUnitOfWork = false;
          originalReplayError = null;
          if (hasCaughtError()) {
            clearCaughtError();
          } else {
            nextUnitOfWork = failedUnitOfWork;
          }
        };
        rethrowOriginalError = function rethrowOriginalError() {
          throw originalReplayError;
        };
      }

      function resetStack() {
        if (nextUnitOfWork !== null) {
          var interruptedWork = nextUnitOfWork["return"];
          while (interruptedWork !== null) {
            unwindInterruptedWork(interruptedWork);
            interruptedWork = interruptedWork["return"];
          }
        }

        {
          ReactStrictModeWarnings.discardPendingWarnings();
          stack.checkThatStackIsEmpty();
        }

        nextRoot = null;
        nextRenderExpirationTime = NoWork;
        nextUnitOfWork = null;

        isRootReadyForCommit = false;
      }

      function commitAllHostEffects() {
        while (nextEffect !== null) {
          {
            ReactDebugCurrentFiber.setCurrentFiber(nextEffect);
          }
          recordEffect();

          var effectTag = nextEffect.effectTag;

          if (effectTag & ContentReset) {
            commitResetTextContent(nextEffect);
          }

          if (effectTag & Ref) {
            var current = nextEffect.alternate;
            if (current !== null) {
              commitDetachRef(current);
            }
          }

          var primaryEffectTag = effectTag & (Placement | Update | Deletion);
          switch (primaryEffectTag) {
            case Placement:
              {
                commitPlacement(nextEffect);

                nextEffect.effectTag &= ~Placement;
                break;
              }
            case PlacementAndUpdate:
              {
                commitPlacement(nextEffect);

                nextEffect.effectTag &= ~Placement;

                var _current = nextEffect.alternate;
                commitWork(_current, nextEffect);
                break;
              }
            case Update:
              {
                var _current2 = nextEffect.alternate;
                commitWork(_current2, nextEffect);
                break;
              }
            case Deletion:
              {
                commitDeletion(nextEffect);
                break;
              }
          }
          nextEffect = nextEffect.nextEffect;
        }

        {
          ReactDebugCurrentFiber.resetCurrentFiber();
        }
      }

      function commitBeforeMutationLifecycles() {
        while (nextEffect !== null) {
          var effectTag = nextEffect.effectTag;

          if (effectTag & Snapshot) {
            recordEffect();
            var current = nextEffect.alternate;
            commitBeforeMutationLifeCycles(current, nextEffect);
          }

          nextEffect = nextEffect.nextEffect;
        }
      }

      function commitAllLifeCycles(finishedRoot, currentTime, committedExpirationTime) {
        {
          ReactStrictModeWarnings.flushPendingUnsafeLifecycleWarnings();

          if (warnAboutDeprecatedLifecycles) {
            ReactStrictModeWarnings.flushPendingDeprecationWarnings();
          }
        }
        while (nextEffect !== null) {
          var effectTag = nextEffect.effectTag;

          if (effectTag & (Update | Callback)) {
            recordEffect();
            var current = nextEffect.alternate;
            commitLifeCycles(finishedRoot, current, nextEffect, currentTime, committedExpirationTime);
          }

          if (effectTag & ErrLog) {
            commitErrorLogging(nextEffect, onUncaughtError);
          }

          if (effectTag & Ref) {
            recordEffect();
            commitAttachRef(nextEffect);
          }

          var next = nextEffect.nextEffect;

          nextEffect.nextEffect = null;

          nextEffect = next;
        }
      }

      function isAlreadyFailedLegacyErrorBoundary(instance) {
        return legacyErrorBoundariesThatAlreadyFailed !== null && legacyErrorBoundariesThatAlreadyFailed.has(instance);
      }

      function markLegacyErrorBoundaryAsFailed(instance) {
        if (legacyErrorBoundariesThatAlreadyFailed === null) {
          legacyErrorBoundariesThatAlreadyFailed = new Set([instance]);
        } else {
          legacyErrorBoundariesThatAlreadyFailed.add(instance);
        }
      }

      function commitRoot(finishedWork) {
        isWorking = true;
        isCommitting = true;
        startCommitTimer();

        var root = finishedWork.stateNode;
        invariant(root.current !== finishedWork, "Cannot commit the same tree as before. This is probably a bug " + "related to the return field. This error is likely caused by a bug " + "in React. Please file an issue.");
        var committedExpirationTime = root.pendingCommitExpirationTime;
        invariant(committedExpirationTime !== NoWork, "Cannot commit an incomplete root. This error is likely caused by a " + "bug in React. Please file an issue.");
        root.pendingCommitExpirationTime = NoWork;

        var currentTime = recalculateCurrentTime();

        ReactCurrentOwner.current = null;

        var firstEffect = void 0;
        if (finishedWork.effectTag > PerformedWork) {
          if (finishedWork.lastEffect !== null) {
            finishedWork.lastEffect.nextEffect = finishedWork;
            firstEffect = finishedWork.firstEffect;
          } else {
            firstEffect = finishedWork;
          }
        } else {
          firstEffect = finishedWork.firstEffect;
        }

        prepareForCommit(root.containerInfo);

        nextEffect = firstEffect;
        startCommitSnapshotEffectsTimer();
        while (nextEffect !== null) {
          var didError = false;
          var error = void 0;
          {
            invokeGuardedCallback$2(null, commitBeforeMutationLifecycles, null);
            if (hasCaughtError()) {
              didError = true;
              error = clearCaughtError();
            }
          }
          if (didError) {
            invariant(nextEffect !== null, "Should have next effect. This error is likely caused by a bug " + "in React. Please file an issue.");
            onCommitPhaseError(nextEffect, error);

            if (nextEffect !== null) {
              nextEffect = nextEffect.nextEffect;
            }
          }
        }
        stopCommitSnapshotEffectsTimer();

        nextEffect = firstEffect;
        startCommitHostEffectsTimer();
        while (nextEffect !== null) {
          var _didError = false;
          var _error = void 0;
          {
            invokeGuardedCallback$2(null, commitAllHostEffects, null);
            if (hasCaughtError()) {
              _didError = true;
              _error = clearCaughtError();
            }
          }
          if (_didError) {
            invariant(nextEffect !== null, "Should have next effect. This error is likely caused by a bug " + "in React. Please file an issue.");
            onCommitPhaseError(nextEffect, _error);

            if (nextEffect !== null) {
              nextEffect = nextEffect.nextEffect;
            }
          }
        }
        stopCommitHostEffectsTimer();

        resetAfterCommit(root.containerInfo);

        root.current = finishedWork;

        nextEffect = firstEffect;
        startCommitLifeCyclesTimer();
        while (nextEffect !== null) {
          var _didError2 = false;
          var _error2 = void 0;
          {
            invokeGuardedCallback$2(null, commitAllLifeCycles, null, root, currentTime, committedExpirationTime);
            if (hasCaughtError()) {
              _didError2 = true;
              _error2 = clearCaughtError();
            }
          }
          if (_didError2) {
            invariant(nextEffect !== null, "Should have next effect. This error is likely caused by a bug " + "in React. Please file an issue.");
            onCommitPhaseError(nextEffect, _error2);
            if (nextEffect !== null) {
              nextEffect = nextEffect.nextEffect;
            }
          }
        }

        isCommitting = false;
        isWorking = false;
        stopCommitLifeCyclesTimer();
        stopCommitTimer();
        if (typeof onCommitRoot === "function") {
          onCommitRoot(finishedWork.stateNode);
        }
        if (true && ReactFiberInstrumentation_1.debugTool) {
          ReactFiberInstrumentation_1.debugTool.onCommitWork(finishedWork);
        }

        var remainingTime = root.current.expirationTime;
        if (remainingTime === NoWork) {
          legacyErrorBoundariesThatAlreadyFailed = null;
        }
        return remainingTime;
      }

      function resetExpirationTime(workInProgress, renderTime) {
        if (renderTime !== Never && workInProgress.expirationTime === Never) {
          return;
        }

        var newExpirationTime = getUpdateExpirationTime(workInProgress);

        var child = workInProgress.child;
        while (child !== null) {
          if (child.expirationTime !== NoWork && (newExpirationTime === NoWork || newExpirationTime > child.expirationTime)) {
            newExpirationTime = child.expirationTime;
          }
          child = child.sibling;
        }
        workInProgress.expirationTime = newExpirationTime;
      }

      function completeUnitOfWork(workInProgress) {
        while (true) {
          var current = workInProgress.alternate;
          {
            ReactDebugCurrentFiber.setCurrentFiber(workInProgress);
          }

          var returnFiber = workInProgress["return"];
          var siblingFiber = workInProgress.sibling;

          if ((workInProgress.effectTag & Incomplete) === NoEffect) {
            var next = completeWork(current, workInProgress, nextRenderExpirationTime);
            stopWorkTimer(workInProgress);
            resetExpirationTime(workInProgress, nextRenderExpirationTime);
            {
              ReactDebugCurrentFiber.resetCurrentFiber();
            }

            if (next !== null) {
              stopWorkTimer(workInProgress);
              if (true && ReactFiberInstrumentation_1.debugTool) {
                ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
              }

              return next;
            }

            if (returnFiber !== null && (returnFiber.effectTag & Incomplete) === NoEffect) {
              if (returnFiber.firstEffect === null) {
                returnFiber.firstEffect = workInProgress.firstEffect;
              }
              if (workInProgress.lastEffect !== null) {
                if (returnFiber.lastEffect !== null) {
                  returnFiber.lastEffect.nextEffect = workInProgress.firstEffect;
                }
                returnFiber.lastEffect = workInProgress.lastEffect;
              }

              var effectTag = workInProgress.effectTag;

              if (effectTag > PerformedWork) {
                if (returnFiber.lastEffect !== null) {
                  returnFiber.lastEffect.nextEffect = workInProgress;
                } else {
                  returnFiber.firstEffect = workInProgress;
                }
                returnFiber.lastEffect = workInProgress;
              }
            }

            if (true && ReactFiberInstrumentation_1.debugTool) {
              ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
            }

            if (siblingFiber !== null) {
              return siblingFiber;
            } else if (returnFiber !== null) {
              workInProgress = returnFiber;
              continue;
            } else {
              isRootReadyForCommit = true;
              return null;
            }
          } else {
            var _next = unwindWork(workInProgress);

            if (workInProgress.effectTag & DidCapture) {
              stopFailedWorkTimer(workInProgress);
            } else {
              stopWorkTimer(workInProgress);
            }

            {
              ReactDebugCurrentFiber.resetCurrentFiber();
            }

            if (_next !== null) {
              stopWorkTimer(workInProgress);
              if (true && ReactFiberInstrumentation_1.debugTool) {
                ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
              }

              _next.effectTag &= HostEffectMask;
              return _next;
            }

            if (returnFiber !== null) {
              returnFiber.firstEffect = returnFiber.lastEffect = null;
              returnFiber.effectTag |= Incomplete;
            }

            if (true && ReactFiberInstrumentation_1.debugTool) {
              ReactFiberInstrumentation_1.debugTool.onCompleteWork(workInProgress);
            }

            if (siblingFiber !== null) {
              return siblingFiber;
            } else if (returnFiber !== null) {
              workInProgress = returnFiber;
              continue;
            } else {
              return null;
            }
          }
        }

        return null;
      }

      function performUnitOfWork(workInProgress) {
        var current = workInProgress.alternate;

        startWorkTimer(workInProgress);
        {
          ReactDebugCurrentFiber.setCurrentFiber(workInProgress);
        }

        if (true && replayFailedUnitOfWorkWithInvokeGuardedCallback) {
          stashedWorkInProgressProperties = assignFiberPropertiesInDEV(stashedWorkInProgressProperties, workInProgress);
        }
        var next = beginWork(current, workInProgress, nextRenderExpirationTime);
        {
          ReactDebugCurrentFiber.resetCurrentFiber();
          if (isReplayingFailedUnitOfWork) {
            rethrowOriginalError();
          }
        }
        if (true && ReactFiberInstrumentation_1.debugTool) {
          ReactFiberInstrumentation_1.debugTool.onBeginWork(workInProgress);
        }

        if (next === null) {
          next = completeUnitOfWork(workInProgress);
        }

        ReactCurrentOwner.current = null;

        return next;
      }

      function workLoop(isAsync) {
        if (!isAsync) {
          while (nextUnitOfWork !== null) {
            nextUnitOfWork = performUnitOfWork(nextUnitOfWork);
          }
        } else {
          while (nextUnitOfWork !== null && !shouldYield()) {
            nextUnitOfWork = performUnitOfWork(nextUnitOfWork);
          }
        }
      }

      function renderRoot(root, expirationTime, isAsync) {
        invariant(!isWorking, "renderRoot was called recursively. This error is likely caused " + "by a bug in React. Please file an issue.");
        isWorking = true;

        if (expirationTime !== nextRenderExpirationTime || root !== nextRoot || nextUnitOfWork === null) {
          resetStack();
          nextRoot = root;
          nextRenderExpirationTime = expirationTime;
          nextUnitOfWork = createWorkInProgress(nextRoot.current, null, nextRenderExpirationTime);
          root.pendingCommitExpirationTime = NoWork;
        }

        var didFatal = false;

        startWorkLoopTimer(nextUnitOfWork);

        do {
          try {
            workLoop(isAsync);
          } catch (thrownValue) {
            if (nextUnitOfWork === null) {
              didFatal = true;
              onUncaughtError(thrownValue);
              break;
            }

            if (true && replayFailedUnitOfWorkWithInvokeGuardedCallback) {
              var failedUnitOfWork = nextUnitOfWork;
              replayUnitOfWork(failedUnitOfWork, thrownValue, isAsync);
            }

            var sourceFiber = nextUnitOfWork;
            var returnFiber = sourceFiber["return"];
            if (returnFiber === null) {
              didFatal = true;
              onUncaughtError(thrownValue);
              break;
            }
            throwException(returnFiber, sourceFiber, thrownValue);
            nextUnitOfWork = completeUnitOfWork(sourceFiber);
          }
          break;
        } while (true);

        var didCompleteRoot = false;
        isWorking = false;

        if (didFatal) {
          stopWorkLoopTimer(interruptedBy, didCompleteRoot);
          interruptedBy = null;

          {
            stack.resetStackAfterFatalErrorInDev();
          }
          return null;
        } else if (nextUnitOfWork === null) {
          if (isRootReadyForCommit) {
            didCompleteRoot = true;
            stopWorkLoopTimer(interruptedBy, didCompleteRoot);
            interruptedBy = null;

            root.pendingCommitExpirationTime = expirationTime;
            var finishedWork = root.current.alternate;
            return finishedWork;
          } else {
            stopWorkLoopTimer(interruptedBy, didCompleteRoot);
            interruptedBy = null;
            invariant(false, "Expired work should have completed. This error is likely caused " + "by a bug in React. Please file an issue.");
          }
        } else {
          stopWorkLoopTimer(interruptedBy, didCompleteRoot);
          interruptedBy = null;

          return null;
        }
      }

      function scheduleCapture(sourceFiber, boundaryFiber, value, expirationTime) {
        var capturedValue = createCapturedValue(value, sourceFiber);
        var update = {
          expirationTime: expirationTime,
          partialState: null,
          callback: null,
          isReplace: false,
          isForced: false,
          capturedValue: capturedValue,
          next: null
        };
        insertUpdateIntoFiber(boundaryFiber, update);
        scheduleWork(boundaryFiber, expirationTime);
      }

      function dispatch(sourceFiber, value, expirationTime) {
        invariant(!isWorking || isCommitting, "dispatch: Cannot dispatch during the render phase.");

        var fiber = sourceFiber["return"];
        while (fiber !== null) {
          switch (fiber.tag) {
            case ClassComponent:
              var ctor = fiber.type;
              var instance = fiber.stateNode;
              if (typeof ctor.getDerivedStateFromCatch === "function" || typeof instance.componentDidCatch === "function" && !isAlreadyFailedLegacyErrorBoundary(instance)) {
                scheduleCapture(sourceFiber, fiber, value, expirationTime);
                return;
              }
              break;

            case HostRoot:
              scheduleCapture(sourceFiber, fiber, value, expirationTime);
              return;
          }
          fiber = fiber["return"];
        }

        if (sourceFiber.tag === HostRoot) {
          scheduleCapture(sourceFiber, sourceFiber, value, expirationTime);
        }
      }

      function onCommitPhaseError(fiber, error) {
        return dispatch(fiber, error, Sync);
      }

      function computeAsyncExpiration(currentTime) {
        var expirationMs = 5000;
        var bucketSizeMs = 250;
        return computeExpirationBucket(currentTime, expirationMs, bucketSizeMs);
      }

      function computeInteractiveExpiration(currentTime) {
        var expirationMs = 500;
        var bucketSizeMs = 100;
        return computeExpirationBucket(currentTime, expirationMs, bucketSizeMs);
      }

      function computeUniqueAsyncExpiration() {
        var currentTime = recalculateCurrentTime();
        var result = computeAsyncExpiration(currentTime);
        if (result <= lastUniqueAsyncExpiration) {
          result = lastUniqueAsyncExpiration + 1;
        }
        lastUniqueAsyncExpiration = result;
        return lastUniqueAsyncExpiration;
      }

      function computeExpirationForFiber(fiber) {
        var expirationTime = void 0;
        if (expirationContext !== NoWork) {
          expirationTime = expirationContext;
        } else if (isWorking) {
          if (isCommitting) {
            expirationTime = Sync;
          } else {
            expirationTime = nextRenderExpirationTime;
          }
        } else {
          if (fiber.mode & AsyncMode) {
            if (isBatchingInteractiveUpdates) {
              var currentTime = recalculateCurrentTime();
              expirationTime = computeInteractiveExpiration(currentTime);
            } else {
              var _currentTime = recalculateCurrentTime();
              expirationTime = computeAsyncExpiration(_currentTime);
            }
          } else {
            expirationTime = Sync;
          }
        }
        if (isBatchingInteractiveUpdates) {
          if (lowestPendingInteractiveExpirationTime === NoWork || expirationTime > lowestPendingInteractiveExpirationTime) {
            lowestPendingInteractiveExpirationTime = expirationTime;
          }
        }
        return expirationTime;
      }

      function scheduleWork(fiber, expirationTime) {
        return scheduleWorkImpl(fiber, expirationTime, false);
      }

      function scheduleWorkImpl(fiber, expirationTime, isErrorRecovery) {
        recordScheduleUpdate();

        {
          if (!isErrorRecovery && fiber.tag === ClassComponent) {
            var instance = fiber.stateNode;
            warnAboutInvalidUpdates(instance);
          }
        }

        var node = fiber;
        while (node !== null) {
          if (node.expirationTime === NoWork || node.expirationTime > expirationTime) {
            node.expirationTime = expirationTime;
          }
          if (node.alternate !== null) {
            if (node.alternate.expirationTime === NoWork || node.alternate.expirationTime > expirationTime) {
              node.alternate.expirationTime = expirationTime;
            }
          }
          if (node["return"] === null) {
            if (node.tag === HostRoot) {
              var root = node.stateNode;
              if (!isWorking && nextRenderExpirationTime !== NoWork && expirationTime < nextRenderExpirationTime) {
                interruptedBy = fiber;
                resetStack();
              }
              if (!isWorking || isCommitting || nextRoot !== root) {
                requestWork(root, expirationTime);
              }
              if (nestedUpdateCount > NESTED_UPDATE_LIMIT) {
                invariant(false, "Maximum update depth exceeded. This can happen when a " + "component repeatedly calls setState inside " + "componentWillUpdate or componentDidUpdate. React limits " + "the number of nested updates to prevent infinite loops.");
              }
            } else {
              {
                if (!isErrorRecovery && fiber.tag === ClassComponent) {
                  warnAboutUpdateOnUnmounted(fiber);
                }
              }
              return;
            }
          }
          node = node["return"];
        }
      }

      function recalculateCurrentTime() {
        mostRecentCurrentTimeMs = now() - originalStartTimeMs;
        mostRecentCurrentTime = msToExpirationTime(mostRecentCurrentTimeMs);
        return mostRecentCurrentTime;
      }

      function deferredUpdates(fn) {
        var previousExpirationContext = expirationContext;
        var currentTime = recalculateCurrentTime();
        expirationContext = computeAsyncExpiration(currentTime);
        try {
          return fn();
        } finally {
          expirationContext = previousExpirationContext;
        }
      }
      function syncUpdates(fn, a, b, c, d) {
        var previousExpirationContext = expirationContext;
        expirationContext = Sync;
        try {
          return fn(a, b, c, d);
        } finally {
          expirationContext = previousExpirationContext;
        }
      }

      var firstScheduledRoot = null;
      var lastScheduledRoot = null;

      var callbackExpirationTime = NoWork;
      var callbackID = -1;
      var isRendering = false;
      var nextFlushedRoot = null;
      var nextFlushedExpirationTime = NoWork;
      var lowestPendingInteractiveExpirationTime = NoWork;
      var deadlineDidExpire = false;
      var hasUnhandledError = false;
      var unhandledError = null;
      var deadline = null;

      var isBatchingUpdates = false;
      var isUnbatchingUpdates = false;
      var isBatchingInteractiveUpdates = false;

      var completedBatches = null;

      var NESTED_UPDATE_LIMIT = 1000;
      var nestedUpdateCount = 0;

      var timeHeuristicForUnitOfWork = 1;

      function scheduleCallbackWithExpiration(expirationTime) {
        if (callbackExpirationTime !== NoWork) {
          if (expirationTime > callbackExpirationTime) {
            return;
          } else {
            cancelDeferredCallback(callbackID);
          }
        } else {
          startRequestCallbackTimer();
        }

        var currentMs = now() - originalStartTimeMs;
        var expirationMs = expirationTimeToMs(expirationTime);
        var timeout = expirationMs - currentMs;

        callbackExpirationTime = expirationTime;
        callbackID = scheduleDeferredCallback(performAsyncWork, {
          timeout: timeout
        });
      }

      function requestWork(root, expirationTime) {
        addRootToSchedule(root, expirationTime);

        if (isRendering) {
          return;
        }

        if (isBatchingUpdates) {
          if (isUnbatchingUpdates) {
            nextFlushedRoot = root;
            nextFlushedExpirationTime = Sync;
            performWorkOnRoot(root, Sync, false);
          }
          return;
        }

        if (expirationTime === Sync) {
          performSyncWork();
        } else {
          scheduleCallbackWithExpiration(expirationTime);
        }
      }

      function addRootToSchedule(root, expirationTime) {
        if (root.nextScheduledRoot === null) {
          root.remainingExpirationTime = expirationTime;
          if (lastScheduledRoot === null) {
            firstScheduledRoot = lastScheduledRoot = root;
            root.nextScheduledRoot = root;
          } else {
            lastScheduledRoot.nextScheduledRoot = root;
            lastScheduledRoot = root;
            lastScheduledRoot.nextScheduledRoot = firstScheduledRoot;
          }
        } else {
          var remainingExpirationTime = root.remainingExpirationTime;
          if (remainingExpirationTime === NoWork || expirationTime < remainingExpirationTime) {
            root.remainingExpirationTime = expirationTime;
          }
        }
      }

      function findHighestPriorityRoot() {
        var highestPriorityWork = NoWork;
        var highestPriorityRoot = null;
        if (lastScheduledRoot !== null) {
          var previousScheduledRoot = lastScheduledRoot;
          var root = firstScheduledRoot;
          while (root !== null) {
            var remainingExpirationTime = root.remainingExpirationTime;
            if (remainingExpirationTime === NoWork) {
              invariant(previousScheduledRoot !== null && lastScheduledRoot !== null, "Should have a previous and last root. This error is likely " + "caused by a bug in React. Please file an issue.");
              if (root === root.nextScheduledRoot) {
                root.nextScheduledRoot = null;
                firstScheduledRoot = lastScheduledRoot = null;
                break;
              } else if (root === firstScheduledRoot) {
                var next = root.nextScheduledRoot;
                firstScheduledRoot = next;
                lastScheduledRoot.nextScheduledRoot = next;
                root.nextScheduledRoot = null;
              } else if (root === lastScheduledRoot) {
                lastScheduledRoot = previousScheduledRoot;
                lastScheduledRoot.nextScheduledRoot = firstScheduledRoot;
                root.nextScheduledRoot = null;
                break;
              } else {
                previousScheduledRoot.nextScheduledRoot = root.nextScheduledRoot;
                root.nextScheduledRoot = null;
              }
              root = previousScheduledRoot.nextScheduledRoot;
            } else {
              if (highestPriorityWork === NoWork || remainingExpirationTime < highestPriorityWork) {
                highestPriorityWork = remainingExpirationTime;
                highestPriorityRoot = root;
              }
              if (root === lastScheduledRoot) {
                break;
              }
              previousScheduledRoot = root;
              root = root.nextScheduledRoot;
            }
          }
        }

        var previousFlushedRoot = nextFlushedRoot;
        if (previousFlushedRoot !== null && previousFlushedRoot === highestPriorityRoot && highestPriorityWork === Sync) {
          nestedUpdateCount++;
        } else {
          nestedUpdateCount = 0;
        }
        nextFlushedRoot = highestPriorityRoot;
        nextFlushedExpirationTime = highestPriorityWork;
      }

      function performAsyncWork(dl) {
        performWork(NoWork, true, dl);
      }

      function performSyncWork() {
        performWork(Sync, false, null);
      }

      function performWork(minExpirationTime, isAsync, dl) {
        deadline = dl;

        findHighestPriorityRoot();

        if (enableUserTimingAPI && deadline !== null) {
          var didExpire = nextFlushedExpirationTime < recalculateCurrentTime();
          var timeout = expirationTimeToMs(nextFlushedExpirationTime);
          stopRequestCallbackTimer(didExpire, timeout);
        }

        if (isAsync) {
          while (nextFlushedRoot !== null && nextFlushedExpirationTime !== NoWork && (minExpirationTime === NoWork || minExpirationTime >= nextFlushedExpirationTime) && (!deadlineDidExpire || recalculateCurrentTime() >= nextFlushedExpirationTime)) {
            performWorkOnRoot(nextFlushedRoot, nextFlushedExpirationTime, !deadlineDidExpire);
            findHighestPriorityRoot();
          }
        } else {
          while (nextFlushedRoot !== null && nextFlushedExpirationTime !== NoWork && (minExpirationTime === NoWork || minExpirationTime >= nextFlushedExpirationTime)) {
            performWorkOnRoot(nextFlushedRoot, nextFlushedExpirationTime, false);
            findHighestPriorityRoot();
          }
        }

        if (deadline !== null) {
          callbackExpirationTime = NoWork;
          callbackID = -1;
        }

        if (nextFlushedExpirationTime !== NoWork) {
          scheduleCallbackWithExpiration(nextFlushedExpirationTime);
        }

        deadline = null;
        deadlineDidExpire = false;

        finishRendering();
      }

      function flushRoot(root, expirationTime) {
        invariant(!isRendering, "work.commit(): Cannot commit while already rendering. This likely " + "means you attempted to commit from inside a lifecycle method.");

        nextFlushedRoot = root;
        nextFlushedExpirationTime = expirationTime;
        performWorkOnRoot(root, expirationTime, false);

        performSyncWork();
        finishRendering();
      }

      function finishRendering() {
        nestedUpdateCount = 0;

        if (completedBatches !== null) {
          var batches = completedBatches;
          completedBatches = null;
          for (var i = 0; i < batches.length; i++) {
            var batch = batches[i];
            try {
              batch._onComplete();
            } catch (error) {
              if (!hasUnhandledError) {
                hasUnhandledError = true;
                unhandledError = error;
              }
            }
          }
        }

        if (hasUnhandledError) {
          var error = unhandledError;
          unhandledError = null;
          hasUnhandledError = false;
          throw error;
        }
      }

      function performWorkOnRoot(root, expirationTime, isAsync) {
        invariant(!isRendering, "performWorkOnRoot was called recursively. This error is likely caused " + "by a bug in React. Please file an issue.");

        isRendering = true;

        if (!isAsync) {
          var finishedWork = root.finishedWork;
          if (finishedWork !== null) {
            completeRoot(root, finishedWork, expirationTime);
          } else {
            root.finishedWork = null;
            finishedWork = renderRoot(root, expirationTime, false);
            if (finishedWork !== null) {
              completeRoot(root, finishedWork, expirationTime);
            }
          }
        } else {
          var _finishedWork = root.finishedWork;
          if (_finishedWork !== null) {
            completeRoot(root, _finishedWork, expirationTime);
          } else {
            root.finishedWork = null;
            _finishedWork = renderRoot(root, expirationTime, true);
            if (_finishedWork !== null) {
              if (!shouldYield()) {
                completeRoot(root, _finishedWork, expirationTime);
              } else {
                root.finishedWork = _finishedWork;
              }
            }
          }
        }

        isRendering = false;
      }

      function completeRoot(root, finishedWork, expirationTime) {
        var firstBatch = root.firstBatch;
        if (firstBatch !== null && firstBatch._expirationTime <= expirationTime) {
          if (completedBatches === null) {
            completedBatches = [firstBatch];
          } else {
            completedBatches.push(firstBatch);
          }
          if (firstBatch._defer) {
            root.finishedWork = finishedWork;
            root.remainingExpirationTime = NoWork;
            return;
          }
        }

        root.finishedWork = null;
        root.remainingExpirationTime = commitRoot(finishedWork);
      }

      function shouldYield() {
        if (deadline === null) {
          return false;
        }
        if (deadline.timeRemaining() > timeHeuristicForUnitOfWork) {
          return false;
        }
        deadlineDidExpire = true;
        return true;
      }

      function onUncaughtError(error) {
        invariant(nextFlushedRoot !== null, "Should be working on a root. This error is likely caused by a bug in " + "React. Please file an issue.");

        nextFlushedRoot.remainingExpirationTime = NoWork;
        if (!hasUnhandledError) {
          hasUnhandledError = true;
          unhandledError = error;
        }
      }

      function batchedUpdates(fn, a) {
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingUpdates = true;
        try {
          return fn(a);
        } finally {
          isBatchingUpdates = previousIsBatchingUpdates;
          if (!isBatchingUpdates && !isRendering) {
            performSyncWork();
          }
        }
      }

      function unbatchedUpdates(fn, a) {
        if (isBatchingUpdates && !isUnbatchingUpdates) {
          isUnbatchingUpdates = true;
          try {
            return fn(a);
          } finally {
            isUnbatchingUpdates = false;
          }
        }
        return fn(a);
      }

      function flushSync(fn, a) {
        invariant(!isRendering, "flushSync was called from inside a lifecycle method. It cannot be " + "called when React is already rendering.");
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingUpdates = true;
        try {
          return syncUpdates(fn, a);
        } finally {
          isBatchingUpdates = previousIsBatchingUpdates;
          performSyncWork();
        }
      }

      function interactiveUpdates(fn, a, b) {
        if (isBatchingInteractiveUpdates) {
          return fn(a, b);
        }

        if (!isBatchingUpdates && !isRendering && lowestPendingInteractiveExpirationTime !== NoWork) {
          performWork(lowestPendingInteractiveExpirationTime, false, null);
          lowestPendingInteractiveExpirationTime = NoWork;
        }
        var previousIsBatchingInteractiveUpdates = isBatchingInteractiveUpdates;
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingInteractiveUpdates = true;
        isBatchingUpdates = true;
        try {
          return fn(a, b);
        } finally {
          isBatchingInteractiveUpdates = previousIsBatchingInteractiveUpdates;
          isBatchingUpdates = previousIsBatchingUpdates;
          if (!isBatchingUpdates && !isRendering) {
            performSyncWork();
          }
        }
      }

      function flushInteractiveUpdates() {
        if (!isRendering && lowestPendingInteractiveExpirationTime !== NoWork) {
          performWork(lowestPendingInteractiveExpirationTime, false, null);
          lowestPendingInteractiveExpirationTime = NoWork;
        }
      }

      function flushControlled(fn) {
        var previousIsBatchingUpdates = isBatchingUpdates;
        isBatchingUpdates = true;
        try {
          syncUpdates(fn);
        } finally {
          isBatchingUpdates = previousIsBatchingUpdates;
          if (!isBatchingUpdates && !isRendering) {
            performWork(Sync, false, null);
          }
        }
      }

      return {
        recalculateCurrentTime: recalculateCurrentTime,
        computeExpirationForFiber: computeExpirationForFiber,
        scheduleWork: scheduleWork,
        requestWork: requestWork,
        flushRoot: flushRoot,
        batchedUpdates: batchedUpdates,
        unbatchedUpdates: unbatchedUpdates,
        flushSync: flushSync,
        flushControlled: flushControlled,
        deferredUpdates: deferredUpdates,
        syncUpdates: syncUpdates,
        interactiveUpdates: interactiveUpdates,
        flushInteractiveUpdates: flushInteractiveUpdates,
        computeUniqueAsyncExpiration: computeUniqueAsyncExpiration,
        legacyContext: legacyContext
      };
    };

    var didWarnAboutNestedUpdates = void 0;

    {
      didWarnAboutNestedUpdates = false;
    }

    var ReactFiberReconciler$1 = function ReactFiberReconciler$1(config) {
      var getPublicInstance = config.getPublicInstance;

      var _ReactFiberScheduler = ReactFiberScheduler(config),
          computeUniqueAsyncExpiration = _ReactFiberScheduler.computeUniqueAsyncExpiration,
          recalculateCurrentTime = _ReactFiberScheduler.recalculateCurrentTime,
          computeExpirationForFiber = _ReactFiberScheduler.computeExpirationForFiber,
          scheduleWork = _ReactFiberScheduler.scheduleWork,
          requestWork = _ReactFiberScheduler.requestWork,
          flushRoot = _ReactFiberScheduler.flushRoot,
          batchedUpdates = _ReactFiberScheduler.batchedUpdates,
          unbatchedUpdates = _ReactFiberScheduler.unbatchedUpdates,
          flushSync = _ReactFiberScheduler.flushSync,
          flushControlled = _ReactFiberScheduler.flushControlled,
          deferredUpdates = _ReactFiberScheduler.deferredUpdates,
          syncUpdates = _ReactFiberScheduler.syncUpdates,
          interactiveUpdates = _ReactFiberScheduler.interactiveUpdates,
          flushInteractiveUpdates = _ReactFiberScheduler.flushInteractiveUpdates,
          legacyContext = _ReactFiberScheduler.legacyContext;

      var findCurrentUnmaskedContext = legacyContext.findCurrentUnmaskedContext,
          isContextProvider = legacyContext.isContextProvider,
          processChildContext = legacyContext.processChildContext;

      function getContextForSubtree(parentComponent) {
        if (!parentComponent) {
          return emptyObject;
        }

        var fiber = get(parentComponent);
        var parentContext = findCurrentUnmaskedContext(fiber);
        return isContextProvider(fiber) ? processChildContext(fiber, parentContext) : parentContext;
      }

      function scheduleRootUpdate(current, element, currentTime, expirationTime, callback) {
        {
          if (ReactDebugCurrentFiber.phase === "render" && ReactDebugCurrentFiber.current !== null && !didWarnAboutNestedUpdates) {
            didWarnAboutNestedUpdates = true;
            warning(false, "Render methods should be a pure function of props and state; " + "triggering nested component updates from render is not allowed. " + "If necessary, trigger nested updates in componentDidUpdate.\n\n" + "Check the render method of %s.", getComponentName(ReactDebugCurrentFiber.current) || "Unknown");
          }
        }

        callback = callback === undefined ? null : callback;
        {
          !(callback === null || typeof callback === "function") ? warning(false, "render(...): Expected the last optional `callback` argument to be a " + "function. Instead received: %s.", callback) : void 0;
        }

        var update = {
          expirationTime: expirationTime,
          partialState: { element: element },
          callback: callback,
          isReplace: false,
          isForced: false,
          capturedValue: null,
          next: null
        };
        insertUpdateIntoFiber(current, update);
        scheduleWork(current, expirationTime);

        return expirationTime;
      }

      function _updateContainerAtExpirationTime(element, container, parentComponent, currentTime, expirationTime, callback) {
        var current = container.current;

        {
          if (ReactFiberInstrumentation_1.debugTool) {
            if (current.alternate === null) {
              ReactFiberInstrumentation_1.debugTool.onMountContainer(container);
            } else if (element === null) {
              ReactFiberInstrumentation_1.debugTool.onUnmountContainer(container);
            } else {
              ReactFiberInstrumentation_1.debugTool.onUpdateContainer(container);
            }
          }
        }

        var context = getContextForSubtree(parentComponent);
        if (container.context === null) {
          container.context = context;
        } else {
          container.pendingContext = context;
        }

        return scheduleRootUpdate(current, element, currentTime, expirationTime, callback);
      }

      function findHostInstance(fiber) {
        var hostFiber = findCurrentHostFiber(fiber);
        if (hostFiber === null) {
          return null;
        }
        return hostFiber.stateNode;
      }

      return {
        createContainer: function createContainer(containerInfo, isAsync, hydrate) {
          return createFiberRoot(containerInfo, isAsync, hydrate);
        },
        updateContainer: function updateContainer(element, container, parentComponent, callback) {
          var current = container.current;
          var currentTime = recalculateCurrentTime();
          var expirationTime = computeExpirationForFiber(current);
          return _updateContainerAtExpirationTime(element, container, parentComponent, currentTime, expirationTime, callback);
        },
        updateContainerAtExpirationTime: function updateContainerAtExpirationTime(element, container, parentComponent, expirationTime, callback) {
          var currentTime = recalculateCurrentTime();
          return _updateContainerAtExpirationTime(element, container, parentComponent, currentTime, expirationTime, callback);
        },

        flushRoot: flushRoot,

        requestWork: requestWork,

        computeUniqueAsyncExpiration: computeUniqueAsyncExpiration,

        batchedUpdates: batchedUpdates,

        unbatchedUpdates: unbatchedUpdates,

        deferredUpdates: deferredUpdates,

        syncUpdates: syncUpdates,

        interactiveUpdates: interactiveUpdates,

        flushInteractiveUpdates: flushInteractiveUpdates,

        flushControlled: flushControlled,

        flushSync: flushSync,

        getPublicRootInstance: function getPublicRootInstance(container) {
          var containerFiber = container.current;
          if (!containerFiber.child) {
            return null;
          }
          switch (containerFiber.child.tag) {
            case HostComponent:
              return getPublicInstance(containerFiber.child.stateNode);
            default:
              return containerFiber.child.stateNode;
          }
        },

        findHostInstance: findHostInstance,

        findHostInstanceWithNoPortals: function findHostInstanceWithNoPortals(fiber) {
          var hostFiber = findCurrentHostFiberWithNoPortals(fiber);
          if (hostFiber === null) {
            return null;
          }
          return hostFiber.stateNode;
        },
        injectIntoDevTools: function injectIntoDevTools(devToolsConfig) {
          var _findFiberByHostInstance = devToolsConfig.findFiberByHostInstance;

          return injectInternals(_extends({}, devToolsConfig, {
            findHostInstanceByFiber: function findHostInstanceByFiber(fiber) {
              return findHostInstance(fiber);
            },
            findFiberByHostInstance: function findFiberByHostInstance(instance) {
              if (!_findFiberByHostInstance) {
                return null;
              }
              return _findFiberByHostInstance(instance);
            }
          }));
        }
      };
    };

    var ReactFiberReconciler$2 = Object.freeze({
      default: ReactFiberReconciler$1
    });

    var ReactFiberReconciler$3 = ReactFiberReconciler$2 && ReactFiberReconciler$1 || ReactFiberReconciler$2;

    var reactReconciler = ReactFiberReconciler$3["default"] ? ReactFiberReconciler$3["default"] : ReactFiberReconciler$3;

    var viewConfigCallbacks = new Map();
    var viewConfigs = new Map();

    function register(name, callback) {
      invariant(!viewConfigCallbacks.has(name), "Tried to register two views with the same name %s", name);
      viewConfigCallbacks.set(name, callback);
      return name;
    }

    function get$1(name) {
      var viewConfig = void 0;
      if (!viewConfigs.has(name)) {
        var callback = viewConfigCallbacks.get(name);
        invariant(typeof callback === "function", "View config not found for name %s", name);
        viewConfigCallbacks.set(name, null);
        viewConfig = callback();
        viewConfigs.set(name, viewConfig);
      } else {
        viewConfig = viewConfigs.get(name);
      }
      invariant(viewConfig, "View config not found for name %s", name);
      return viewConfig;
    }

    function _classCallCheck$2(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }

    var ReactNativeFiberHostComponent = function () {
      function ReactNativeFiberHostComponent(tag, viewConfig) {
        _classCallCheck$2(this, ReactNativeFiberHostComponent);

        this._nativeTag = tag;
        this._children = [];
        this.viewConfig = viewConfig;
      }

      ReactNativeFiberHostComponent.prototype.blur = function blur() {
        TextInputState.blurTextInput(this._nativeTag);
      };

      ReactNativeFiberHostComponent.prototype.focus = function focus() {
        TextInputState.focusTextInput(this._nativeTag);
      };

      ReactNativeFiberHostComponent.prototype.measure = function measure(callback) {
        UIManager.measure(this._nativeTag, mountSafeCallback(this, callback));
      };

      ReactNativeFiberHostComponent.prototype.measureInWindow = function measureInWindow(callback) {
        UIManager.measureInWindow(this._nativeTag, mountSafeCallback(this, callback));
      };

      ReactNativeFiberHostComponent.prototype.measureLayout = function measureLayout(relativeToNativeNode, onSuccess, onFail) {
        UIManager.measureLayout(this._nativeTag, relativeToNativeNode, mountSafeCallback(this, onFail), mountSafeCallback(this, onSuccess));
      };

      ReactNativeFiberHostComponent.prototype.setNativeProps = function setNativeProps(nativeProps) {
        {
          warnForStyleProps(nativeProps, this.viewConfig.validAttributes);
        }

        var updatePayload = create(nativeProps, this.viewConfig.validAttributes);

        if (updatePayload != null) {
          UIManager.updateView(this._nativeTag, this.viewConfig.uiViewClassName, updatePayload);
        }
      };

      return ReactNativeFiberHostComponent;
    }();

    var hasNativePerformanceNow = typeof performance === "object" && typeof performance.now === "function";

    var now = hasNativePerformanceNow ? function () {
      return performance.now();
    } : function () {
      return Date.now();
    };

    var scheduledCallback = null;
    var frameDeadline = 0;

    var frameDeadlineObject = {
      timeRemaining: function timeRemaining() {
        return frameDeadline - now();
      },
      didTimeout: false
    };

    function setTimeoutCallback() {
      frameDeadline = now() + 5;

      var callback = scheduledCallback;
      scheduledCallback = null;
      if (callback !== null) {
        callback(frameDeadlineObject);
      }
    }

    function scheduleDeferredCallback(callback) {
      scheduledCallback = callback;
      return setTimeout(setTimeoutCallback, 1);
    }

    function cancelDeferredCallback(callbackID) {
      scheduledCallback = null;
      clearTimeout(callbackID);
    }

    function recursivelyUncacheFiberNode(node) {
      if (typeof node === "number") {
        uncacheFiberNode(node);
      } else {
        uncacheFiberNode(node._nativeTag);

        node._children.forEach(recursivelyUncacheFiberNode);
      }
    }

    var NativeRenderer = reactReconciler({
      appendInitialChild: function appendInitialChild(parentInstance, child) {
        parentInstance._children.push(child);
      },
      createInstance: function createInstance(type, props, rootContainerInstance, hostContext, internalInstanceHandle) {
        var tag = ReactNativeTagHandles.allocateTag();
        var viewConfig = get$1(type);

        {
          for (var key in viewConfig.validAttributes) {
            if (props.hasOwnProperty(key)) {
              deepFreezeAndThrowOnMutationInDev(props[key]);
            }
          }
        }

        var updatePayload = create(props, viewConfig.validAttributes);

        UIManager.createView(tag, viewConfig.uiViewClassName, rootContainerInstance, updatePayload);

        var component = new ReactNativeFiberHostComponent(tag, viewConfig);

        precacheFiberNode(internalInstanceHandle, tag);
        updateFiberProps(tag, props);

        return component;
      },
      createTextInstance: function createTextInstance(text, rootContainerInstance, hostContext, internalInstanceHandle) {
        var tag = ReactNativeTagHandles.allocateTag();

        UIManager.createView(tag, "RCTRawText", rootContainerInstance, { text: text });

        precacheFiberNode(internalInstanceHandle, tag);

        return tag;
      },
      finalizeInitialChildren: function finalizeInitialChildren(parentInstance, type, props, rootContainerInstance) {
        if (parentInstance._children.length === 0) {
          return false;
        }

        var nativeTags = parentInstance._children.map(function (child) {
          return typeof child === "number" ? child : child._nativeTag;
        });

        UIManager.setChildren(parentInstance._nativeTag, nativeTags);

        return false;
      },
      getRootHostContext: function getRootHostContext() {
        return emptyObject;
      },
      getChildHostContext: function getChildHostContext() {
        return emptyObject;
      },
      getPublicInstance: function getPublicInstance(instance) {
        return instance;
      },

      now: now,

      prepareForCommit: function prepareForCommit() {},
      prepareUpdate: function prepareUpdate(instance, type, oldProps, newProps, rootContainerInstance, hostContext) {
        return emptyObject;
      },
      resetAfterCommit: function resetAfterCommit() {},

      scheduleDeferredCallback: scheduleDeferredCallback,
      cancelDeferredCallback: cancelDeferredCallback,

      shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree(type, props) {
        return false;
      },
      shouldSetTextContent: function shouldSetTextContent(type, props) {
        return false;
      },

      mutation: {
        appendChild: function appendChild(parentInstance, child) {
          var childTag = typeof child === "number" ? child : child._nativeTag;
          var children = parentInstance._children;
          var index = children.indexOf(child);

          if (index >= 0) {
            children.splice(index, 1);
            children.push(child);

            UIManager.manageChildren(parentInstance._nativeTag, [index], [children.length - 1], [], [], []);
          } else {
            children.push(child);

            UIManager.manageChildren(parentInstance._nativeTag, [], [], [childTag], [children.length - 1], []);
          }
        },
        appendChildToContainer: function appendChildToContainer(parentInstance, child) {
          var childTag = typeof child === "number" ? child : child._nativeTag;
          UIManager.setChildren(parentInstance, [childTag]);
        },
        commitTextUpdate: function commitTextUpdate(textInstance, oldText, newText) {
          UIManager.updateView(textInstance, "RCTRawText", { text: newText });
        },
        commitMount: function commitMount(instance, type, newProps, internalInstanceHandle) {},
        commitUpdate: function commitUpdate(instance, updatePayloadTODO, type, oldProps, newProps, internalInstanceHandle) {
          var viewConfig = instance.viewConfig;

          updateFiberProps(instance._nativeTag, newProps);

          var updatePayload = diff(oldProps, newProps, viewConfig.validAttributes);

          if (updatePayload != null) {
            UIManager.updateView(instance._nativeTag, viewConfig.uiViewClassName, updatePayload);
          }
        },
        insertBefore: function insertBefore(parentInstance, child, beforeChild) {
          var children = parentInstance._children;
          var index = children.indexOf(child);

          if (index >= 0) {
            children.splice(index, 1);
            var beforeChildIndex = children.indexOf(beforeChild);
            children.splice(beforeChildIndex, 0, child);

            UIManager.manageChildren(parentInstance._nativeTag, [index], [beforeChildIndex], [], [], []);
          } else {
            var _beforeChildIndex = children.indexOf(beforeChild);
            children.splice(_beforeChildIndex, 0, child);

            var childTag = typeof child === "number" ? child : child._nativeTag;

            UIManager.manageChildren(parentInstance._nativeTag, [], [], [childTag], [_beforeChildIndex], []);
          }
        },
        insertInContainerBefore: function insertInContainerBefore(parentInstance, child, beforeChild) {
          invariant(typeof parentInstance !== "number", "Container does not support insertBefore operation");
        },
        removeChild: function removeChild(parentInstance, child) {
          recursivelyUncacheFiberNode(child);
          var children = parentInstance._children;
          var index = children.indexOf(child);

          children.splice(index, 1);

          UIManager.manageChildren(parentInstance._nativeTag, [], [], [], [], [index]);
        },
        removeChildFromContainer: function removeChildFromContainer(parentInstance, child) {
          recursivelyUncacheFiberNode(child);
          UIManager.manageChildren(parentInstance, [], [], [], [], [0]);
        },
        resetTextContent: function resetTextContent(instance) {}
      }
    });

    var getInspectorDataForViewTag = void 0;

    {
      var traverseOwnerTreeUp = function traverseOwnerTreeUp(hierarchy, instance) {
        if (instance) {
          hierarchy.unshift(instance);
          traverseOwnerTreeUp(hierarchy, instance._debugOwner);
        }
      };

      var getOwnerHierarchy = function getOwnerHierarchy(instance) {
        var hierarchy = [];
        traverseOwnerTreeUp(hierarchy, instance);
        return hierarchy;
      };

      var lastNonHostInstance = function lastNonHostInstance(hierarchy) {
        for (var i = hierarchy.length - 1; i > 1; i--) {
          var instance = hierarchy[i];

          if (instance.tag !== HostComponent) {
            return instance;
          }
        }
        return hierarchy[0];
      };

      var getHostProps = function getHostProps(fiber) {
        var host = findCurrentHostFiber(fiber);
        if (host) {
          return host.memoizedProps || emptyObject;
        }
        return emptyObject;
      };

      var getHostNode = function getHostNode(fiber, findNodeHandle) {
        var hostNode = void 0;

        while (fiber) {
          if (fiber.stateNode !== null && fiber.tag === HostComponent) {
            hostNode = findNodeHandle(fiber.stateNode);
          }
          if (hostNode) {
            return hostNode;
          }
          fiber = fiber.child;
        }
        return null;
      };

      var createHierarchy = function createHierarchy(fiberHierarchy) {
        return fiberHierarchy.map(function (fiber) {
          return {
            name: getComponentName(fiber),
            getInspectorData: function getInspectorData(findNodeHandle) {
              return {
                measure: function measure(callback) {
                  return UIManager.measure(getHostNode(fiber, findNodeHandle), callback);
                },
                props: getHostProps(fiber),
                source: fiber._debugSource
              };
            }
          };
        });
      };

      getInspectorDataForViewTag = function getInspectorDataForViewTag(viewTag) {
        var closestInstance = getInstanceFromTag(viewTag);

        if (!closestInstance) {
          return {
            hierarchy: [],
            props: emptyObject,
            selection: null,
            source: null
          };
        }

        var fiber = findCurrentFiberUsingSlowPath(closestInstance);
        var fiberHierarchy = getOwnerHierarchy(fiber);
        var instance = lastNonHostInstance(fiberHierarchy);
        var hierarchy = createHierarchy(fiberHierarchy);
        var props = getHostProps(instance);
        var source = instance._debugSource;
        var selection = fiberHierarchy.indexOf(instance);

        return {
          hierarchy: hierarchy,
          props: props,
          selection: selection,
          source: source
        };
      };
    }

    var createReactNativeComponentClass = function createReactNativeComponentClass(name, callback) {
      return register(name, callback);
    };

    function takeSnapshot(view, options) {
      if (typeof view !== "number" && view !== "window") {
        view = findNumericNodeHandleFiber(view) || "window";
      }

      return UIManager.__takeSnapshot(view, options);
    }

    injectFindHostInstance(NativeRenderer.findHostInstance);

    injection$2.injectRenderer(NativeRenderer);

    var roots = new Map();

    var ReactNativeRenderer = {
      NativeComponent: ReactNativeComponent,

      findNodeHandle: findNumericNodeHandleFiber,

      render: function render(element, containerTag, callback) {
        var root = roots.get(containerTag);

        if (!root) {
          root = NativeRenderer.createContainer(containerTag, false, false);
          roots.set(containerTag, root);
        }
        NativeRenderer.updateContainer(element, root, null, callback);

        return NativeRenderer.getPublicRootInstance(root);
      },
      unmountComponentAtNode: function unmountComponentAtNode(containerTag) {
        var root = roots.get(containerTag);
        if (root) {
          NativeRenderer.updateContainer(null, root, null, function () {
            roots["delete"](containerTag);
          });
        }
      },
      unmountComponentAtNodeAndRemoveContainer: function unmountComponentAtNodeAndRemoveContainer(containerTag) {
        ReactNativeRenderer.unmountComponentAtNode(containerTag);

        UIManager.removeRootView(containerTag);
      },
      createPortal: function createPortal(children, containerTag) {
        var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

        return _createPortal(children, containerTag, null, key);
      },

      unstable_batchedUpdates: batchedUpdates,

      flushSync: NativeRenderer.flushSync,

      __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {
        NativeMethodsMixin: NativeMethodsMixin,

        ReactNativeBridgeEventPlugin: ReactNativeBridgeEventPlugin,
        ReactNativeComponentTree: ReactNativeComponentTree,
        ReactNativePropRegistry: ReactNativePropRegistry,
        TouchHistoryMath: TouchHistoryMath,
        createReactNativeComponentClass: createReactNativeComponentClass,
        takeSnapshot: takeSnapshot
      }
    };

    {
      _extends(ReactNativeRenderer.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, {
        ReactDebugTool: {
          addHook: function addHook() {},
          removeHook: function removeHook() {}
        },

        ReactPerf: {
          start: function start() {},
          stop: function stop() {},
          printInclusive: function printInclusive() {},
          printWasted: function printWasted() {}
        }
      });
    }

    NativeRenderer.injectIntoDevTools({
      findFiberByHostInstance: getInstanceFromTag,
      getInspectorDataForViewTag: getInspectorDataForViewTag,
      bundleType: 1,
      version: ReactVersion,
      rendererPackageName: "react-native-renderer"
    });

    var ReactNativeRenderer$2 = Object.freeze({
      default: ReactNativeRenderer
    });

    var ReactNativeRenderer$3 = ReactNativeRenderer$2 && ReactNativeRenderer || ReactNativeRenderer$2;

    var reactNativeRenderer = ReactNativeRenderer$3["default"] ? ReactNativeRenderer$3["default"] : ReactNativeRenderer$3;

    module.exports = reactNativeRenderer;
  })();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJlYWN0TmF0aXZlUmVuZGVyZXItZGV2LmpzIl0sIm5hbWVzIjpbIl9fREVWX18iLCJyZXF1aXJlIiwiaW52YXJpYW50Iiwid2FybmluZyIsImVtcHR5RnVuY3Rpb24iLCJVSU1hbmFnZXIiLCJSQ1RFdmVudEVtaXR0ZXIiLCJUZXh0SW5wdXRTdGF0ZSIsImRlZXBEaWZmZXIiLCJmbGF0dGVuU3R5bGUiLCJSZWFjdCIsImVtcHR5T2JqZWN0Iiwic2hhbGxvd0VxdWFsIiwiRXhjZXB0aW9uc01hbmFnZXIiLCJjaGVja1Byb3BUeXBlcyIsImRlZXBGcmVlemVBbmRUaHJvd09uTXV0YXRpb25JbkRldiIsImludm9rZUd1YXJkZWRDYWxsYmFjayIsIm5hbWUiLCJmdW5jIiwiY29udGV4dCIsImEiLCJiIiwiYyIsImQiLCJlIiwiZiIsIl9oYXNDYXVnaHRFcnJvciIsIl9jYXVnaHRFcnJvciIsImZ1bmNBcmdzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJhcHBseSIsImVycm9yIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJmYWtlTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXYiLCJldnQiLCJkaWRFcnJvciIsImNhbGxDYWxsYmFjayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnRUeXBlIiwiZGlkU2V0RXJyb3IiLCJpc0Nyb3NzT3JpZ2luRXJyb3IiLCJvbkVycm9yIiwiZXZlbnQiLCJjb2xubyIsImxpbmVubyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbml0RXZlbnQiLCJFcnJvciIsImludm9rZUd1YXJkZWRDYWxsYmFjayQxIiwiUmVhY3RFcnJvclV0aWxzIiwiX3JldGhyb3dFcnJvciIsIl9oYXNSZXRocm93RXJyb3IiLCJpbnZva2VHdWFyZGVkQ2FsbGJhY2tBbmRDYXRjaEZpcnN0RXJyb3IiLCJoYXNDYXVnaHRFcnJvciIsImNsZWFyQ2F1Z2h0RXJyb3IiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJldmVudFBsdWdpbk9yZGVyIiwibmFtZXNUb1BsdWdpbnMiLCJyZWNvbXB1dGVQbHVnaW5PcmRlcmluZyIsInBsdWdpbk5hbWUiLCJwbHVnaW5Nb2R1bGUiLCJwbHVnaW5JbmRleCIsImluZGV4T2YiLCJwbHVnaW5zIiwiZXh0cmFjdEV2ZW50cyIsInB1Ymxpc2hlZEV2ZW50cyIsImV2ZW50VHlwZXMiLCJldmVudE5hbWUiLCJwdWJsaXNoRXZlbnRGb3JQbHVnaW4iLCJkaXNwYXRjaENvbmZpZyIsImV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyIsImhhc093blByb3BlcnR5IiwicGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMiLCJwaGFzZU5hbWUiLCJwaGFzZWRSZWdpc3RyYXRpb25OYW1lIiwicHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUiLCJyZWdpc3RyYXRpb25OYW1lIiwicmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMiLCJyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jaWVzIiwibG93ZXJDYXNlZE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImluamVjdEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUiLCJpbmplY3RlZE5hbWVzVG9QbHVnaW5zIiwiaXNPcmRlcmluZ0RpcnR5IiwiZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSIsImdldEluc3RhbmNlRnJvbU5vZGUiLCJnZXROb2RlRnJvbUluc3RhbmNlIiwiaW5qZWN0aW9uJDEiLCJpbmplY3RDb21wb25lbnRUcmVlIiwiSW5qZWN0ZWQiLCJpc0VuZGlzaCIsInRvcExldmVsVHlwZSIsImlzTW92ZWlzaCIsImlzU3RhcnRpc2giLCJ2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyIsImRpc3BhdGNoTGlzdGVuZXJzIiwiX2Rpc3BhdGNoTGlzdGVuZXJzIiwiZGlzcGF0Y2hJbnN0YW5jZXMiLCJfZGlzcGF0Y2hJbnN0YW5jZXMiLCJsaXN0ZW5lcnNJc0FyciIsImlzQXJyYXkiLCJsaXN0ZW5lcnNMZW4iLCJsZW5ndGgiLCJpbnN0YW5jZXNJc0FyciIsImluc3RhbmNlc0xlbiIsImV4ZWN1dGVEaXNwYXRjaCIsInNpbXVsYXRlZCIsImxpc3RlbmVyIiwiaW5zdCIsInR5cGUiLCJjdXJyZW50VGFyZ2V0IiwidW5kZWZpbmVkIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyIiwiaSIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGwiLCJleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlIiwicmV0IiwiZXhlY3V0ZURpcmVjdERpc3BhdGNoIiwiZGlzcGF0Y2hMaXN0ZW5lciIsImRpc3BhdGNoSW5zdGFuY2UiLCJyZXMiLCJoYXNEaXNwYXRjaGVzIiwiYWNjdW11bGF0ZUludG8iLCJjdXJyZW50IiwibmV4dCIsInB1c2giLCJjb25jYXQiLCJmb3JFYWNoQWNjdW11bGF0ZWQiLCJhcnIiLCJjYiIsInNjb3BlIiwiZm9yRWFjaCIsImV2ZW50UXVldWUiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UiLCJpc1BlcnNpc3RlbnQiLCJjb25zdHJ1Y3RvciIsInJlbGVhc2UiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQiLCJleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCIsImlzSW50ZXJhY3RpdmUiLCJ0YWciLCJzaG91bGRQcmV2ZW50TW91c2VFdmVudCIsInByb3BzIiwiZGlzYWJsZWQiLCJpbmplY3Rpb24iLCJnZXRMaXN0ZW5lciIsInN0YXRlTm9kZSIsInRhcmdldEluc3QiLCJuYXRpdmVFdmVudCIsIm5hdGl2ZUV2ZW50VGFyZ2V0IiwiZXZlbnRzIiwicG9zc2libGVQbHVnaW4iLCJleHRyYWN0ZWRFdmVudHMiLCJydW5FdmVudHNJbkJhdGNoIiwicHJvY2Vzc2luZ0V2ZW50UXVldWUiLCJydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoIiwiSW5kZXRlcm1pbmF0ZUNvbXBvbmVudCIsIkZ1bmN0aW9uYWxDb21wb25lbnQiLCJDbGFzc0NvbXBvbmVudCIsIkhvc3RSb290IiwiSG9zdFBvcnRhbCIsIkhvc3RDb21wb25lbnQiLCJIb3N0VGV4dCIsIkNhbGxDb21wb25lbnQiLCJDYWxsSGFuZGxlclBoYXNlIiwiUmV0dXJuQ29tcG9uZW50IiwiRnJhZ21lbnQiLCJNb2RlIiwiQ29udGV4dENvbnN1bWVyIiwiQ29udGV4dFByb3ZpZGVyIiwiRm9yd2FyZFJlZiIsImdldFBhcmVudCIsImdldExvd2VzdENvbW1vbkFuY2VzdG9yIiwiaW5zdEEiLCJpbnN0QiIsImRlcHRoQSIsInRlbXBBIiwiZGVwdGhCIiwidGVtcEIiLCJkZXB0aCIsImFsdGVybmF0ZSIsImlzQW5jZXN0b3IiLCJnZXRQYXJlbnRJbnN0YW5jZSIsInRyYXZlcnNlVHdvUGhhc2UiLCJmbiIsImFyZyIsInBhdGgiLCJsaXN0ZW5lckF0UGhhc2UiLCJwcm9wYWdhdGlvblBoYXNlIiwiYWNjdW11bGF0ZURpcmVjdGlvbmFsRGlzcGF0Y2hlcyIsInBoYXNlIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZSIsIl90YXJnZXRJbnN0IiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZVNraXBUYXJnZXQiLCJwYXJlbnRJbnN0IiwiYWNjdW11bGF0ZURpc3BhdGNoZXMiLCJpZ25vcmVkRGlyZWN0aW9uIiwiYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUiLCJhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQiLCJhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyIsImRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5IiwiRVZFTlRfUE9PTF9TSVpFIiwic2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMiLCJFdmVudEludGVyZmFjZSIsInRhcmdldCIsInRoYXRSZXR1cm5zTnVsbCIsImV2ZW50UGhhc2UiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsInRpbWVTdGFtcCIsIkRhdGUiLCJub3ciLCJkZWZhdWx0UHJldmVudGVkIiwiaXNUcnVzdGVkIiwiU3ludGhldGljRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsIkludGVyZmFjZSIsInByb3BOYW1lIiwibm9ybWFsaXplIiwicmV0dXJuVmFsdWUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJ0aGF0UmV0dXJuc1RydWUiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwiY2FuY2VsQnViYmxlIiwicGVyc2lzdCIsImRlc3RydWN0b3IiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24iLCJleHRlbmQiLCJTdXBlciIsIkUiLCJDbGFzcyIsImFkZEV2ZW50UG9vbGluZ1RvIiwiaXNQcm94eVN1cHBvcnRlZCIsIlByb3h5IiwiaXNTZWFsZWQiLCJjb25zdHJ1Y3QiLCJhcmdzIiwiY3JlYXRlIiwidGhhdCIsInNldCIsInByb3AiLCJ2YWx1ZSIsImdldFZhbCIsImlzRnVuY3Rpb24iLCJjb25maWd1cmFibGUiLCJnZXQiLCJ2YWwiLCJhY3Rpb24iLCJ3YXJuIiwicmVzdWx0Iiwid2FybmluZ0NvbmRpdGlvbiIsImdldFBvb2xlZEV2ZW50IiwibmF0aXZlSW5zdCIsIkV2ZW50Q29uc3RydWN0b3IiLCJldmVudFBvb2wiLCJpbnN0YW5jZSIsInBvcCIsInJlbGVhc2VQb29sZWRFdmVudCIsImdldFBvb2xlZCIsIlN5bnRoZXRpY0V2ZW50JDEiLCJSZXNwb25kZXJTeW50aGV0aWNFdmVudCIsInRvdWNoSGlzdG9yeSIsIk1BWF9UT1VDSF9CQU5LIiwidG91Y2hCYW5rIiwibnVtYmVyQWN0aXZlVG91Y2hlcyIsImluZGV4T2ZTaW5nbGVBY3RpdmVUb3VjaCIsIm1vc3RSZWNlbnRUaW1lU3RhbXAiLCJ0aW1lc3RhbXBGb3JUb3VjaCIsInRvdWNoIiwidGltZXN0YW1wIiwiY3JlYXRlVG91Y2hSZWNvcmQiLCJ0b3VjaEFjdGl2ZSIsInN0YXJ0UGFnZVgiLCJwYWdlWCIsInN0YXJ0UGFnZVkiLCJwYWdlWSIsInN0YXJ0VGltZVN0YW1wIiwiY3VycmVudFBhZ2VYIiwiY3VycmVudFBhZ2VZIiwiY3VycmVudFRpbWVTdGFtcCIsInByZXZpb3VzUGFnZVgiLCJwcmV2aW91c1BhZ2VZIiwicHJldmlvdXNUaW1lU3RhbXAiLCJyZXNldFRvdWNoUmVjb3JkIiwidG91Y2hSZWNvcmQiLCJnZXRUb3VjaElkZW50aWZpZXIiLCJfcmVmIiwiaWRlbnRpZmllciIsInJlY29yZFRvdWNoU3RhcnQiLCJyZWNvcmRUb3VjaE1vdmUiLCJjb25zb2xlIiwicHJpbnRUb3VjaCIsInByaW50VG91Y2hCYW5rIiwicmVjb3JkVG91Y2hFbmQiLCJKU09OIiwic3RyaW5naWZ5IiwicHJpbnRlZCIsIlJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlIiwicmVjb3JkVG91Y2hUcmFjayIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsInRvdWNoVHJhY2tUb0NoZWNrIiwiYWN0aXZlUmVjb3JkIiwiYWNjdW11bGF0ZSIsInJlc3BvbmRlckluc3QiLCJ0cmFja2VkVG91Y2hDb3VudCIsInByZXZpb3VzQWN0aXZlVG91Y2hlcyIsImNoYW5nZVJlc3BvbmRlciIsIm5leHRSZXNwb25kZXJJbnN0IiwiYmxvY2tIb3N0UmVzcG9uZGVyIiwib2xkUmVzcG9uZGVySW5zdCIsIlJlc3BvbmRlckV2ZW50UGx1Z2luIiwiR2xvYmFsUmVzcG9uZGVySGFuZGxlciIsIm9uQ2hhbmdlIiwic3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJidWJibGVkIiwiY2FwdHVyZWQiLCJzY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJzZWxlY3Rpb25DaGFuZ2VTaG91bGRTZXRSZXNwb25kZXIiLCJtb3ZlU2hvdWxkU2V0UmVzcG9uZGVyIiwicmVzcG9uZGVyU3RhcnQiLCJyZXNwb25kZXJNb3ZlIiwicmVzcG9uZGVyRW5kIiwicmVzcG9uZGVyUmVsZWFzZSIsInJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInJlc3BvbmRlckdyYW50IiwicmVzcG9uZGVyUmVqZWN0IiwicmVzcG9uZGVyVGVybWluYXRlIiwic2V0UmVzcG9uZGVyQW5kRXh0cmFjdFRyYW5zZmVyIiwic2hvdWxkU2V0RXZlbnRUeXBlIiwiYnViYmxlU2hvdWxkU2V0RnJvbSIsInNraXBPdmVyQnViYmxlU2hvdWxkU2V0RnJvbSIsInNob3VsZFNldEV2ZW50Iiwid2FudHNSZXNwb25kZXJJbnN0IiwiZXh0cmFjdGVkIiwiZ3JhbnRFdmVudCIsInRlcm1pbmF0aW9uUmVxdWVzdEV2ZW50Iiwic2hvdWxkU3dpdGNoIiwidGVybWluYXRlRXZlbnQiLCJyZWplY3RFdmVudCIsImNhblRyaWdnZXJUcmFuc2ZlciIsInRvcExldmVsSW5zdCIsInJlc3BvbmRlcklnbm9yZVNjcm9sbCIsIm5vUmVzcG9uZGVyVG91Y2hlcyIsImFjdGl2ZVRvdWNoIiwiX2dldFJlc3BvbmRlciIsImlzUmVzcG9uZGVyVG91Y2hTdGFydCIsImlzUmVzcG9uZGVyVG91Y2hNb3ZlIiwiaXNSZXNwb25kZXJUb3VjaEVuZCIsImluY3JlbWVudGFsVG91Y2giLCJnZXN0dXJlIiwiaXNSZXNwb25kZXJUZXJtaW5hdGUiLCJpc1Jlc3BvbmRlclJlbGVhc2UiLCJmaW5hbFRvdWNoIiwiZmluYWxFdmVudCIsIkdsb2JhbEludGVyYWN0aW9uSGFuZGxlciIsImluamVjdEdsb2JhbFJlc3BvbmRlckhhbmRsZXIiLCJpbmplY3RHbG9iYWxJbnRlcmFjdGlvbkhhbmRsZXIiLCJjdXN0b21CdWJibGluZ0V2ZW50VHlwZXMiLCJjdXN0b21EaXJlY3RFdmVudFR5cGVzIiwiUmVhY3ROYXRpdmVCcmlkZ2VFdmVudFBsdWdpbiIsImJ1YmJsZURpc3BhdGNoQ29uZmlnIiwiZGlyZWN0RGlzcGF0Y2hDb25maWciLCJwcm9jZXNzRXZlbnRUeXBlcyIsInZpZXdDb25maWciLCJidWJibGluZ0V2ZW50VHlwZXMiLCJkaXJlY3RFdmVudFR5cGVzIiwiX3RvcExldmVsVHlwZSIsIl90b3BMZXZlbFR5cGUyIiwiaW5zdGFuY2VDYWNoZSIsImluc3RhbmNlUHJvcHMiLCJwcmVjYWNoZUZpYmVyTm9kZSIsImhvc3RJbnN0IiwidW5jYWNoZUZpYmVyTm9kZSIsImdldEluc3RhbmNlRnJvbVRhZyIsImdldFRhZ0Zyb21JbnN0YW5jZSIsIl9uYXRpdmVUYWciLCJjYW5vbmljYWwiLCJnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEiLCJ1cGRhdGVGaWJlclByb3BzIiwiUmVhY3ROYXRpdmVDb21wb25lbnRUcmVlIiwiZnJlZXplIiwiZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUiLCJSZWFjdE5hdGl2ZUV2ZW50UGx1Z2luT3JkZXIiLCJSZWFjdE5hdGl2ZUdsb2JhbFJlc3BvbmRlckhhbmRsZXIiLCJmcm9tIiwidG8iLCJibG9ja05hdGl2ZVJlc3BvbmRlciIsInNldEpTUmVzcG9uZGVyIiwiY2xlYXJKU1Jlc3BvbmRlciIsImZpYmVySG9zdENvbXBvbmVudCIsInJlc3RvcmVUYXJnZXQiLCJyZXN0b3JlUXVldWUiLCJyZXN0b3JlU3RhdGVPZlRhcmdldCIsImludGVybmFsSW5zdGFuY2UiLCJyZXN0b3JlQ29udHJvbGxlZFN0YXRlIiwibmVlZHNTdGF0ZVJlc3RvcmUiLCJyZXN0b3JlU3RhdGVJZk5lZWRlZCIsInF1ZXVlZFRhcmdldHMiLCJfYmF0Y2hlZFVwZGF0ZXMiLCJib29ra2VlcGluZyIsIl9pbnRlcmFjdGl2ZVVwZGF0ZXMiLCJfZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMiLCJpc0JhdGNoaW5nIiwiYmF0Y2hlZFVwZGF0ZXMiLCJjb250cm9sbGVkQ29tcG9uZW50c0hhdmVQZW5kaW5nVXBkYXRlcyIsImluamVjdGlvbiQyIiwiaW5qZWN0UmVuZGVyZXIiLCJyZW5kZXJlciIsImludGVyYWN0aXZlVXBkYXRlcyIsImZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzIiwiSU5JVElBTF9UQUdfQ09VTlQiLCJSZWFjdE5hdGl2ZVRhZ0hhbmRsZXMiLCJ0YWdzU3RhcnRBdCIsInRhZ0NvdW50IiwiYWxsb2NhdGVUYWciLCJyZWFjdFRhZ0lzTmF0aXZlVG9wUm9vdElEIiwiYXNzZXJ0Um9vdFRhZyIsInJlYWN0VGFnIiwiRU1QVFlfTkFUSVZFX0VWRU5UIiwidG91Y2hTdWJzZXF1ZW5jZSIsImluZGljZXMiLCJyZW1vdmVUb3VjaGVzQXRJbmRpY2VzIiwicmlwcGVkT3V0IiwidGVtcCIsImluZGV4IiwiZmlsbEF0IiwiaiIsImN1ciIsIl9yZWNlaXZlUm9vdE5vZGVJREV2ZW50Iiwicm9vdE5vZGVJRCIsIm5hdGl2ZUV2ZW50UGFyYW0iLCJyZWNlaXZlRXZlbnQiLCJyZWNlaXZlVG91Y2hlcyIsImV2ZW50VG9wTGV2ZWxUeXBlIiwiY2hhbmdlZEluZGljZXMiLCJqaiIsIlJlYWN0TmF0aXZlRXZlbnRFbWl0dGVyIiwicmVnaXN0cmF0aW9uTmFtZXMiLCJyZWdpc3RlciIsImhhc1N5bWJvbCIsIlN5bWJvbCIsIlJFQUNUX0VMRU1FTlRfVFlQRSIsIlJFQUNUX0NBTExfVFlQRSIsIlJFQUNUX1JFVFVSTl9UWVBFIiwiUkVBQ1RfUE9SVEFMX1RZUEUiLCJSRUFDVF9GUkFHTUVOVF9UWVBFIiwiUkVBQ1RfU1RSSUNUX01PREVfVFlQRSIsIlJFQUNUX1BST1ZJREVSX1RZUEUiLCJSRUFDVF9DT05URVhUX1RZUEUiLCJSRUFDVF9BU1lOQ19NT0RFX1RZUEUiLCJSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIiwiTUFZQkVfSVRFUkFUT1JfU1lNQk9MIiwiaXRlcmF0b3IiLCJGQVVYX0lURVJBVE9SX1NZTUJPTCIsImdldEl0ZXJhdG9yRm4iLCJtYXliZUl0ZXJhYmxlIiwibWF5YmVJdGVyYXRvciIsImNyZWF0ZVBvcnRhbCIsImNoaWxkcmVuIiwiY29udGFpbmVySW5mbyIsImltcGxlbWVudGF0aW9uIiwia2V5IiwiJCR0eXBlb2YiLCJUb3VjaEhpc3RvcnlNYXRoIiwiY2VudHJvaWREaW1lbnNpb24iLCJ0b3VjaGVzQ2hhbmdlZEFmdGVyIiwiaXNYQXhpcyIsIm9mQ3VycmVudCIsInRvdGFsIiwiY291bnQiLCJvbmVUb3VjaERhdGEiLCJ0b3VjaFRyYWNrIiwidG9BZGQiLCJub0NlbnRyb2lkIiwiY3VycmVudENlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlciIsImN1cnJlbnRDZW50cm9pZFlPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXIiLCJwcmV2aW91c0NlbnRyb2lkWE9mVG91Y2hlc0NoYW5nZWRBZnRlciIsInByZXZpb3VzQ2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyIiwiY3VycmVudENlbnRyb2lkWCIsImN1cnJlbnRDZW50cm9pZFkiLCJSZWFjdFZlcnNpb24iLCJfY2xhc3NDYWxsQ2hlY2siLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIm9iamVjdHMiLCJ1bmlxdWVJRCIsImVtcHR5T2JqZWN0JDIiLCJSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeSIsIm9iamVjdCIsImlkIiwiZ2V0QnlJRCIsImVtcHR5T2JqZWN0JDEiLCJyZW1vdmVkS2V5cyIsInJlbW92ZWRLZXlDb3VudCIsImRlZmF1bHREaWZmZXIiLCJwcmV2UHJvcCIsIm5leHRQcm9wIiwicmVzb2x2ZU9iamVjdCIsImlkT3JPYmplY3QiLCJyZXN0b3JlRGVsZXRlZFZhbHVlc0luTmVzdGVkQXJyYXkiLCJ1cGRhdGVQYXlsb2FkIiwibm9kZSIsInZhbGlkQXR0cmlidXRlcyIsIm9iaiIsInByb3BLZXkiLCJfbmV4dFByb3AiLCJhdHRyaWJ1dGVDb25maWciLCJkaWZmIiwicHJvY2VzcyIsIm5leHRWYWx1ZSIsImRpZmZOZXN0ZWRBcnJheVByb3BlcnR5IiwicHJldkFycmF5IiwibmV4dEFycmF5IiwibWluTGVuZ3RoIiwiZGlmZk5lc3RlZFByb3BlcnR5IiwiY2xlYXJOZXN0ZWRQcm9wZXJ0eSIsImFkZE5lc3RlZFByb3BlcnR5IiwiZGlmZlByb3BlcnRpZXMiLCJhZGRQcm9wZXJ0aWVzIiwiY2xlYXJQcm9wZXJ0aWVzIiwicHJldlByb3BzIiwibmV4dFByb3BzIiwic2hvdWxkVXBkYXRlIiwiX25leHRWYWx1ZSIsIl9wcm9wS2V5IiwibW91bnRTYWZlQ2FsbGJhY2siLCJjYWxsYmFjayIsIl9faXNNb3VudGVkIiwiaXNNb3VudGVkIiwidGhyb3dPblN0eWxlc1Byb3AiLCJjb21wb25lbnQiLCJzdHlsZXMiLCJvd25lciIsIl9vd25lciIsImRpc3BsYXlOYW1lIiwibXNnIiwid2FybkZvclN0eWxlUHJvcHMiLCJzdHlsZSIsIl9yZWFjdEludGVybmFsRmliZXIiLCJSZWFjdEludGVybmFscyIsIl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEIiwiUmVhY3RDdXJyZW50T3duZXIiLCJSZWFjdERlYnVnQ3VycmVudEZyYW1lIiwiZ2V0Q29tcG9uZW50TmFtZSIsImZpYmVyIiwiZmluZEhvc3RJbnN0YW5jZSIsImZpbmRIb3N0SW5zdGFuY2VGYWJyaWMiLCJpbmplY3RGaW5kSG9zdEluc3RhbmNlIiwiaW1wbCIsImZpbmROb2RlSGFuZGxlIiwiY29tcG9uZW50T3JIYW5kbGUiLCJfd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIiLCJyZW5kZXIiLCJrZXlzIiwiZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIiLCJOYXRpdmVNZXRob2RzTWl4aW4iLCJtZWFzdXJlIiwibWVhc3VyZUluV2luZG93IiwibWVhc3VyZUxheW91dCIsInJlbGF0aXZlVG9OYXRpdmVOb2RlIiwib25TdWNjZXNzIiwib25GYWlsIiwic2V0TmF0aXZlUHJvcHMiLCJuYXRpdmVQcm9wcyIsIm1heWJlSW5zdGFuY2UiLCJ1cGRhdGVWaWV3IiwidWlWaWV3Q2xhc3NOYW1lIiwiZm9jdXMiLCJmb2N1c1RleHRJbnB1dCIsImJsdXIiLCJibHVyVGV4dElucHV0IiwiTmF0aXZlTWV0aG9kc01peGluX0RFViIsImNvbXBvbmVudFdpbGxNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IiwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXdQcm9wcyIsIl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmciLCJfY2xhc3NDYWxsQ2hlY2skMSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJSZWFjdE5hdGl2ZUNvbXBvbmVudCIsIl9SZWFjdCRDb21wb25lbnQiLCJDb21wb25lbnQiLCJOb0VmZmVjdCIsIlBlcmZvcm1lZFdvcmsiLCJQbGFjZW1lbnQiLCJVcGRhdGUiLCJQbGFjZW1lbnRBbmRVcGRhdGUiLCJEZWxldGlvbiIsIkNvbnRlbnRSZXNldCIsIkNhbGxiYWNrIiwiRGlkQ2FwdHVyZSIsIlJlZiIsIkVyckxvZyIsIlNuYXBzaG90IiwiSG9zdEVmZmVjdE1hc2siLCJJbmNvbXBsZXRlIiwiU2hvdWxkQ2FwdHVyZSIsIk1PVU5USU5HIiwiTU9VTlRFRCIsIlVOTU9VTlRFRCIsImlzRmliZXJNb3VudGVkSW1wbCIsImVmZmVjdFRhZyIsImlzRmliZXJNb3VudGVkIiwib3duZXJGaWJlciIsImFzc2VydElzTW91bnRlZCIsImZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoIiwic3RhdGUiLCJwYXJlbnRBIiwicGFyZW50QiIsImNoaWxkIiwic2libGluZyIsImRpZEZpbmRDaGlsZCIsIl9jaGlsZCIsImZpbmRDdXJyZW50SG9zdEZpYmVyIiwicGFyZW50IiwiY3VycmVudFBhcmVudCIsImZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyIsIk1BWF9TSUdORURfMzFfQklUX0lOVCIsIk5vV29yayIsIlN5bmMiLCJOZXZlciIsIlVOSVRfU0laRSIsIk1BR0lDX05VTUJFUl9PRkZTRVQiLCJtc1RvRXhwaXJhdGlvblRpbWUiLCJtcyIsImV4cGlyYXRpb25UaW1lVG9NcyIsImV4cGlyYXRpb25UaW1lIiwiY2VpbGluZyIsIm51bSIsInByZWNpc2lvbiIsImNvbXB1dGVFeHBpcmF0aW9uQnVja2V0IiwiY3VycmVudFRpbWUiLCJleHBpcmF0aW9uSW5NcyIsImJ1Y2tldFNpemVNcyIsIk5vQ29udGV4dCIsIkFzeW5jTW9kZSIsIlN0cmljdE1vZGUiLCJoYXNCYWRNYXBQb2x5ZmlsbCIsIm5vbkV4dGVuc2libGVPYmplY3QiLCJwcmV2ZW50RXh0ZW5zaW9ucyIsInRlc3RNYXAiLCJNYXAiLCJ0ZXN0U2V0IiwiU2V0IiwiYWRkIiwiZGVidWdDb3VudGVyIiwiRmliZXJOb2RlIiwicGVuZGluZ1Byb3BzIiwibW9kZSIsInJlZiIsIm1lbW9pemVkUHJvcHMiLCJ1cGRhdGVRdWV1ZSIsIm1lbW9pemVkU3RhdGUiLCJuZXh0RWZmZWN0IiwiZmlyc3RFZmZlY3QiLCJsYXN0RWZmZWN0IiwiX2RlYnVnSUQiLCJfZGVidWdTb3VyY2UiLCJfZGVidWdPd25lciIsIl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nIiwiY3JlYXRlRmliZXIiLCJzaG91bGRDb25zdHJ1Y3QiLCJpc1JlYWN0Q29tcG9uZW50IiwiY3JlYXRlV29ya0luUHJvZ3Jlc3MiLCJ3b3JrSW5Qcm9ncmVzcyIsImNyZWF0ZUhvc3RSb290RmliZXIiLCJpc0FzeW5jIiwiY3JlYXRlRmliZXJGcm9tRWxlbWVudCIsImVsZW1lbnQiLCJmaWJlclRhZyIsImNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50IiwidGhyb3dPbkludmFsaWRFbGVtZW50VHlwZSIsIl9zb3VyY2UiLCJpbmZvIiwib3duZXJOYW1lIiwiZWxlbWVudHMiLCJjcmVhdGVGaWJlckZyb21UZXh0IiwiY29udGVudCIsImNyZWF0ZUZpYmVyRnJvbUhvc3RJbnN0YW5jZUZvckRlbGV0aW9uIiwiY3JlYXRlRmliZXJGcm9tUG9ydGFsIiwicG9ydGFsIiwicGVuZGluZ0NoaWxkcmVuIiwiYXNzaWduRmliZXJQcm9wZXJ0aWVzSW5ERVYiLCJzb3VyY2UiLCJjcmVhdGVGaWJlclJvb3QiLCJoeWRyYXRlIiwidW5pbml0aWFsaXplZEZpYmVyIiwicm9vdCIsInBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZSIsImZpbmlzaGVkV29yayIsInBlbmRpbmdDb250ZXh0IiwicmVtYWluaW5nRXhwaXJhdGlvblRpbWUiLCJmaXJzdEJhdGNoIiwibmV4dFNjaGVkdWxlZFJvb3QiLCJvbkNvbW1pdEZpYmVyUm9vdCIsIm9uQ29tbWl0RmliZXJVbm1vdW50IiwiaGFzTG9nZ2VkRXJyb3IiLCJjYXRjaEVycm9ycyIsImVyciIsImluamVjdEludGVybmFscyIsImludGVybmFscyIsIl9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyIsImhvb2siLCJpc0Rpc2FibGVkIiwic3VwcG9ydHNGaWJlciIsInJlbmRlcmVySUQiLCJpbmplY3QiLCJvbkNvbW1pdFJvb3QiLCJvbkNvbW1pdFVubW91bnQiLCJkZXNjcmliZUNvbXBvbmVudEZyYW1lIiwiZmlsZU5hbWUiLCJyZXBsYWNlIiwibGluZU51bWJlciIsImRlc2NyaWJlRmliZXIiLCJnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyIiwibG93UHJpb3JpdHlXYXJuaW5nIiwicHJpbnRXYXJuaW5nIiwiZm9ybWF0IiwiX2xlbiIsIl9rZXkiLCJhcmdJbmRleCIsIm1lc3NhZ2UiLCJ4IiwiY29uZGl0aW9uIiwiX2xlbjIiLCJfa2V5MiIsImxvd1ByaW9yaXR5V2FybmluZyQxIiwiUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MiLCJkaXNjYXJkUGVuZGluZ1dhcm5pbmdzIiwiZmx1c2hQZW5kaW5nRGVwcmVjYXRpb25XYXJuaW5ncyIsImZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzIiwicmVjb3JkRGVwcmVjYXRpb25XYXJuaW5ncyIsInJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzIiwiTElGRUNZQ0xFX1NVR0dFU1RJT05TIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUiLCJwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MiLCJwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzIiwicGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyIsInBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyIsImRpZFdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzIiwiZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcyIsImxpZmVjeWNsZVdhcm5pbmdzTWFwIiwic3RyaWN0Um9vdCIsImxpZmVjeWNsZXNXYXJuaW5nTWVzYWdlcyIsImxpZmVjeWNsZSIsImxpZmVjeWNsZVdhcm5pbmdzIiwiY29tcG9uZW50TmFtZXMiLCJmb3JtYXR0ZWQiLCJzdWdnZXN0aW9uIiwic29ydGVkQ29tcG9uZW50TmFtZXMiLCJzb3J0Iiwiam9pbiIsInN0cmljdFJvb3RDb21wb25lbnRTdGFjayIsImdldFN0cmljdFJvb3QiLCJtYXliZVN0cmljdFJvb3QiLCJ1bmlxdWVOYW1lcyIsInNvcnRlZE5hbWVzIiwiX3VuaXF1ZU5hbWVzIiwiX3NvcnRlZE5hbWVzIiwiX3VuaXF1ZU5hbWVzMiIsIl9zb3J0ZWROYW1lczIiLCJoYXMiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwid2FybmluZ3NGb3JSb290IiwidW5zYWZlTGlmZWN5Y2xlcyIsIl9yZXF1aXJlIiwiZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoIiwiZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIiwiZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSIsIndhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzIiwicmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2siLCJlbmFibGVVc2VyVGltaW5nQVBJIiwiZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyIiwiZW5hYmxlTm9vcFJlY29uY2lsZXIiLCJlbmFibGVQZXJzaXN0ZW50UmVjb25jaWxlciIsImdldEN1cnJlbnRGaWJlck93bmVyTmFtZSIsIlJlYWN0RGVidWdDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtIiwicmVzZXRDdXJyZW50RmliZXIiLCJnZXRDdXJyZW50U3RhY2siLCJzZXRDdXJyZW50RmliZXIiLCJzZXRDdXJyZW50UGhhc2UiLCJyZWFjdEVtb2ppIiwid2FybmluZ0Vtb2ppIiwic3VwcG9ydHNVc2VyVGltaW5nIiwicGVyZm9ybWFuY2UiLCJtYXJrIiwiY2xlYXJNYXJrcyIsImNsZWFyTWVhc3VyZXMiLCJjdXJyZW50RmliZXIiLCJjdXJyZW50UGhhc2UiLCJjdXJyZW50UGhhc2VGaWJlciIsImlzQ29tbWl0dGluZyIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCIsImhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlIiwiY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCIsImVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0IiwiaXNXYWl0aW5nRm9yQ2FsbGJhY2siLCJsYWJlbHNJbkN1cnJlbnRDb21taXQiLCJmb3JtYXRNYXJrTmFtZSIsIm1hcmtOYW1lIiwiZm9ybWF0TGFiZWwiLCJsYWJlbCIsIndhcm5pbmckJDEiLCJwcmVmaXgiLCJzdWZmaXgiLCJiZWdpbk1hcmsiLCJjbGVhck1hcmsiLCJlbmRNYXJrIiwiZm9ybWF0dGVkTWFya05hbWUiLCJmb3JtYXR0ZWRMYWJlbCIsImdldEZpYmVyTWFya05hbWUiLCJkZWJ1Z0lEIiwiZ2V0RmliZXJMYWJlbCIsImNvbXBvbmVudE5hbWUiLCJiZWdpbkZpYmVyTWFyayIsImNsZWFyRmliZXJNYXJrIiwiZW5kRmliZXJNYXJrIiwic2hvdWxkSWdub3JlRmliZXIiLCJjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50IiwicGF1c2VUaW1lcnMiLCJyZXN1bWVUaW1lcnNSZWN1cnNpdmVseSIsInJlc3VtZVRpbWVycyIsInJlY29yZEVmZmVjdCIsInJlY29yZFNjaGVkdWxlVXBkYXRlIiwic3RhcnRSZXF1ZXN0Q2FsbGJhY2tUaW1lciIsInN0b3BSZXF1ZXN0Q2FsbGJhY2tUaW1lciIsImRpZEV4cGlyZSIsInN0YXJ0V29ya1RpbWVyIiwiY2FuY2VsV29ya1RpbWVyIiwic3RvcFdvcmtUaW1lciIsInN0b3BGYWlsZWRXb3JrVGltZXIiLCJzdGFydFBoYXNlVGltZXIiLCJzdG9wUGhhc2VUaW1lciIsInN0YXJ0V29ya0xvb3BUaW1lciIsIm5leHRVbml0T2ZXb3JrIiwic3RvcFdvcmtMb29wVGltZXIiLCJpbnRlcnJ1cHRlZEJ5IiwiZGlkQ29tcGxldGVSb290Iiwic3RhcnRDb21taXRUaW1lciIsImNsZWFyIiwic3RvcENvbW1pdFRpbWVyIiwic3RhcnRDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lciIsInN0b3BDb21taXRTbmFwc2hvdEVmZmVjdHNUaW1lciIsInN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lciIsInN0b3BDb21taXRIb3N0RWZmZWN0c1RpbWVyIiwic3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIiLCJzdG9wQ29tbWl0TGlmZUN5Y2xlc1RpbWVyIiwiZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSIsImNyZWF0ZVVwZGF0ZVF1ZXVlIiwiYmFzZVN0YXRlIiwicXVldWUiLCJmaXJzdCIsImxhc3QiLCJjYWxsYmFja0xpc3QiLCJoYXNGb3JjZVVwZGF0ZSIsImlzSW5pdGlhbGl6ZWQiLCJjYXB0dXJlZFZhbHVlcyIsImlzUHJvY2Vzc2luZyIsImluc2VydFVwZGF0ZUludG9RdWV1ZSIsInVwZGF0ZSIsInExIiwicTIiLCJlbnN1cmVVcGRhdGVRdWV1ZXMiLCJhbHRlcm5hdGVGaWJlciIsInF1ZXVlMSIsInF1ZXVlMiIsImluc2VydFVwZGF0ZUludG9GaWJlciIsImdldFVwZGF0ZUV4cGlyYXRpb25UaW1lIiwiZ2V0U3RhdGVGcm9tVXBkYXRlIiwicHJldlN0YXRlIiwicGFydGlhbFN0YXRlIiwicHJvY2Vzc1VwZGF0ZVF1ZXVlIiwicmVuZGVyRXhwaXJhdGlvblRpbWUiLCJjdXJyZW50UXVldWUiLCJkb250TXV0YXRlUHJldlN0YXRlIiwiZGlkU2tpcCIsInVwZGF0ZUV4cGlyYXRpb25UaW1lIiwiX3BhcnRpYWxTdGF0ZSIsImlzUmVwbGFjZSIsImlzRm9yY2VkIiwiX2NhbGxiYWNrTGlzdCIsImNhcHR1cmVkVmFsdWUiLCJfY2FwdHVyZWRWYWx1ZXMiLCJjb21taXRDYWxsYmFja3MiLCJfY2FsbGJhY2siLCJmYWtlSW50ZXJuYWxJbnN0YW5jZSIsImRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudCIsImRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSIsImRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSIsImRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZSIsImRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUiLCJ3YXJuT25JbnZhbGlkQ2FsbGJhY2siLCJkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2siLCJjYWxsZXJOYW1lIiwiY2FsbEdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsImN0b3IiLCJyZXN1bHRTdGF0ZSIsImdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCIsIlJlYWN0RmliZXJDbGFzc0NvbXBvbmVudCIsImxlZ2FjeUNvbnRleHQiLCJzY2hlZHVsZVdvcmsiLCJjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyIiwibWVtb2l6ZVByb3BzIiwibWVtb2l6ZVN0YXRlIiwiY2FjaGVDb250ZXh0IiwiZ2V0TWFza2VkQ29udGV4dCIsImdldFVubWFza2VkQ29udGV4dCIsImlzQ29udGV4dENvbnN1bWVyIiwiaGFzQ29udGV4dENoYW5nZWQiLCJ1cGRhdGVyIiwiZW5xdWV1ZVNldFN0YXRlIiwiZW5xdWV1ZVJlcGxhY2VTdGF0ZSIsImVucXVldWVGb3JjZVVwZGF0ZSIsImNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlIiwib2xkUHJvcHMiLCJvbGRTdGF0ZSIsIm5ld1N0YXRlIiwibmV3Q29udGV4dCIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImlzUHVyZVJlYWN0Q29tcG9uZW50IiwiY2hlY2tDbGFzc0luc3RhbmNlIiwicmVuZGVyUHJlc2VudCIsIm5vR2V0SW5pdGlhbFN0YXRlT25FUzYiLCJnZXRJbml0aWFsU3RhdGUiLCJpc1JlYWN0Q2xhc3NBcHByb3ZlZCIsIm5vR2V0RGVmYXVsdFByb3BzT25FUzYiLCJnZXREZWZhdWx0UHJvcHMiLCJub0luc3RhbmNlUHJvcFR5cGVzIiwicHJvcFR5cGVzIiwibm9JbnN0YW5jZUNvbnRleHRUeXBlcyIsImNvbnRleHRUeXBlcyIsIm5vQ29tcG9uZW50U2hvdWxkVXBkYXRlIiwiY29tcG9uZW50U2hvdWxkVXBkYXRlIiwibm9Db21wb25lbnREaWRVbm1vdW50IiwiY29tcG9uZW50RGlkVW5tb3VudCIsIm5vQ29tcG9uZW50RGlkUmVjZWl2ZVByb3BzIiwiY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzIiwibm9Db21wb25lbnRXaWxsUmVjaWV2ZVByb3BzIiwiY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsIm5vVW5zYWZlQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzIiwiaGFzTXV0YXRlZFByb3BzIiwibm9JbnN0YW5jZURlZmF1bHRQcm9wcyIsImRlZmF1bHRQcm9wcyIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiY29tcG9uZW50RGlkVXBkYXRlIiwibm9JbnN0YW5jZUdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIm5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2giLCJub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiX3N0YXRlIiwiZ2V0Q2hpbGRDb250ZXh0IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJyZXNldElucHV0UG9pbnRlcnMiLCJhZG9wdENsYXNzSW5zdGFuY2UiLCJfcmVhY3RJbnRlcm5hbEluc3RhbmNlIiwiY29uc3RydWN0Q2xhc3NJbnN0YW5jZSIsInVubWFza2VkQ29udGV4dCIsIm5lZWRzQ29udGV4dCIsImZvdW5kV2lsbE1vdW50TmFtZSIsImZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUiLCJmb3VuZFdpbGxVcGRhdGVOYW1lIiwiX2NvbXBvbmVudE5hbWUiLCJuZXdBcGlOYW1lIiwiY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsImNhbGxDb21wb25lbnRXaWxsTW91bnQiLCJjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm1vdW50Q2xhc3NJbnN0YW5jZSIsInJlZnMiLCJjb21wb25lbnREaWRNb3VudCIsInJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSIsIm9sZENvbnRleHQiLCJuZXdVbm1hc2tlZENvbnRleHQiLCJoYXNOZXdMaWZlY3ljbGVzIiwiZGVyaXZlZFN0YXRlRnJvbUNhdGNoIiwiZGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiX3VwZGF0ZVF1ZXVlIiwiX3VwZGF0ZVF1ZXVlMiIsInVwZGF0ZUNsYXNzSW5zdGFuY2UiLCJfdXBkYXRlUXVldWUzIiwiX3VwZGF0ZVF1ZXVlNCIsImdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSIsImRpZFdhcm5BYm91dE1hcHMiLCJkaWRXYXJuQWJvdXRTdHJpbmdSZWZJblN0cmljdE1vZGUiLCJvd25lckhhc0tleVVzZVdhcm5pbmciLCJvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmciLCJ3YXJuRm9yTWlzc2luZ0tleSIsIl9zdG9yZSIsInZhbGlkYXRlZCIsImN1cnJlbnRDb21wb25lbnRFcnJvckluZm8iLCJpc0FycmF5JDEiLCJjb2VyY2VSZWYiLCJyZXR1cm5GaWJlciIsIm1peGVkUmVmIiwic3RyaW5nUmVmIiwiX3N0cmluZ1JlZiIsInRocm93T25JbnZhbGlkT2JqZWN0VHlwZSIsIm5ld0NoaWxkIiwiYWRkZW5kdW0iLCJ0b1N0cmluZyIsIndhcm5PbkZ1bmN0aW9uVHlwZSIsIkNoaWxkUmVjb25jaWxlciIsInNob3VsZFRyYWNrU2lkZUVmZmVjdHMiLCJkZWxldGVDaGlsZCIsImNoaWxkVG9EZWxldGUiLCJkZWxldGVSZW1haW5pbmdDaGlsZHJlbiIsImN1cnJlbnRGaXJzdENoaWxkIiwibWFwUmVtYWluaW5nQ2hpbGRyZW4iLCJleGlzdGluZ0NoaWxkcmVuIiwiZXhpc3RpbmdDaGlsZCIsInVzZUZpYmVyIiwiY2xvbmUiLCJwbGFjZUNoaWxkIiwibmV3RmliZXIiLCJsYXN0UGxhY2VkSW5kZXgiLCJuZXdJbmRleCIsIm9sZEluZGV4IiwicGxhY2VTaW5nbGVDaGlsZCIsInVwZGF0ZVRleHROb2RlIiwidGV4dENvbnRlbnQiLCJjcmVhdGVkIiwiZXhpc3RpbmciLCJ1cGRhdGVFbGVtZW50IiwidXBkYXRlUG9ydGFsIiwidXBkYXRlRnJhZ21lbnQiLCJmcmFnbWVudCIsImNyZWF0ZUNoaWxkIiwiX2NyZWF0ZWQiLCJfY3JlYXRlZDIiLCJfY3JlYXRlZDMiLCJ1cGRhdGVTbG90Iiwib2xkRmliZXIiLCJ1cGRhdGVGcm9tTWFwIiwibmV3SWR4IiwibWF0Y2hlZEZpYmVyIiwiX21hdGNoZWRGaWJlciIsIl9tYXRjaGVkRmliZXIyIiwiX21hdGNoZWRGaWJlcjMiLCJ3YXJuT25JbnZhbGlkS2V5Iiwia25vd25LZXlzIiwicmVjb25jaWxlQ2hpbGRyZW5BcnJheSIsIm5ld0NoaWxkcmVuIiwicmVzdWx0aW5nRmlyc3RDaGlsZCIsInByZXZpb3VzTmV3RmliZXIiLCJuZXh0T2xkRmliZXIiLCJfbmV3RmliZXIiLCJfbmV3RmliZXIyIiwicmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvciIsIm5ld0NoaWxkcmVuSXRlcmFibGUiLCJpdGVyYXRvckZuIiwiZW50cmllcyIsInBvc3NpYmxlTWFwIiwiX25ld0NoaWxkcmVuIiwiX3N0ZXAiLCJkb25lIiwic3RlcCIsIl9uZXdGaWJlcjMiLCJfbmV3RmliZXI0IiwicmVjb25jaWxlU2luZ2xlVGV4dE5vZGUiLCJyZWNvbmNpbGVTaW5nbGVFbGVtZW50IiwiX2NyZWF0ZWQ0IiwicmVjb25jaWxlU2luZ2xlUG9ydGFsIiwicmVjb25jaWxlQ2hpbGRGaWJlcnMiLCJpc09iamVjdCIsIl9pc01vY2tGdW5jdGlvbiIsIm1vdW50Q2hpbGRGaWJlcnMiLCJjbG9uZUNoaWxkRmliZXJzIiwiY3VycmVudENoaWxkIiwiZGlkV2FybkFib3V0QmFkQ2xhc3MiLCJkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnQiLCJkaWRXYXJuQWJvdXRTdGF0ZWxlc3NSZWZzIiwiUmVhY3RGaWJlckJlZ2luV29yayIsImNvbmZpZyIsImhvc3RDb250ZXh0IiwiaHlkcmF0aW9uQ29udGV4dCIsInNob3VsZFNldFRleHRDb250ZW50Iiwic2hvdWxkRGVwcmlvcml0aXplU3VidHJlZSIsInB1c2hIb3N0Q29udGV4dCIsInB1c2hIb3N0Q29udGFpbmVyIiwicHVzaFByb3ZpZGVyIiwiaGFzTGVnYWN5Q29udGV4dENoYW5nZWQiLCJwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyIiwicHVzaENvbnRleHRQcm92aWRlciIsInB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QiLCJpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyIiwiZW50ZXJIeWRyYXRpb25TdGF0ZSIsInJlc2V0SHlkcmF0aW9uU3RhdGUiLCJ0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSIsIl9SZWFjdEZpYmVyQ2xhc3NDb21wbyIsInJlY29uY2lsZUNoaWxkcmVuIiwibmV4dENoaWxkcmVuIiwicmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lIiwidXBkYXRlRm9yd2FyZFJlZiIsImJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsiLCJ1cGRhdGVNb2RlIiwibWFya1JlZiIsInVwZGF0ZUZ1bmN0aW9uYWxDb21wb25lbnQiLCJ1cGRhdGVDbGFzc0NvbXBvbmVudCIsImhhc0NvbnRleHQiLCJkaWRDYXB0dXJlRXJyb3IiLCJmaW5pc2hDbGFzc0NvbXBvbmVudCIsInB1c2hIb3N0Um9vdENvbnRleHQiLCJ1cGRhdGVIb3N0Um9vdCIsInVwZGF0ZUhvc3RDb21wb25lbnQiLCJpc0hpZGRlbiIsImlzRGlyZWN0VGV4dENoaWxkIiwidXBkYXRlSG9zdFRleHQiLCJtb3VudEluZGV0ZXJtaW5hdGVDb21wb25lbnQiLCJfQ29tcG9uZW50Iiwid2FybmluZ0tleSIsImRlYnVnU291cmNlIiwidXBkYXRlQ2FsbENvbXBvbmVudCIsInVwZGF0ZVBvcnRhbENvbXBvbmVudCIsInByb3BhZ2F0ZUNvbnRleHRDaGFuZ2UiLCJjaGFuZ2VkQml0cyIsIm5leHRGaWJlciIsIm9ic2VydmVkQml0cyIsInVwZGF0ZUNvbnRleHRQcm92aWRlciIsInByb3ZpZGVyVHlwZSIsIl9jb250ZXh0IiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIl9jYWxjdWxhdGVDaGFuZ2VkQml0cyIsInVwZGF0ZUNvbnRleHRDb25zdW1lciIsIl9jdXJyZW50VmFsdWUiLCJfY2hhbmdlZEJpdHMiLCJ1bnN0YWJsZV9vYnNlcnZlZEJpdHMiLCJiYWlsb3V0T25Mb3dQcmlvcml0eSIsIm5leHRTdGF0ZSIsImJlZ2luV29yayIsIlJlYWN0RmliZXJDb21wbGV0ZVdvcmsiLCJjcmVhdGVJbnN0YW5jZSIsImNyZWF0ZVRleHRJbnN0YW5jZSIsImFwcGVuZEluaXRpYWxDaGlsZCIsImZpbmFsaXplSW5pdGlhbENoaWxkcmVuIiwicHJlcGFyZVVwZGF0ZSIsIm11dGF0aW9uIiwicGVyc2lzdGVuY2UiLCJnZXRSb290SG9zdENvbnRhaW5lciIsInBvcEhvc3RDb250ZXh0IiwiZ2V0SG9zdENvbnRleHQiLCJwb3BIb3N0Q29udGFpbmVyIiwicG9wTGVnYWN5Q29udGV4dFByb3ZpZGVyIiwicG9wQ29udGV4dFByb3ZpZGVyIiwicG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0IiwicG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0IiwicG9wUHJvdmlkZXIiLCJwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlIiwicHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UiLCJwb3BIeWRyYXRpb25TdGF0ZSIsIm1hcmtVcGRhdGUiLCJhcHBlbmRBbGxSZXR1cm5zIiwicmV0dXJucyIsIm1vdmVDYWxsVG9IYW5kbGVyUGhhc2UiLCJoYW5kbGVyIiwiY2hpbGRQcm9wcyIsImFwcGVuZEFsbENoaWxkcmVuIiwidXBkYXRlSG9zdENvbnRhaW5lciIsInJvb3RDb250YWluZXJJbnN0YW5jZSIsImN1cnJlbnRIb3N0Q29udGV4dCIsIm9sZFRleHQiLCJuZXdUZXh0IiwiY2xvbmVJbnN0YW5jZSIsImNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0IiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lckNoaWxkU2V0IiwiZmluYWxpemVDb250YWluZXJDaGlsZHJlbiIsImFwcGVuZEFsbENoaWxkcmVuVG9Db250YWluZXIiLCJjb250YWluZXJDaGlsZFNldCIsInBvcnRhbE9yUm9vdCIsImNoaWxkcmVuVW5jaGFuZ2VkIiwiY29udGFpbmVyIiwibmV3Q2hpbGRTZXQiLCJjdXJyZW50SW5zdGFuY2UiLCJyZWN5Y2xhYmxlSW5zdGFuY2UiLCJuZXdJbnN0YW5jZSIsImNvbXBsZXRlV29yayIsImNvbXBvbmVudERpZENhdGNoIiwiZmliZXJSb290IiwiX2luc3RhbmNlIiwiX2N1cnJlbnRIb3N0Q29udGV4dCIsIndhc0h5ZHJhdGVkIiwiX2luc3RhbmNlMiIsIl9yb290Q29udGFpbmVySW5zdGFuY2UiLCJfY3VycmVudEhvc3RDb250ZXh0MiIsIl93YXNIeWRyYXRlZCIsImNyZWF0ZUNhcHR1cmVkVmFsdWUiLCJzdGFjayIsIlJlYWN0RmliZXJVbndpbmRXb3JrIiwiaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeSIsInRocm93RXhjZXB0aW9uIiwic291cmNlRmliZXIiLCJyYXdWYWx1ZSIsImVycm9ySW5mbyIsInVud2luZFdvcmsiLCJfZWZmZWN0VGFnIiwidW53aW5kSW50ZXJydXB0ZWRXb3JrIiwiaW50ZXJydXB0ZWRXb3JrIiwic2hvd0Vycm9yRGlhbG9nIiwiY2FwdHVyZWRFcnJvciIsImNvbXBvbmVudFN0YWNrIiwiZXJyb3JUb0hhbmRsZSIsInN1bW1hcnkiLCJoYW5kbGVFeGNlcHRpb24iLCJsb2dDYXB0dXJlZEVycm9yIiwibG9nRXJyb3IiLCJzdXBwcmVzc0xvZ2dpbmciLCJzdXBwcmVzc1JlYWN0RXJyb3JMb2dnaW5nIiwiZXJyb3JCb3VuZGFyeU5hbWUiLCJlcnJvckJvdW5kYXJ5Rm91bmQiLCJ3aWxsUmV0cnkiLCJjb21wb25lbnROYW1lTWVzc2FnZSIsImVycm9yQm91bmRhcnlNZXNzYWdlIiwiY29tYmluZWRNZXNzYWdlIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrJDMiLCJoYXNDYXVnaHRFcnJvciQxIiwiY2xlYXJDYXVnaHRFcnJvciQxIiwiZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUiLCJib3VuZGFyeSIsImVycm9yQm91bmRhcnkiLCJSZWFjdEZpYmVyQ29tbWl0V29yayIsImNhcHR1cmVFcnJvciIsIm1hcmtMZWdhY3lFcnJvckJvdW5kYXJ5QXNGYWlsZWQiLCJyZWNhbGN1bGF0ZUN1cnJlbnRUaW1lIiwiZ2V0UHVibGljSW5zdGFuY2UiLCJjYWxsQ29tcG9uZW50V2lsbFVubW91bnRXaXRoVGltZXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudCIsInVubW91bnRFcnJvciIsInNhZmVseURldGFjaFJlZiIsInJlZkVycm9yIiwiY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzIiwic25hcHNob3QiLCJkaWRXYXJuU2V0IiwiX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUiLCJjb21taXRMaWZlQ3ljbGVzIiwiZmluaXNoZWRSb290IiwiY29tbWl0dGVkRXhwaXJhdGlvblRpbWUiLCJfaW5zdGFuY2UzIiwiX2luc3RhbmNlNCIsImNvbW1pdE1vdW50IiwiY29tbWl0RXJyb3JMb2dnaW5nIiwib25VbmNhdWdodEVycm9yIiwiX2luc3RhbmNlNSIsImNhcHR1cmVkRXJyb3JzIiwiX2Vycm9yIiwiX2NhcHR1cmVkRXJyb3JzIiwiX2kiLCJfZXJyb3JJbmZvIiwiY29tbWl0QXR0YWNoUmVmIiwiX2luc3RhbmNlNiIsImluc3RhbmNlVG9Vc2UiLCJjb21taXREZXRhY2hSZWYiLCJjdXJyZW50UmVmIiwiY29tbWl0VW5tb3VudCIsIl9pbnN0YW5jZTciLCJjb21taXROZXN0ZWRVbm1vdW50cyIsInVubW91bnRIb3N0Q29tcG9uZW50cyIsImVtcHR5UG9ydGFsQ29udGFpbmVyIiwiZGV0YWNoRmliZXIiLCJjb21taXRDb250YWluZXIiLCJyZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4iLCJlbXB0eUNoaWxkU2V0IiwiX3BlbmRpbmdDaGlsZHJlbiIsImNvbW1pdFJlc2V0VGV4dENvbnRlbnQiLCJjb21taXRQbGFjZW1lbnQiLCJjb21taXREZWxldGlvbiIsImNvbW1pdFdvcmsiLCJjb21taXRVcGRhdGUiLCJyZXNldFRleHRDb250ZW50IiwiY29tbWl0VGV4dFVwZGF0ZSIsImFwcGVuZENoaWxkIiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lciIsImluc2VydEJlZm9yZSIsImluc2VydEluQ29udGFpbmVyQmVmb3JlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVDaGlsZEZyb21Db250YWluZXIiLCJnZXRIb3N0UGFyZW50RmliZXIiLCJpc0hvc3RQYXJlbnQiLCJnZXRIb3N0U2libGluZyIsInNpYmxpbmdzIiwicGFyZW50RmliZXIiLCJpc0NvbnRhaW5lciIsImJlZm9yZSIsImN1cnJlbnRQYXJlbnRJc1ZhbGlkIiwiY3VycmVudFBhcmVudElzQ29udGFpbmVyIiwiZmluZFBhcmVudCIsIl9pbnN0YW5jZTgiLCJ0ZXh0SW5zdGFuY2UiLCJOT19DT05URVhUIiwiUmVhY3RGaWJlckhvc3RDb250ZXh0IiwiZ2V0Q2hpbGRIb3N0Q29udGV4dCIsImdldFJvb3RIb3N0Q29udGV4dCIsImNyZWF0ZUN1cnNvciIsImNvbnRleHRTdGFja0N1cnNvciIsImNvbnRleHRGaWJlclN0YWNrQ3Vyc29yIiwicm9vdEluc3RhbmNlU3RhY2tDdXJzb3IiLCJyZXF1aXJlZENvbnRleHQiLCJyb290SW5zdGFuY2UiLCJuZXh0Um9vdEluc3RhbmNlIiwibmV4dFJvb3RDb250ZXh0IiwibmV4dENvbnRleHQiLCJSZWFjdEZpYmVySHlkcmF0aW9uQ29udGV4dCIsImh5ZHJhdGlvbiIsImNhbkh5ZHJhdGVJbnN0YW5jZSIsImNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UiLCJnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmciLCJnZXRGaXJzdEh5ZHJhdGFibGVDaGlsZCIsImh5ZHJhdGVJbnN0YW5jZSIsImh5ZHJhdGVUZXh0SW5zdGFuY2UiLCJkaWROb3RNYXRjaEh5ZHJhdGVkQ29udGFpbmVyVGV4dEluc3RhbmNlIiwiZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZSIsImRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZSIsImRpZE5vdEh5ZHJhdGVJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lclRleHRJbnN0YW5jZSIsImRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UiLCJkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZSIsImh5ZHJhdGlvblBhcmVudEZpYmVyIiwibmV4dEh5ZHJhdGFibGVJbnN0YW5jZSIsImlzSHlkcmF0aW5nIiwicGFyZW50SW5zdGFuY2UiLCJkZWxldGVIeWRyYXRhYmxlSW5zdGFuY2UiLCJpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlIiwicGFyZW50Q29udGFpbmVyIiwidGV4dCIsInBhcmVudFR5cGUiLCJwYXJlbnRQcm9wcyIsIl90eXBlIiwiX3Byb3BzIiwiX3RleHQiLCJ0cnlIeWRyYXRlIiwibmV4dEluc3RhbmNlIiwicG9wVG9OZXh0SG9zdFBhcmVudCIsIlJlYWN0RmliZXJJbnN0cnVtZW50YXRpb24iLCJkZWJ1Z1Rvb2wiLCJSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEiLCJ3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHQiLCJSZWFjdEZpYmVyTGVnYWN5Q29udGV4dCIsImRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IiLCJwcmV2aW91c0NvbnRleHQiLCJoYXNPd25Db250ZXh0IiwiaXNDb250ZXh0UHJvdmlkZXIiLCJtYXNrZWRDb250ZXh0IiwiX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCIsIl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0IiwiZGlkQ2hhbmdlIiwiY3Vyc29yIiwicHJvY2Vzc0NoaWxkQ29udGV4dCIsInBhcmVudENvbnRleHQiLCJjaGlsZENvbnRleHQiLCJjb250ZXh0S2V5IiwibWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQiLCJfX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCIsIm1lcmdlZENvbnRleHQiLCJmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dCIsIlJlYWN0RmliZXJOZXdDb250ZXh0IiwicHJvdmlkZXJDdXJzb3IiLCJ2YWx1ZUN1cnNvciIsImNoYW5nZWRCaXRzQ3Vyc29yIiwicmVuZGVyZXJTaWdpbCIsInByb3ZpZGVyRmliZXIiLCJfY3VycmVudFJlbmRlcmVyIiwiY3VycmVudFZhbHVlIiwiUmVhY3RGaWJlclN0YWNrIiwidmFsdWVTdGFjayIsImZpYmVyU3RhY2siLCJkZWZhdWx0VmFsdWUiLCJpc0VtcHR5IiwiY2hlY2tUaGF0U3RhY2tJc0VtcHR5IiwicmVzZXRTdGFja0FmdGVyRmF0YWxFcnJvckluRGV2IiwiaW52b2tlR3VhcmRlZENhbGxiYWNrJDIiLCJkaWRXYXJuQWJvdXRTdGF0ZVRyYW5zaXRpb24iLCJkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQiLCJ3YXJuQWJvdXRVcGRhdGVPblVubW91bnRlZCIsIndhcm5BYm91dEludmFsaWRVcGRhdGVzIiwiZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50IiwiUmVhY3RGaWJlclNjaGVkdWxlciIsIl9SZWFjdEZpYmVyQmVnaW5Xb3JrIiwiX1JlYWN0RmliZXJDb21wbGV0ZVdvIiwiX1JlYWN0RmliZXJVbndpbmRXb3JrIiwiX1JlYWN0RmliZXJDb21taXRXb3JrIiwib25Db21taXRQaGFzZUVycm9yIiwic2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrIiwiY2FuY2VsRGVmZXJyZWRDYWxsYmFjayIsInByZXBhcmVGb3JDb21taXQiLCJyZXNldEFmdGVyQ29tbWl0Iiwib3JpZ2luYWxTdGFydFRpbWVNcyIsIm1vc3RSZWNlbnRDdXJyZW50VGltZSIsIm1vc3RSZWNlbnRDdXJyZW50VGltZU1zIiwibGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbiIsImV4cGlyYXRpb25Db250ZXh0IiwiaXNXb3JraW5nIiwibmV4dFJvb3QiLCJuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUiLCJpc1Jvb3RSZWFkeUZvckNvbW1pdCIsImxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkIiwic3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyIsInJlcGxheVVuaXRPZldvcmsiLCJpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsiLCJvcmlnaW5hbFJlcGxheUVycm9yIiwicmV0aHJvd09yaWdpbmFsRXJyb3IiLCJmYWlsZWRVbml0T2ZXb3JrIiwid29ya0xvb3AiLCJyZXNldFN0YWNrIiwiY29tbWl0QWxsSG9zdEVmZmVjdHMiLCJwcmltYXJ5RWZmZWN0VGFnIiwiX2N1cnJlbnQiLCJfY3VycmVudDIiLCJjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVjeWNsZXMiLCJjb21taXRBbGxMaWZlQ3ljbGVzIiwiY29tbWl0Um9vdCIsIl9kaWRFcnJvciIsIl9kaWRFcnJvcjIiLCJfZXJyb3IyIiwib25Db21taXRXb3JrIiwicmVtYWluaW5nVGltZSIsInJlc2V0RXhwaXJhdGlvblRpbWUiLCJyZW5kZXJUaW1lIiwibmV3RXhwaXJhdGlvblRpbWUiLCJjb21wbGV0ZVVuaXRPZldvcmsiLCJzaWJsaW5nRmliZXIiLCJvbkNvbXBsZXRlV29yayIsIl9uZXh0IiwicGVyZm9ybVVuaXRPZldvcmsiLCJvbkJlZ2luV29yayIsInNob3VsZFlpZWxkIiwicmVuZGVyUm9vdCIsImRpZEZhdGFsIiwidGhyb3duVmFsdWUiLCJzY2hlZHVsZUNhcHR1cmUiLCJib3VuZGFyeUZpYmVyIiwiZGlzcGF0Y2giLCJjb21wdXRlQXN5bmNFeHBpcmF0aW9uIiwiZXhwaXJhdGlvbk1zIiwiY29tcHV0ZUludGVyYWN0aXZlRXhwaXJhdGlvbiIsImNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24iLCJpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzIiwiX2N1cnJlbnRUaW1lIiwibG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUiLCJzY2hlZHVsZVdvcmtJbXBsIiwiaXNFcnJvclJlY292ZXJ5IiwicmVxdWVzdFdvcmsiLCJuZXN0ZWRVcGRhdGVDb3VudCIsIk5FU1RFRF9VUERBVEVfTElNSVQiLCJkZWZlcnJlZFVwZGF0ZXMiLCJwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0Iiwic3luY1VwZGF0ZXMiLCJmaXJzdFNjaGVkdWxlZFJvb3QiLCJsYXN0U2NoZWR1bGVkUm9vdCIsImNhbGxiYWNrRXhwaXJhdGlvblRpbWUiLCJjYWxsYmFja0lEIiwiaXNSZW5kZXJpbmciLCJuZXh0Rmx1c2hlZFJvb3QiLCJuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lIiwiZGVhZGxpbmVEaWRFeHBpcmUiLCJoYXNVbmhhbmRsZWRFcnJvciIsInVuaGFuZGxlZEVycm9yIiwiZGVhZGxpbmUiLCJpc0JhdGNoaW5nVXBkYXRlcyIsImlzVW5iYXRjaGluZ1VwZGF0ZXMiLCJjb21wbGV0ZWRCYXRjaGVzIiwidGltZUhldXJpc3RpY0ZvclVuaXRPZldvcmsiLCJzY2hlZHVsZUNhbGxiYWNrV2l0aEV4cGlyYXRpb24iLCJjdXJyZW50TXMiLCJ0aW1lb3V0IiwicGVyZm9ybUFzeW5jV29yayIsImFkZFJvb3RUb1NjaGVkdWxlIiwicGVyZm9ybVdvcmtPblJvb3QiLCJwZXJmb3JtU3luY1dvcmsiLCJmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCIsImhpZ2hlc3RQcmlvcml0eVdvcmsiLCJoaWdoZXN0UHJpb3JpdHlSb290IiwicHJldmlvdXNTY2hlZHVsZWRSb290IiwicHJldmlvdXNGbHVzaGVkUm9vdCIsImRsIiwicGVyZm9ybVdvcmsiLCJtaW5FeHBpcmF0aW9uVGltZSIsImZpbmlzaFJlbmRlcmluZyIsImZsdXNoUm9vdCIsImJhdGNoZXMiLCJiYXRjaCIsIl9vbkNvbXBsZXRlIiwiY29tcGxldGVSb290IiwiX2ZpbmlzaGVkV29yayIsIl9leHBpcmF0aW9uVGltZSIsIl9kZWZlciIsInRpbWVSZW1haW5pbmciLCJwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzIiwidW5iYXRjaGVkVXBkYXRlcyIsImZsdXNoU3luYyIsInByZXZpb3VzSXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyIsImZsdXNoQ29udHJvbGxlZCIsImRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMiLCJSZWFjdEZpYmVyUmVjb25jaWxlciQxIiwiX1JlYWN0RmliZXJTY2hlZHVsZXIiLCJnZXRDb250ZXh0Rm9yU3VidHJlZSIsInBhcmVudENvbXBvbmVudCIsInNjaGVkdWxlUm9vdFVwZGF0ZSIsInVwZGF0ZUNvbnRhaW5lckF0RXhwaXJhdGlvblRpbWUiLCJvbk1vdW50Q29udGFpbmVyIiwib25Vbm1vdW50Q29udGFpbmVyIiwib25VcGRhdGVDb250YWluZXIiLCJob3N0RmliZXIiLCJjcmVhdGVDb250YWluZXIiLCJ1cGRhdGVDb250YWluZXIiLCJnZXRQdWJsaWNSb290SW5zdGFuY2UiLCJjb250YWluZXJGaWJlciIsImZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzIiwiaW5qZWN0SW50b0RldlRvb2xzIiwiZGV2VG9vbHNDb25maWciLCJmaW5kRmliZXJCeUhvc3RJbnN0YW5jZSIsImZpbmRIb3N0SW5zdGFuY2VCeUZpYmVyIiwiUmVhY3RGaWJlclJlY29uY2lsZXIkMiIsImRlZmF1bHQiLCJSZWFjdEZpYmVyUmVjb25jaWxlciQzIiwicmVhY3RSZWNvbmNpbGVyIiwidmlld0NvbmZpZ0NhbGxiYWNrcyIsInZpZXdDb25maWdzIiwiZ2V0JDEiLCJfY2xhc3NDYWxsQ2hlY2skMiIsIlJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50IiwiX2NoaWxkcmVuIiwiaGFzTmF0aXZlUGVyZm9ybWFuY2VOb3ciLCJzY2hlZHVsZWRDYWxsYmFjayIsImZyYW1lRGVhZGxpbmUiLCJmcmFtZURlYWRsaW5lT2JqZWN0IiwiZGlkVGltZW91dCIsInNldFRpbWVvdXRDYWxsYmFjayIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJyZWN1cnNpdmVseVVuY2FjaGVGaWJlck5vZGUiLCJOYXRpdmVSZW5kZXJlciIsImludGVybmFsSW5zdGFuY2VIYW5kbGUiLCJjcmVhdGVWaWV3IiwibmF0aXZlVGFncyIsIm1hcCIsInNldENoaWxkcmVuIiwiY2hpbGRUYWciLCJzcGxpY2UiLCJtYW5hZ2VDaGlsZHJlbiIsInVwZGF0ZVBheWxvYWRUT0RPIiwiYmVmb3JlQ2hpbGQiLCJiZWZvcmVDaGlsZEluZGV4IiwiX2JlZm9yZUNoaWxkSW5kZXgiLCJnZXRJbnNwZWN0b3JEYXRhRm9yVmlld1RhZyIsInRyYXZlcnNlT3duZXJUcmVlVXAiLCJoaWVyYXJjaHkiLCJ1bnNoaWZ0IiwiZ2V0T3duZXJIaWVyYXJjaHkiLCJsYXN0Tm9uSG9zdEluc3RhbmNlIiwiZ2V0SG9zdFByb3BzIiwiaG9zdCIsImdldEhvc3ROb2RlIiwiaG9zdE5vZGUiLCJjcmVhdGVIaWVyYXJjaHkiLCJmaWJlckhpZXJhcmNoeSIsImdldEluc3BlY3RvckRhdGEiLCJ2aWV3VGFnIiwiY2xvc2VzdEluc3RhbmNlIiwic2VsZWN0aW9uIiwiY3JlYXRlUmVhY3ROYXRpdmVDb21wb25lbnRDbGFzcyIsInRha2VTbmFwc2hvdCIsInZpZXciLCJvcHRpb25zIiwiX190YWtlU25hcHNob3QiLCJyb290cyIsIlJlYWN0TmF0aXZlUmVuZGVyZXIiLCJOYXRpdmVDb21wb25lbnQiLCJjb250YWluZXJUYWciLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZUFuZFJlbW92ZUNvbnRhaW5lciIsInJlbW92ZVJvb3RWaWV3IiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJSZWFjdERlYnVnVG9vbCIsImFkZEhvb2siLCJyZW1vdmVIb29rIiwiUmVhY3RQZXJmIiwic3RhcnQiLCJzdG9wIiwicHJpbnRJbmNsdXNpdmUiLCJwcmludFdhc3RlZCIsImJ1bmRsZVR5cGUiLCJ2ZXJzaW9uIiwicmVuZGVyZXJQYWNrYWdlTmFtZSIsIlJlYWN0TmF0aXZlUmVuZGVyZXIkMiIsIlJlYWN0TmF0aXZlUmVuZGVyZXIkMyIsInJlYWN0TmF0aXZlUmVuZGVyZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQVdBOzs7O0FBRUEsSUFBSUEsT0FBSixFQUFhO0FBQ1gsR0FBQyxZQUFXO0FBQ2Q7O0FBRUFDLFlBQVEsZ0JBQVI7QUFDQSxRQUFJQyxZQUFZRCxRQUFRLG9CQUFSLENBQWhCO0FBQ0EsUUFBSUUsVUFBVUYsUUFBUSxrQkFBUixDQUFkO0FBQ0EsUUFBSUcsZ0JBQWdCSCxRQUFRLHdCQUFSLENBQXBCO0FBQ0EsUUFBSUksWUFBWUosUUFBUSxXQUFSLENBQWhCO0FBQ0EsUUFBSUssa0JBQWtCTCxRQUFRLGlCQUFSLENBQXRCO0FBQ0EsUUFBSU0saUJBQWlCTixRQUFRLGdCQUFSLENBQXJCO0FBQ0EsUUFBSU8sYUFBYVAsUUFBUSxZQUFSLENBQWpCO0FBQ0EsUUFBSVEsZUFBZVIsUUFBUSxjQUFSLENBQW5CO0FBQ0EsUUFBSVMsUUFBUVQsUUFBUSxPQUFSLENBQVo7QUFDQSxRQUFJVSxjQUFjVixRQUFRLHNCQUFSLENBQWxCO0FBQ0Es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Q0EsK0JBUmlCO0FBU2xEQyxzQkFBY0E7QUFUb0M7QUE1QzVCLEtBQTFCOztBQXlEQTtBQUVFLGVBQ0VLLG9CQUFvQjdnQyxrREFEdEIsRUFFRTtBQUdFb2hDLHdCQUFnQjtBQUNkQyxtQkFBUyxtQkFBVyxDQUFFLENBRFI7QUFFZEMsc0JBQVksc0JBQVcsQ0FBRTtBQUZYLFNBSGxCOztBQVFFQyxtQkFBVztBQUNUQyxpQkFBTyxpQkFBVyxDQUFFLENBRFg7QUFFVEMsZ0JBQU0sZ0JBQVcsQ0FBRSxDQUZWO0FBR1RDLDBCQUFnQiwwQkFBVyxDQUFFLENBSHBCO0FBSVRDLHVCQUFhLHVCQUFXLENBQUU7QUFKakI7QUFSYixPQUZGO0FBa0JEOztBQUVEakQsbUJBQWV2QixrQkFBZixDQUFrQztBQUNoQ0UsK0JBQXlCNW5DLGtCQURPO0FBRWhDOHBDLGtDQUE0QkEsMEJBRkk7QUFHaENxQyxrQkFBWSxDQUhvQjtBQUloQ0MsZUFBU3psQyxZQUp1QjtBQUtoQzBsQywyQkFBcUI7QUFMVyxLQUFsQzs7QUFRQSxRQUFJQyx3QkFBd0I1MUMsT0FBTzZKLE1BQVAsQ0FBYztBQUN4Q3duQyxlQUFTcUQ7QUFEK0IsS0FBZCxDQUE1Qjs7QUFJQSxRQUFJbUIsd0JBQ0RELHlCQUF5QmxCLG1CQUExQixJQUFrRGtCLHFCQURwRDs7QUFLQSxRQUFJRSxzQkFBc0JELHNCQUFzQixTQUF0QixJQUN0QkEsc0JBQXNCLFNBQXRCLENBRHNCLEdBRXRCQSxxQkFGSjs7QUFJQUUsV0FBT0MsT0FBUCxHQUFpQkYsbUJBQWpCO0FBRUcsR0EvOGNEO0FBZzljRCIsImZpbGUiOiJSZWFjdE5hdGl2ZVJlbmRlcmVyLWRldi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQG5vZmxvd1xuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TmF0aXZlUmVuZGVyZXItZGV2XG4gKiBAcHJldmVudE11bmdlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAoX19ERVZfXykge1xuICAoZnVuY3Rpb24oKSB7XG5cInVzZSBzdHJpY3RcIjtcblxucmVxdWlyZShcIkluaXRpYWxpemVDb3JlXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoXCJmYmpzL2xpYi9pbnZhcmlhbnRcIik7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoXCJmYmpzL2xpYi93YXJuaW5nXCIpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKFwiZmJqcy9saWIvZW1wdHlGdW5jdGlvblwiKTtcbnZhciBVSU1hbmFnZXIgPSByZXF1aXJlKFwiVUlNYW5hZ2VyXCIpO1xudmFyIFJDVEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJSQ1RFdmVudEVtaXR0ZXJcIik7XG52YXIgVGV4dElucHV0U3RhdGUgPSByZXF1aXJlKFwiVGV4dElucHV0U3RhdGVcIik7XG52YXIgZGVlcERpZmZlciA9IHJlcXVpcmUoXCJkZWVwRGlmZmVyXCIpO1xudmFyIGZsYXR0ZW5TdHlsZSA9IHJlcXVpcmUoXCJmbGF0dGVuU3R5bGVcIik7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKFwiZmJqcy9saWIvZW1wdHlPYmplY3RcIik7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZShcImZianMvbGliL3NoYWxsb3dFcXVhbFwiKTtcbnZhciBFeGNlcHRpb25zTWFuYWdlciA9IHJlcXVpcmUoXCJFeGNlcHRpb25zTWFuYWdlclwiKTtcbnZhciBjaGVja1Byb3BUeXBlcyA9IHJlcXVpcmUoXCJwcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzXCIpO1xudmFyIGRlZXBGcmVlemVBbmRUaHJvd09uTXV0YXRpb25JbkRldiA9IHJlcXVpcmUoXCJkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXZcIik7XG5cbnZhciBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgPSBmdW5jdGlvbihuYW1lLCBmdW5jLCBjb250ZXh0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIHRoaXMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gIHRoaXMuX2NhdWdodEVycm9yID0gbnVsbDtcbiAgdmFyIGZ1bmNBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKTtcbiAgdHJ5IHtcbiAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aGlzLl9jYXVnaHRFcnJvciA9IGVycm9yO1xuICAgIHRoaXMuX2hhc0NhdWdodEVycm9yID0gdHJ1ZTtcbiAgfVxufTtcblxue1xuICAvLyBJbiBERVYgbW9kZSwgd2Ugc3dhcCBvdXQgaW52b2tlR3VhcmRlZENhbGxiYWNrIGZvciBhIHNwZWNpYWwgdmVyc2lvblxuICAvLyB0aGF0IHBsYXlzIG1vcmUgbmljZWx5IHdpdGggdGhlIGJyb3dzZXIncyBEZXZUb29scy4gVGhlIGlkZWEgaXMgdG8gcHJlc2VydmVcbiAgLy8gXCJQYXVzZSBvbiBleGNlcHRpb25zXCIgYmVoYXZpb3IuIEJlY2F1c2UgUmVhY3Qgd3JhcHMgYWxsIHVzZXItcHJvdmlkZWRcbiAgLy8gZnVuY3Rpb25zIGluIGludm9rZUd1YXJkZWRDYWxsYmFjaywgYW5kIHRoZSBwcm9kdWN0aW9uIHZlcnNpb24gb2ZcbiAgLy8gaW52b2tlR3VhcmRlZENhbGxiYWNrIHVzZXMgYSB0cnktY2F0Y2gsIGFsbCB1c2VyIGV4Y2VwdGlvbnMgYXJlIHRyZWF0ZWRcbiAgLy8gbGlrZSBjYXVnaHQgZXhjZXB0aW9ucywgYW5kIHRoZSBEZXZUb29scyB3b24ndCBwYXVzZSB1bmxlc3MgdGhlIGRldmVsb3BlclxuICAvLyB0YWtlcyB0aGUgZXh0cmEgc3RlcCBvZiBlbmFibGluZyBwYXVzZSBvbiBjYXVnaHQgZXhjZXB0aW9ucy4gVGhpcyBpc1xuICAvLyB1bnRpbnR1aXRpdmUsIHRob3VnaCwgYmVjYXVzZSBldmVuIHRob3VnaCBSZWFjdCBoYXMgY2F1Z2h0IHRoZSBlcnJvciwgZnJvbVxuICAvLyB0aGUgZGV2ZWxvcGVyJ3MgcGVyc3BlY3RpdmUsIHRoZSBlcnJvciBpcyB1bmNhdWdodC5cbiAgLy9cbiAgLy8gVG8gcHJlc2VydmUgdGhlIGV4cGVjdGVkIFwiUGF1c2Ugb24gZXhjZXB0aW9uc1wiIGJlaGF2aW9yLCB3ZSBkb24ndCB1c2UgYVxuICAvLyB0cnktY2F0Y2ggaW4gREVWLiBJbnN0ZWFkLCB3ZSBzeW5jaHJvbm91c2x5IGRpc3BhdGNoIGEgZmFrZSBldmVudCB0byBhIGZha2VcbiAgLy8gRE9NIG5vZGUsIGFuZCBjYWxsIHRoZSB1c2VyLXByb3ZpZGVkIGNhbGxiYWNrIGZyb20gaW5zaWRlIGFuIGV2ZW50IGhhbmRsZXJcbiAgLy8gZm9yIHRoYXQgZmFrZSBldmVudC4gSWYgdGhlIGNhbGxiYWNrIHRocm93cywgdGhlIGVycm9yIGlzIFwiY2FwdHVyZWRcIiB1c2luZ1xuICAvLyBhIGdsb2JhbCBldmVudCBoYW5kbGVyLiBCdXQgYmVjYXVzZSB0aGUgZXJyb3IgaGFwcGVucyBpbiBhIGRpZmZlcmVudFxuICAvLyBldmVudCBsb29wIGNvbnRleHQsIGl0IGRvZXMgbm90IGludGVycnVwdCB0aGUgbm9ybWFsIHByb2dyYW0gZmxvdy5cbiAgLy8gRWZmZWN0aXZlbHksIHRoaXMgZ2l2ZXMgdXMgdHJ5LWNhdGNoIGJlaGF2aW9yIHdpdGhvdXQgYWN0dWFsbHkgdXNpbmdcbiAgLy8gdHJ5LWNhdGNoLiBOZWF0IVxuXG4gIC8vIENoZWNrIHRoYXQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEFQSXMgd2UgbmVlZCB0byBpbXBsZW1lbnQgb3VyIHNwZWNpYWxcbiAgLy8gREVWIHZlcnNpb24gb2YgaW52b2tlR3VhcmRlZENhbGxiYWNrXG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRXZlbnQgPT09IFwiZnVuY3Rpb25cIlxuICApIHtcbiAgICB2YXIgZmFrZU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicmVhY3RcIik7XG5cbiAgICB2YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrRGV2ID0gZnVuY3Rpb24oXG4gICAgICBuYW1lLFxuICAgICAgZnVuYyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBhLFxuICAgICAgYixcbiAgICAgIGMsXG4gICAgICBkLFxuICAgICAgZSxcbiAgICAgIGZcbiAgICApIHtcbiAgICAgIC8vIElmIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3Qgd2Uga25vdyBmb3Igc3VyZSB3ZSB3aWxsIGNyYXNoIGluIHRoaXMgbWV0aG9kXG4gICAgICAvLyB3aGVuIHdlIGNhbGwgZG9jdW1lbnQuY3JlYXRlRXZlbnQoKS4gSG93ZXZlciB0aGlzIGNhbiBjYXVzZSBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9yczogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29raW5jdWJhdG9yL2NyZWF0ZS1yZWFjdC1hcHAvaXNzdWVzLzM0ODJcbiAgICAgIC8vIFNvIHdlIHByZWVtcHRpdmVseSB0aHJvdyB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UgaW5zdGVhZC5cbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiLFxuICAgICAgICBcIlRoZSBgZG9jdW1lbnRgIGdsb2JhbCB3YXMgZGVmaW5lZCB3aGVuIFJlYWN0IHdhcyBpbml0aWFsaXplZCwgYnV0IGlzIG5vdCBcIiArXG4gICAgICAgICAgXCJkZWZpbmVkIGFueW1vcmUuIFRoaXMgY2FuIGhhcHBlbiBpbiBhIHRlc3QgZW52aXJvbm1lbnQgaWYgYSBjb21wb25lbnQgXCIgK1xuICAgICAgICAgIFwic2NoZWR1bGVzIGFuIHVwZGF0ZSBmcm9tIGFuIGFzeW5jaHJvbm91cyBjYWxsYmFjaywgYnV0IHRoZSB0ZXN0IGhhcyBhbHJlYWR5IFwiICtcbiAgICAgICAgICBcImZpbmlzaGVkIHJ1bm5pbmcuIFRvIHNvbHZlIHRoaXMsIHlvdSBjYW4gZWl0aGVyIHVubW91bnQgdGhlIGNvbXBvbmVudCBhdCBcIiArXG4gICAgICAgICAgXCJ0aGUgZW5kIG9mIHlvdXIgdGVzdCAoYW5kIGVuc3VyZSB0aGF0IGFueSBhc3luY2hyb25vdXMgb3BlcmF0aW9ucyBnZXQgXCIgK1xuICAgICAgICAgIFwiY2FuY2VsZWQgaW4gYGNvbXBvbmVudFdpbGxVbm1vdW50YCksIG9yIHlvdSBjYW4gY2hhbmdlIHRoZSB0ZXN0IGl0c2VsZiBcIiArXG4gICAgICAgICAgXCJ0byBiZSBhc3luY2hyb25vdXMuXCJcbiAgICAgICk7XG4gICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcblxuICAgICAgLy8gS2VlcHMgdHJhY2sgb2Ygd2hldGhlciB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjayB0aHJldyBhbiBlcnJvci4gV2VcbiAgICAgIC8vIHNldCB0aGlzIHRvIHRydWUgYXQgdGhlIGJlZ2lubmluZywgdGhlbiBzZXQgaXQgdG8gZmFsc2UgcmlnaHQgYWZ0ZXJcbiAgICAgIC8vIGNhbGxpbmcgdGhlIGZ1bmN0aW9uLiBJZiB0aGUgZnVuY3Rpb24gZXJyb3JzLCBgZGlkRXJyb3JgIHdpbGwgbmV2ZXIgYmVcbiAgICAgIC8vIHNldCB0byBmYWxzZS4gVGhpcyBzdHJhdGVneSB3b3JrcyBldmVuIGlmIHRoZSBicm93c2VyIGlzIGZsYWt5IGFuZFxuICAgICAgLy8gZmFpbHMgdG8gY2FsbCBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIsIGJlY2F1c2UgaXQgZG9lc24ndCByZWx5IG9uXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnQgYXQgYWxsLlxuICAgICAgdmFyIGRpZEVycm9yID0gdHJ1ZTtcblxuICAgICAgLy8gQ3JlYXRlIGFuIGV2ZW50IGhhbmRsZXIgZm9yIG91ciBmYWtlIGV2ZW50LiBXZSB3aWxsIHN5bmNocm9ub3VzbHlcbiAgICAgIC8vIGRpc3BhdGNoIG91ciBmYWtlIGV2ZW50IHVzaW5nIGBkaXNwYXRjaEV2ZW50YC4gSW5zaWRlIHRoZSBoYW5kbGVyLCB3ZVxuICAgICAgLy8gY2FsbCB0aGUgdXNlci1wcm92aWRlZCBjYWxsYmFjay5cbiAgICAgIHZhciBmdW5jQXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMyk7XG4gICAgICBmdW5jdGlvbiBjYWxsQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIFdlIGltbWVkaWF0ZWx5IHJlbW92ZSB0aGUgY2FsbGJhY2sgZnJvbSBldmVudCBsaXN0ZW5lcnMgc28gdGhhdFxuICAgICAgICAvLyBuZXN0ZWQgYGludm9rZUd1YXJkZWRDYWxsYmFja2AgY2FsbHMgZG8gbm90IGNsYXNoLiBPdGhlcndpc2UsIGFcbiAgICAgICAgLy8gbmVzdGVkIGNhbGwgd291bGQgdHJpZ2dlciB0aGUgZmFrZSBldmVudCBoYW5kbGVycyBvZiBhbnkgY2FsbCBoaWdoZXJcbiAgICAgICAgLy8gaW4gdGhlIHN0YWNrLlxuICAgICAgICBmYWtlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGNhbGxDYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGZ1bmNBcmdzKTtcbiAgICAgICAgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgZ2xvYmFsIGVycm9yIGV2ZW50IGhhbmRsZXIuIFdlIHVzZSB0aGlzIHRvIGNhcHR1cmUgdGhlIHZhbHVlXG4gICAgICAvLyB0aGF0IHdhcyB0aHJvd24uIEl0J3MgcG9zc2libGUgdGhhdCB0aGlzIGVycm9yIGhhbmRsZXIgd2lsbCBmaXJlIG1vcmVcbiAgICAgIC8vIHRoYW4gb25jZTsgZm9yIGV4YW1wbGUsIGlmIG5vbi1SZWFjdCBjb2RlIGFsc28gY2FsbHMgYGRpc3BhdGNoRXZlbnRgXG4gICAgICAvLyBhbmQgYSBoYW5kbGVyIGZvciB0aGF0IGV2ZW50IHRocm93cy4gV2Ugc2hvdWxkIGJlIHJlc2lsaWVudCB0byBtb3N0IG9mXG4gICAgICAvLyB0aG9zZSBjYXNlcy4gRXZlbiBpZiBvdXIgZXJyb3IgZXZlbnQgaGFuZGxlciBmaXJlcyBtb3JlIHRoYW4gb25jZSwgdGhlXG4gICAgICAvLyBsYXN0IGVycm9yIGV2ZW50IGlzIGFsd2F5cyB1c2VkLiBJZiB0aGUgY2FsbGJhY2sgYWN0dWFsbHkgZG9lcyBlcnJvcixcbiAgICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgbGFzdCBlcnJvciBldmVudCBpcyB0aGUgY29ycmVjdCBvbmUsIGJlY2F1c2UgaXQncyBub3RcbiAgICAgIC8vIHBvc3NpYmxlIGZvciBhbnl0aGluZyBlbHNlIHRvIGhhdmUgaGFwcGVuZWQgaW4gYmV0d2VlbiBvdXIgY2FsbGJhY2tcbiAgICAgIC8vIGVycm9yaW5nIGFuZCB0aGUgY29kZSB0aGF0IGZvbGxvd3MgdGhlIGBkaXNwYXRjaEV2ZW50YCBjYWxsIGJlbG93LiBJZlxuICAgICAgLy8gdGhlIGNhbGxiYWNrIGRvZXNuJ3QgZXJyb3IsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgd2FzIGZpcmVkLCB3ZSBrbm93IHRvXG4gICAgICAvLyBpZ25vcmUgaXQgYmVjYXVzZSBgZGlkRXJyb3JgIHdpbGwgYmUgZmFsc2UsIGFzIGRlc2NyaWJlZCBhYm92ZS5cbiAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICAgIC8vIFVzZSB0aGlzIHRvIHRyYWNrIHdoZXRoZXIgdGhlIGVycm9yIGV2ZW50IGlzIGV2ZXIgY2FsbGVkLlxuICAgICAgdmFyIGRpZFNldEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgaXNDcm9zc09yaWdpbkVycm9yID0gZmFsc2U7XG5cbiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgZXJyb3IgPSBldmVudC5lcnJvcjtcbiAgICAgICAgZGlkU2V0RXJyb3IgPSB0cnVlO1xuICAgICAgICBpZiAoZXJyb3IgPT09IG51bGwgJiYgZXZlbnQuY29sbm8gPT09IDAgJiYgZXZlbnQubGluZW5vID09PSAwKSB7XG4gICAgICAgICAgaXNDcm9zc09yaWdpbkVycm9yID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBmYWtlIGV2ZW50IHR5cGUuXG4gICAgICB2YXIgZXZ0VHlwZSA9IFwicmVhY3QtXCIgKyAobmFtZSA/IG5hbWUgOiBcImludm9rZWd1YXJkZWRjYWxsYmFja1wiKTtcblxuICAgICAgLy8gQXR0YWNoIG91ciBldmVudCBoYW5kbGVyc1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICAgIGZha2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgY2FsbENhbGxiYWNrLCBmYWxzZSk7XG5cbiAgICAgIC8vIFN5bmNocm9ub3VzbHkgZGlzcGF0Y2ggb3VyIGZha2UgZXZlbnQuIElmIHRoZSB1c2VyLXByb3ZpZGVkIGZ1bmN0aW9uXG4gICAgICAvLyBlcnJvcnMsIGl0IHdpbGwgdHJpZ2dlciBvdXIgZ2xvYmFsIGVycm9yIGhhbmRsZXIuXG4gICAgICBldnQuaW5pdEV2ZW50KGV2dFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICBmYWtlTm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cbiAgICAgIGlmIChkaWRFcnJvcikge1xuICAgICAgICBpZiAoIWRpZFNldEVycm9yKSB7XG4gICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIGVycm9yZWQsIGJ1dCB0aGUgZXJyb3IgZXZlbnQgbmV2ZXIgZmlyZWQuXG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkFuIGVycm9yIHdhcyB0aHJvd24gaW5zaWRlIG9uZSBvZiB5b3VyIGNvbXBvbmVudHMsIGJ1dCBSZWFjdCBcIiArXG4gICAgICAgICAgICAgIFwiZG9lc24ndCBrbm93IHdoYXQgaXQgd2FzLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYnJvd3NlciBcIiArXG4gICAgICAgICAgICAgICdmbGFraW5lc3MuIFJlYWN0IGRvZXMgaXRzIGJlc3QgdG8gcHJlc2VydmUgdGhlIFwiUGF1c2Ugb24gJyArXG4gICAgICAgICAgICAgICdleGNlcHRpb25zXCIgYmVoYXZpb3Igb2YgdGhlIERldlRvb2xzLCB3aGljaCByZXF1aXJlcyBzb21lICcgK1xuICAgICAgICAgICAgICBcIkRFVi1tb2RlIG9ubHkgdHJpY2tzLiBJdCdzIHBvc3NpYmxlIHRoYXQgdGhlc2UgZG9uJ3Qgd29yayBpbiBcIiArXG4gICAgICAgICAgICAgIFwieW91ciBicm93c2VyLiBUcnkgdHJpZ2dlcmluZyB0aGUgZXJyb3IgaW4gcHJvZHVjdGlvbiBtb2RlLCBcIiArXG4gICAgICAgICAgICAgIFwib3Igc3dpdGNoaW5nIHRvIGEgbW9kZXJuIGJyb3dzZXIuIElmIHlvdSBzdXNwZWN0IHRoYXQgdGhpcyBpcyBcIiArXG4gICAgICAgICAgICAgIFwiYWN0dWFsbHkgYW4gaXNzdWUgd2l0aCBSZWFjdCwgcGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQ3Jvc3NPcmlnaW5FcnJvcikge1xuICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJBIGNyb3NzLW9yaWdpbiBlcnJvciB3YXMgdGhyb3duLiBSZWFjdCBkb2Vzbid0IGhhdmUgYWNjZXNzIHRvIFwiICtcbiAgICAgICAgICAgICAgXCJ0aGUgYWN0dWFsIGVycm9yIG9iamVjdCBpbiBkZXZlbG9wbWVudC4gXCIgK1xuICAgICAgICAgICAgICBcIlNlZSBodHRwczovL2ZiLm1lL3JlYWN0LWNyb3Nzb3JpZ2luLWVycm9yIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhdWdodEVycm9yID0gZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYXNDYXVnaHRFcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBvdXIgZXZlbnQgbGlzdGVuZXJzXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgIH07XG5cbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2sgPSBpbnZva2VHdWFyZGVkQ2FsbGJhY2tEZXY7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQxID0gaW52b2tlR3VhcmRlZENhbGxiYWNrO1xuXG52YXIgUmVhY3RFcnJvclV0aWxzID0ge1xuICAvLyBVc2VkIGJ5IEZpYmVyIHRvIHNpbXVsYXRlIGEgdHJ5LWNhdGNoLlxuICBfY2F1Z2h0RXJyb3I6IG51bGwsXG4gIF9oYXNDYXVnaHRFcnJvcjogZmFsc2UsXG5cbiAgLy8gVXNlZCBieSBldmVudCBzeXN0ZW0gdG8gY2FwdHVyZS9yZXRocm93IHRoZSBmaXJzdCBlcnJvci5cbiAgX3JldGhyb3dFcnJvcjogbnVsbCxcbiAgX2hhc1JldGhyb3dFcnJvcjogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGwgYSBmdW5jdGlvbiB3aGlsZSBndWFyZGluZyBhZ2FpbnN0IGVycm9ycyB0aGF0IGhhcHBlbnMgd2l0aGluIGl0LlxuICAgKiBSZXR1cm5zIGFuIGVycm9yIGlmIGl0IHRocm93cywgb3RoZXJ3aXNlIG51bGwuXG4gICAqXG4gICAqIEluIHByb2R1Y3Rpb24sIHRoaXMgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSB0cnktY2F0Y2guIFRoZSByZWFzb24gd2UgZG9uJ3RcbiAgICogdXNlIGEgdHJ5LWNhdGNoIGRpcmVjdGx5IGlzIHNvIHRoYXQgd2UgY2FuIHN3YXAgb3V0IGEgZGlmZmVyZW50XG4gICAqIGltcGxlbWVudGF0aW9uIGluIERFViBtb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBvZiB0aGUgZ3VhcmQgdG8gdXNlIGZvciBsb2dnaW5nIG9yIGRlYnVnZ2luZ1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2VcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIHVzZSB3aGVuIGNhbGxpbmcgdGhlIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgZm9yIGZ1bmN0aW9uXG4gICAqL1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2s6IGZ1bmN0aW9uKG5hbWUsIGZ1bmMsIGNvbnRleHQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMS5hcHBseShSZWFjdEVycm9yVXRpbHMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhbWUgYXMgaW52b2tlR3VhcmRlZENhbGxiYWNrLCBidXQgaW5zdGVhZCBvZiByZXR1cm5pbmcgYW4gZXJyb3IsIGl0IHN0b3Jlc1xuICAgKiBpdCBpbiBhIGdsb2JhbCBzbyBpdCBjYW4gYmUgcmV0aHJvd24gYnkgYHJldGhyb3dDYXVnaHRFcnJvcmAgbGF0ZXIuXG4gICAqIFRPRE86IFNlZSBpZiBfY2F1Z2h0RXJyb3IgYW5kIF9yZXRocm93RXJyb3IgY2FuIGJlIHVuaWZpZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBndWFyZCB0byB1c2UgZm9yIGxvZ2dpbmcgb3IgZGVidWdnaW5nXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZVxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gdXNlIHdoZW4gY2FsbGluZyB0aGUgZnVuY3Rpb25cbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFyZ3VtZW50cyBmb3IgZnVuY3Rpb25cbiAgICovXG4gIGludm9rZUd1YXJkZWRDYWxsYmFja0FuZENhdGNoRmlyc3RFcnJvcjogZnVuY3Rpb24oXG4gICAgbmFtZSxcbiAgICBmdW5jLFxuICAgIGNvbnRleHQsXG4gICAgYSxcbiAgICBiLFxuICAgIGMsXG4gICAgZCxcbiAgICBlLFxuICAgIGZcbiAgKSB7XG4gICAgUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuaGFzQ2F1Z2h0RXJyb3IoKSkge1xuICAgICAgdmFyIGVycm9yID0gUmVhY3RFcnJvclV0aWxzLmNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgIGlmICghUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IpIHtcbiAgICAgICAgUmVhY3RFcnJvclV0aWxzLl9oYXNSZXRocm93RXJyb3IgPSB0cnVlO1xuICAgICAgICBSZWFjdEVycm9yVXRpbHMuX3JldGhyb3dFcnJvciA9IGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRHVyaW5nIGV4ZWN1dGlvbiBvZiBndWFyZGVkIGZ1bmN0aW9ucyB3ZSB3aWxsIGNhcHR1cmUgdGhlIGZpcnN0IGVycm9yIHdoaWNoXG4gICAqIHdlIHdpbGwgcmV0aHJvdyB0byBiZSBoYW5kbGVkIGJ5IHRoZSB0b3AgbGV2ZWwgZXJyb3IgaGFuZGxlci5cbiAgICovXG4gIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHJldGhyb3dDYXVnaHRFcnJvci5hcHBseShSZWFjdEVycm9yVXRpbHMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cbiAgaGFzQ2F1Z2h0RXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yO1xuICB9LFxuXG4gIGNsZWFyQ2F1Z2h0RXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yKSB7XG4gICAgICB2YXIgZXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuX2NhdWdodEVycm9yO1xuICAgICAgUmVhY3RFcnJvclV0aWxzLl9jYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICBSZWFjdEVycm9yVXRpbHMuX2hhc0NhdWdodEVycm9yID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiY2xlYXJDYXVnaHRFcnJvciB3YXMgY2FsbGVkIGJ1dCBubyBlcnJvciB3YXMgY2FwdHVyZWQuIFRoaXMgZXJyb3IgXCIgK1xuICAgICAgICAgIFwiaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgcmV0aHJvd0NhdWdodEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGlmIChSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvcikge1xuICAgIHZhciBlcnJvciA9IFJlYWN0RXJyb3JVdGlscy5fcmV0aHJvd0Vycm9yO1xuICAgIFJlYWN0RXJyb3JVdGlscy5fcmV0aHJvd0Vycm9yID0gbnVsbDtcbiAgICBSZWFjdEVycm9yVXRpbHMuX2hhc1JldGhyb3dFcnJvciA9IGZhbHNlO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIEluamVjdGFibGUgb3JkZXJpbmcgb2YgZXZlbnQgcGx1Z2lucy5cbiAqL1xudmFyIGV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuXG4vKipcbiAqIEluamVjdGFibGUgbWFwcGluZyBmcm9tIG5hbWVzIHRvIGV2ZW50IHBsdWdpbiBtb2R1bGVzLlxuICovXG52YXIgbmFtZXNUb1BsdWdpbnMgPSB7fTtcblxuLyoqXG4gKiBSZWNvbXB1dGVzIHRoZSBwbHVnaW4gbGlzdCB1c2luZyB0aGUgaW5qZWN0ZWQgcGx1Z2lucyBhbmQgcGx1Z2luIG9yZGVyaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICBpZiAoIWV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgICAvLyBXYWl0IHVudGlsIGFuIGBldmVudFBsdWdpbk9yZGVyYCBpcyBpbmplY3RlZC5cbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBuYW1lc1RvUGx1Z2lucykge1xuICAgIHZhciBwbHVnaW5Nb2R1bGUgPSBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICB2YXIgcGx1Z2luSW5kZXggPSBldmVudFBsdWdpbk9yZGVyLmluZGV4T2YocGx1Z2luTmFtZSk7XG4gICAgaW52YXJpYW50KFxuICAgICAgcGx1Z2luSW5kZXggPiAtMSxcbiAgICAgIFwiRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCBldmVudCBwbHVnaW5zIHRoYXQgZG8gbm90IGV4aXN0IGluIFwiICtcbiAgICAgICAgXCJ0aGUgcGx1Z2luIG9yZGVyaW5nLCBgJXNgLlwiLFxuICAgICAgcGx1Z2luTmFtZVxuICAgICk7XG4gICAgaWYgKHBsdWdpbnNbcGx1Z2luSW5kZXhdKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgcGx1Z2luTW9kdWxlLmV4dHJhY3RFdmVudHMsXG4gICAgICBcIkV2ZW50UGx1Z2luUmVnaXN0cnk6IEV2ZW50IHBsdWdpbnMgbXVzdCBpbXBsZW1lbnQgYW4gYGV4dHJhY3RFdmVudHNgIFwiICtcbiAgICAgICAgXCJtZXRob2QsIGJ1dCBgJXNgIGRvZXMgbm90LlwiLFxuICAgICAgcGx1Z2luTmFtZVxuICAgICk7XG4gICAgcGx1Z2luc1twbHVnaW5JbmRleF0gPSBwbHVnaW5Nb2R1bGU7XG4gICAgdmFyIHB1Ymxpc2hlZEV2ZW50cyA9IHBsdWdpbk1vZHVsZS5ldmVudFR5cGVzO1xuICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBwdWJsaXNoZWRFdmVudHMpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgcHVibGlzaEV2ZW50Rm9yUGx1Z2luKFxuICAgICAgICAgIHB1Ymxpc2hlZEV2ZW50c1tldmVudE5hbWVdLFxuICAgICAgICAgIHBsdWdpbk1vZHVsZSxcbiAgICAgICAgICBldmVudE5hbWVcbiAgICAgICAgKSxcbiAgICAgICAgXCJFdmVudFBsdWdpblJlZ2lzdHJ5OiBGYWlsZWQgdG8gcHVibGlzaCBldmVudCBgJXNgIGZvciBwbHVnaW4gYCVzYC5cIixcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICBwbHVnaW5OYW1lXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFB1Ymxpc2hlcyBhbiBldmVudCBzbyB0aGF0IGl0IGNhbiBiZSBkaXNwYXRjaGVkIGJ5IHRoZSBzdXBwbGllZCBwbHVnaW4uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIERpc3BhdGNoIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBldmVudC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW5Nb2R1bGUgUGx1Z2luIHB1Ymxpc2hpbmcgdGhlIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXZlbnQgd2FzIHN1Y2Nlc3NmdWxseSBwdWJsaXNoZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwdWJsaXNoRXZlbnRGb3JQbHVnaW4oZGlzcGF0Y2hDb25maWcsIHBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSB7XG4gIGludmFyaWFudChcbiAgICAhZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSksXG4gICAgXCJFdmVudFBsdWdpbkh1YjogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgXCIgK1xuICAgICAgXCJldmVudCBuYW1lLCBgJXNgLlwiLFxuICAgIGV2ZW50TmFtZVxuICApO1xuICBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXSA9IGRpc3BhdGNoQ29uZmlnO1xuXG4gIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyA9IGRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO1xuICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICBmb3IgKHZhciBwaGFzZU5hbWUgaW4gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZU5hbWUpKSB7XG4gICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoXG4gICAgICAgICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICBwbHVnaW5Nb2R1bGUsXG4gICAgICAgICAgZXZlbnROYW1lXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShcbiAgICAgIGRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICBwbHVnaW5Nb2R1bGUsXG4gICAgICBldmVudE5hbWVcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYSByZWdpc3RyYXRpb24gbmFtZSB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgZGlzcGF0Y2hlZCBldmVudHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgUmVnaXN0cmF0aW9uIG5hbWUgdG8gYWRkLlxuICogQHBhcmFtIHtvYmplY3R9IFBsdWdpbk1vZHVsZSBQbHVnaW4gcHVibGlzaGluZyB0aGUgZXZlbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwdWJsaXNoUmVnaXN0cmF0aW9uTmFtZShyZWdpc3RyYXRpb25OYW1lLCBwbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICBpbnZhcmlhbnQoXG4gICAgIXJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdLFxuICAgIFwiRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lIFwiICtcbiAgICAgIFwicmVnaXN0cmF0aW9uIG5hbWUsIGAlc2AuXCIsXG4gICAgcmVnaXN0cmF0aW9uTmFtZVxuICApO1xuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IHBsdWdpbk1vZHVsZTtcbiAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSA9XG4gICAgcGx1Z2luTW9kdWxlLmV2ZW50VHlwZXNbZXZlbnROYW1lXS5kZXBlbmRlbmNpZXM7XG5cbiAge1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHJlZ2lzdHJhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBwbHVnaW5zIHNvIHRoYXQgdGhleSBjYW4gZXh0cmFjdCBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICpcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHVifVxuICovXG5cbi8qKlxuICogT3JkZXJlZCBsaXN0IG9mIGluamVjdGVkIHBsdWdpbnMuXG4gKi9cbnZhciBwbHVnaW5zID0gW107XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIGV2ZW50IG5hbWUgdG8gZGlzcGF0Y2ggY29uZmlnXG4gKi9cbnZhciBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MgPSB7fTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gcGx1Z2luIG1vZHVsZVxuICovXG52YXIgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMgPSB7fTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gcmVnaXN0cmF0aW9uIG5hbWUgdG8gZXZlbnQgbmFtZVxuICovXG52YXIgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyA9IHt9O1xuXG4vKipcbiAqIE1hcHBpbmcgZnJvbSBsb3dlcmNhc2UgcmVnaXN0cmF0aW9uIG5hbWVzIHRvIHRoZSBwcm9wZXJseSBjYXNlZCB2ZXJzaW9uLFxuICogdXNlZCB0byB3YXJuIGluIHRoZSBjYXNlIG9mIG1pc3NpbmcgZXZlbnQgaGFuZGxlcnMuIEF2YWlsYWJsZVxuICogb25seSBpbiB0cnVlLlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG4vLyBUcnVzdCB0aGUgZGV2ZWxvcGVyIHRvIG9ubHkgdXNlIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMgaW4gdHJ1ZVxuXG4vKipcbiAqIEluamVjdHMgYW4gb3JkZXJpbmcgb2YgcGx1Z2lucyAoYnkgcGx1Z2luIG5hbWUpLiBUaGlzIGFsbG93cyB0aGUgb3JkZXJpbmdcbiAqIHRvIGJlIGRlY291cGxlZCBmcm9tIGluamVjdGlvbiBvZiB0aGUgYWN0dWFsIHBsdWdpbnMgc28gdGhhdCBvcmRlcmluZyBpc1xuICogYWx3YXlzIGRldGVybWluaXN0aWMgcmVnYXJkbGVzcyBvZiBwYWNrYWdpbmcsIG9uLXRoZS1mbHkgaW5qZWN0aW9uLCBldGMuXG4gKlxuICogQHBhcmFtIHthcnJheX0gSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyXG4gKiBAaW50ZXJuYWxcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbk9yZGVyfVxuICovXG5mdW5jdGlvbiBpbmplY3RFdmVudFBsdWdpbk9yZGVyKGluamVjdGVkRXZlbnRQbHVnaW5PcmRlcikge1xuICBpbnZhcmlhbnQoXG4gICAgIWV2ZW50UGx1Z2luT3JkZXIsXG4gICAgXCJFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IGV2ZW50IHBsdWdpbiBvcmRlcmluZyBtb3JlIHRoYW4gXCIgK1xuICAgICAgXCJvbmNlLiBZb3UgYXJlIGxpa2VseSB0cnlpbmcgdG8gbG9hZCBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QuXCJcbiAgKTtcbiAgLy8gQ2xvbmUgdGhlIG9yZGVyaW5nIHNvIGl0IGNhbm5vdCBiZSBkeW5hbWljYWxseSBtdXRhdGVkLlxuICBldmVudFBsdWdpbk9yZGVyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKTtcbiAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbn1cblxuLyoqXG4gKiBJbmplY3RzIHBsdWdpbnMgdG8gYmUgdXNlZCBieSBgRXZlbnRQbHVnaW5IdWJgLiBUaGUgcGx1Z2luIG5hbWVzIG11c3QgYmVcbiAqIGluIHRoZSBvcmRlcmluZyBpbmplY3RlZCBieSBgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcmAuXG4gKlxuICogUGx1Z2lucyBjYW4gYmUgaW5qZWN0ZWQgYXMgcGFydCBvZiBwYWdlIGluaXRpYWxpemF0aW9uIG9yIG9uLXRoZS1mbHkuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gKiBAaW50ZXJuYWxcbiAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmluamVjdGlvbi5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWV9XG4gKi9cbmZ1bmN0aW9uIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZShpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gIHZhciBpc09yZGVyaW5nRGlydHkgPSBmYWxzZTtcbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBpbmplY3RlZE5hbWVzVG9QbHVnaW5zKSB7XG4gICAgaWYgKCFpbmplY3RlZE5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIHBsdWdpbk1vZHVsZSA9IGluamVjdGVkTmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgaWYgKFxuICAgICAgIW5hbWVzVG9QbHVnaW5zLmhhc093blByb3BlcnR5KHBsdWdpbk5hbWUpIHx8XG4gICAgICBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSAhPT0gcGx1Z2luTW9kdWxlXG4gICAgKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgICFuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSxcbiAgICAgICAgXCJFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IHR3byBkaWZmZXJlbnQgZXZlbnQgcGx1Z2lucyBcIiArXG4gICAgICAgICAgXCJ1c2luZyB0aGUgc2FtZSBuYW1lLCBgJXNgLlwiLFxuICAgICAgICBwbHVnaW5OYW1lXG4gICAgICApO1xuICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBwbHVnaW5Nb2R1bGU7XG4gICAgICBpc09yZGVyaW5nRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNPcmRlcmluZ0RpcnR5KSB7XG4gICAgcmVjb21wdXRlUGx1Z2luT3JkZXJpbmcoKTtcbiAgfVxufVxuXG52YXIgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0SW5zdGFuY2VGcm9tTm9kZSA9IG51bGw7XG52YXIgZ2V0Tm9kZUZyb21JbnN0YW5jZSA9IG51bGw7XG5cbnZhciBpbmplY3Rpb24kMSA9IHtcbiAgaW5qZWN0Q29tcG9uZW50VHJlZTogZnVuY3Rpb24oSW5qZWN0ZWQpIHtcbiAgICBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlID0gSW5qZWN0ZWQuZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZTtcbiAgICBnZXRJbnN0YW5jZUZyb21Ob2RlID0gSW5qZWN0ZWQuZ2V0SW5zdGFuY2VGcm9tTm9kZTtcbiAgICBnZXROb2RlRnJvbUluc3RhbmNlID0gSW5qZWN0ZWQuZ2V0Tm9kZUZyb21JbnN0YW5jZTtcblxuICAgIHtcbiAgICAgICEoZ2V0Tm9kZUZyb21JbnN0YW5jZSAmJiBnZXRJbnN0YW5jZUZyb21Ob2RlKVxuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiRXZlbnRQbHVnaW5VdGlscy5pbmplY3Rpb24uaW5qZWN0Q29tcG9uZW50VHJlZSguLi4pOiBJbmplY3RlZCBcIiArXG4gICAgICAgICAgICAgIFwibW9kdWxlIGlzIG1pc3NpbmcgZ2V0Tm9kZUZyb21JbnN0YW5jZSBvciBnZXRJbnN0YW5jZUZyb21Ob2RlLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGlzRW5kaXNoKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gKFxuICAgIHRvcExldmVsVHlwZSA9PT0gXCJ0b3BNb3VzZVVwXCIgfHxcbiAgICB0b3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hFbmRcIiB8fFxuICAgIHRvcExldmVsVHlwZSA9PT0gXCJ0b3BUb3VjaENhbmNlbFwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzTW92ZWlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gXCJ0b3BNb3VzZU1vdmVcIiB8fCB0b3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hNb3ZlXCI7XG59XG5mdW5jdGlvbiBpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSBcInRvcE1vdXNlRG93blwiIHx8IHRvcExldmVsVHlwZSA9PT0gXCJ0b3BUb3VjaFN0YXJ0XCI7XG59XG5cbnZhciB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyA9IHZvaWQgMDtcbntcbiAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgICB2YXIgZGlzcGF0Y2hJbnN0YW5jZXMgPSBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXM7XG5cbiAgICB2YXIgbGlzdGVuZXJzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXJzKTtcbiAgICB2YXIgbGlzdGVuZXJzTGVuID0gbGlzdGVuZXJzSXNBcnJcbiAgICAgID8gZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoXG4gICAgICA6IGRpc3BhdGNoTGlzdGVuZXJzID8gMSA6IDA7XG5cbiAgICB2YXIgaW5zdGFuY2VzSXNBcnIgPSBBcnJheS5pc0FycmF5KGRpc3BhdGNoSW5zdGFuY2VzKTtcbiAgICB2YXIgaW5zdGFuY2VzTGVuID0gaW5zdGFuY2VzSXNBcnJcbiAgICAgID8gZGlzcGF0Y2hJbnN0YW5jZXMubGVuZ3RoXG4gICAgICA6IGRpc3BhdGNoSW5zdGFuY2VzID8gMSA6IDA7XG5cbiAgICAhKGluc3RhbmNlc0lzQXJyID09PSBsaXN0ZW5lcnNJc0FyciAmJiBpbnN0YW5jZXNMZW4gPT09IGxpc3RlbmVyc0xlbilcbiAgICAgID8gd2FybmluZyhmYWxzZSwgXCJFdmVudFBsdWdpblV0aWxzOiBJbnZhbGlkIGBldmVudGAuXCIpXG4gICAgICA6IHZvaWQgMDtcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCB0aGUgZXZlbnQgdG8gdGhlIGxpc3RlbmVyLlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgU3ludGhldGljRXZlbnQgdG8gaGFuZGxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNpbXVsYXRlZCBJZiB0aGUgZXZlbnQgaXMgc2ltdWxhdGVkIChjaGFuZ2VzIGV4biBiZWhhdmlvcilcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIEFwcGxpY2F0aW9uLWxldmVsIGNhbGxiYWNrXG4gKiBAcGFyYW0geyp9IGluc3QgSW50ZXJuYWwgY29tcG9uZW50IGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaChldmVudCwgc2ltdWxhdGVkLCBsaXN0ZW5lciwgaW5zdCkge1xuICB2YXIgdHlwZSA9IGV2ZW50LnR5cGUgfHwgXCJ1bmtub3duLWV2ZW50XCI7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBnZXROb2RlRnJvbUluc3RhbmNlKGluc3QpO1xuICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrQW5kQ2F0Y2hGaXJzdEVycm9yKFxuICAgIHR5cGUsXG4gICAgbGlzdGVuZXIsXG4gICAgdW5kZWZpbmVkLFxuICAgIGV2ZW50XG4gICk7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBudWxsO1xufVxuXG4vKipcbiAqIFN0YW5kYXJkL3NpbXBsZSBpdGVyYXRpb24gdGhyb3VnaCBhbiBldmVudCdzIGNvbGxlY3RlZCBkaXNwYXRjaGVzLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIoZXZlbnQsIHNpbXVsYXRlZCkge1xuICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gIHZhciBkaXNwYXRjaEluc3RhbmNlcyA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAge1xuICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycykpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIExpc3RlbmVycyBhbmQgSW5zdGFuY2VzIGFyZSB0d28gcGFyYWxsZWwgYXJyYXlzIHRoYXQgYXJlIGFsd2F5cyBpbiBzeW5jLlxuICAgICAgZXhlY3V0ZURpc3BhdGNoKFxuICAgICAgICBldmVudCxcbiAgICAgICAgc2ltdWxhdGVkLFxuICAgICAgICBkaXNwYXRjaExpc3RlbmVyc1tpXSxcbiAgICAgICAgZGlzcGF0Y2hJbnN0YW5jZXNbaV1cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzLCBkaXNwYXRjaEluc3RhbmNlcyk7XG4gIH1cbiAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZC9zaW1wbGUgaXRlcmF0aW9uIHRocm91Z2ggYW4gZXZlbnQncyBjb2xsZWN0ZWQgZGlzcGF0Y2hlcywgYnV0IHN0b3BzXG4gKiBhdCB0aGUgZmlyc3QgZGlzcGF0Y2ggZXhlY3V0aW9uIHJldHVybmluZyB0cnVlLCBhbmQgcmV0dXJucyB0aGF0IGlkLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IGlkIG9mIHRoZSBmaXJzdCBkaXNwYXRjaCBleGVjdXRpb24gd2hvJ3MgbGlzdGVuZXIgcmV0dXJuc1xuICogdHJ1ZSwgb3IgbnVsbCBpZiBubyBsaXN0ZW5lciByZXR1cm5lZCB0cnVlLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCkge1xuICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gIHZhciBkaXNwYXRjaEluc3RhbmNlcyA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAge1xuICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycykpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIExpc3RlbmVycyBhbmQgSW5zdGFuY2VzIGFyZSB0d28gcGFyYWxsZWwgYXJyYXlzIHRoYXQgYXJlIGFsd2F5cyBpbiBzeW5jLlxuICAgICAgaWYgKGRpc3BhdGNoTGlzdGVuZXJzW2ldKGV2ZW50LCBkaXNwYXRjaEluc3RhbmNlc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoSW5zdGFuY2VzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChkaXNwYXRjaExpc3RlbmVycykge1xuICAgIGlmIChkaXNwYXRjaExpc3RlbmVycyhldmVudCwgZGlzcGF0Y2hJbnN0YW5jZXMpKSB7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hJbnN0YW5jZXM7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBzZWUgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGxcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZShldmVudCkge1xuICB2YXIgcmV0ID0gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGwoZXZlbnQpO1xuICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICByZXR1cm4gcmV0O1xufVxuXG4vKipcbiAqIEV4ZWN1dGlvbiBvZiBhIFwiZGlyZWN0XCIgZGlzcGF0Y2ggLSB0aGVyZSBtdXN0IGJlIGF0IG1vc3Qgb25lIGRpc3BhdGNoXG4gKiBhY2N1bXVsYXRlZCBvbiB0aGUgZXZlbnQgb3IgaXQgaXMgY29uc2lkZXJlZCBhbiBlcnJvci4gSXQgZG9lc24ndCByZWFsbHkgbWFrZVxuICogc2Vuc2UgZm9yIGFuIGV2ZW50IHdpdGggbXVsdGlwbGUgZGlzcGF0Y2hlcyAoYnViYmxlZCkgdG8ga2VlcCB0cmFjayBvZiB0aGVcbiAqIHJldHVybiB2YWx1ZXMgYXQgZWFjaCBkaXNwYXRjaCBleGVjdXRpb24sIGJ1dCBpdCBkb2VzIHRlbmQgdG8gbWFrZSBzZW5zZSB3aGVuXG4gKiBkZWFsaW5nIHdpdGggXCJkaXJlY3RcIiBkaXNwYXRjaGVzLlxuICpcbiAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgZXhlY3V0aW5nIHRoZSBzaW5nbGUgZGlzcGF0Y2guXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXJlY3REaXNwYXRjaChldmVudCkge1xuICB7XG4gICAgdmFsaWRhdGVFdmVudERpc3BhdGNoZXMoZXZlbnQpO1xuICB9XG4gIHZhciBkaXNwYXRjaExpc3RlbmVyID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICB2YXIgZGlzcGF0Y2hJbnN0YW5jZSA9IGV2ZW50Ll9kaXNwYXRjaEluc3RhbmNlcztcbiAgaW52YXJpYW50KFxuICAgICFBcnJheS5pc0FycmF5KGRpc3BhdGNoTGlzdGVuZXIpLFxuICAgIFwiZXhlY3V0ZURpcmVjdERpc3BhdGNoKC4uLik6IEludmFsaWQgYGV2ZW50YC5cIlxuICApO1xuICBldmVudC5jdXJyZW50VGFyZ2V0ID0gZGlzcGF0Y2hMaXN0ZW5lclxuICAgID8gZ2V0Tm9kZUZyb21JbnN0YW5jZShkaXNwYXRjaEluc3RhbmNlKVxuICAgIDogbnVsbDtcbiAgdmFyIHJlcyA9IGRpc3BhdGNoTGlzdGVuZXIgPyBkaXNwYXRjaExpc3RlbmVyKGV2ZW50KSA6IG51bGw7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBudWxsO1xuICByZXR1cm4gcmVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmZiBudW1iZXIgb2YgZGlzcGF0Y2hlcyBhY2N1bXVsYXRlZCBpcyBncmVhdGVyIHRoYW4gMC5cbiAqL1xuZnVuY3Rpb24gaGFzRGlzcGF0Y2hlcyhldmVudCkge1xuICByZXR1cm4gISFldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG59XG5cbi8qKlxuICogQWNjdW11bGF0ZXMgaXRlbXMgdGhhdCBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCBpbnRvIHRoZSBmaXJzdCBvbmUuIFRoaXNcbiAqIGlzIHVzZWQgdG8gY29uc2VydmUgbWVtb3J5IGJ5IGF2b2lkaW5nIGFycmF5IGFsbG9jYXRpb25zLCBhbmQgdGh1cyBzYWNyaWZpY2VzXG4gKiBBUEkgY2xlYW5uZXNzLiBTaW5jZSBgY3VycmVudGAgY2FuIGJlIG51bGwgYmVmb3JlIGJlaW5nIHBhc3NlZCBpbiBhbmQgbm90XG4gKiBudWxsIGFmdGVyIHRoaXMgZnVuY3Rpb24sIG1ha2Ugc3VyZSB0byBhc3NpZ24gaXQgYmFjayB0byBgY3VycmVudGA6XG4gKlxuICogYGEgPSBhY2N1bXVsYXRlSW50byhhLCBiKTtgXG4gKlxuICogVGhpcyBBUEkgc2hvdWxkIGJlIHNwYXJpbmdseSB1c2VkLiBUcnkgYGFjY3VtdWxhdGVgIGZvciBzb21ldGhpbmcgY2xlYW5lci5cbiAqXG4gKiBAcmV0dXJuIHsqfGFycmF5PCo+fSBBbiBhY2N1bXVsYXRpb24gb2YgaXRlbXMuXG4gKi9cblxuZnVuY3Rpb24gYWNjdW11bGF0ZUludG8oY3VycmVudCwgbmV4dCkge1xuICBpbnZhcmlhbnQoXG4gICAgbmV4dCAhPSBudWxsLFxuICAgIFwiYWNjdW11bGF0ZUludG8oLi4uKTogQWNjdW11bGF0ZWQgaXRlbXMgbXVzdCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuXCJcbiAgKTtcblxuICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG5leHQ7XG4gIH1cblxuICAvLyBCb3RoIGFyZSBub3QgZW1wdHkuIFdhcm5pbmc6IE5ldmVyIGNhbGwgeC5jb25jYXQoeSkgd2hlbiB5b3UgYXJlIG5vdFxuICAvLyBjZXJ0YWluIHRoYXQgeCBpcyBhbiBBcnJheSAoeCBjb3VsZCBiZSBhIHN0cmluZyB3aXRoIGNvbmNhdCBtZXRob2QpLlxuICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50KSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgICBjdXJyZW50LnB1c2guYXBwbHkoY3VycmVudCwgbmV4dCk7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgY3VycmVudC5wdXNoKG5leHQpO1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAvLyBBIGJpdCB0b28gZGFuZ2Vyb3VzIHRvIG11dGF0ZSBgbmV4dGAuXG4gICAgcmV0dXJuIFtjdXJyZW50XS5jb25jYXQobmV4dCk7XG4gIH1cblxuICByZXR1cm4gW2N1cnJlbnQsIG5leHRdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YXJyYXl9IGFyciBhbiBcImFjY3VtdWxhdGlvblwiIG9mIGl0ZW1zIHdoaWNoIGlzIGVpdGhlciBhbiBBcnJheSBvclxuICogYSBzaW5nbGUgaXRlbS4gVXNlZnVsIHdoZW4gcGFpcmVkIHdpdGggdGhlIGBhY2N1bXVsYXRlYCBtb2R1bGUuIFRoaXMgaXMgYVxuICogc2ltcGxlIHV0aWxpdHkgdGhhdCBhbGxvd3MgdXMgdG8gcmVhc29uIGFib3V0IGEgY29sbGVjdGlvbiBvZiBpdGVtcywgYnV0XG4gKiBoYW5kbGluZyB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGV4YWN0bHkgb25lIGl0ZW0gKGFuZCB3ZSBkbyBub3QgbmVlZCB0b1xuICogYWxsb2NhdGUgYW4gYXJyYXkpLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGVhY2ggZWxlbWVudCBvciBhIGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0gez99IFtzY29wZV0gU2NvcGUgdXNlZCBhcyBgdGhpc2AgaW4gYSBjYWxsYmFjay5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaEFjY3VtdWxhdGVkKGFyciwgY2IsIHNjb3BlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBhcnIuZm9yRWFjaChjYiwgc2NvcGUpO1xuICB9IGVsc2UgaWYgKGFycikge1xuICAgIGNiLmNhbGwoc2NvcGUsIGFycik7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBxdWV1ZSBvZiBldmVudHMgdGhhdCBoYXZlIGFjY3VtdWxhdGVkIHRoZWlyIGRpc3BhdGNoZXMgYW5kIGFyZVxuICogd2FpdGluZyB0byBoYXZlIHRoZWlyIGRpc3BhdGNoZXMgZXhlY3V0ZWQuXG4gKi9cbnZhciBldmVudFF1ZXVlID0gbnVsbDtcblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCByZWxlYXNlcyBpdCBiYWNrIGludG8gdGhlIHBvb2wsIHVubGVzcyBwZXJzaXN0ZW50LlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gZXZlbnQgU3ludGhldGljIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNpbXVsYXRlZCBJZiB0aGUgZXZlbnQgaXMgc2ltdWxhdGVkIChjaGFuZ2VzIGV4biBiZWhhdmlvcilcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UgPSBmdW5jdGlvbihldmVudCwgc2ltdWxhdGVkKSB7XG4gIGlmIChldmVudCkge1xuICAgIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKTtcblxuICAgIGlmICghZXZlbnQuaXNQZXJzaXN0ZW50KCkpIHtcbiAgICAgIGV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UoZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UoZSwgdHJ1ZSk7XG59O1xudmFyIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVRvcExldmVsID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIGZhbHNlKTtcbn07XG5cbmZ1bmN0aW9uIGlzSW50ZXJhY3RpdmUodGFnKSB7XG4gIHJldHVybiAoXG4gICAgdGFnID09PSBcImJ1dHRvblwiIHx8XG4gICAgdGFnID09PSBcImlucHV0XCIgfHxcbiAgICB0YWcgPT09IFwic2VsZWN0XCIgfHxcbiAgICB0YWcgPT09IFwidGV4dGFyZWFcIlxuICApO1xufVxuXG5mdW5jdGlvbiBzaG91bGRQcmV2ZW50TW91c2VFdmVudChuYW1lLCB0eXBlLCBwcm9wcykge1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlIFwib25DbGlja1wiOlxuICAgIGNhc2UgXCJvbkNsaWNrQ2FwdHVyZVwiOlxuICAgIGNhc2UgXCJvbkRvdWJsZUNsaWNrXCI6XG4gICAgY2FzZSBcIm9uRG91YmxlQ2xpY2tDYXB0dXJlXCI6XG4gICAgY2FzZSBcIm9uTW91c2VEb3duXCI6XG4gICAgY2FzZSBcIm9uTW91c2VEb3duQ2FwdHVyZVwiOlxuICAgIGNhc2UgXCJvbk1vdXNlTW92ZVwiOlxuICAgIGNhc2UgXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpcbiAgICBjYXNlIFwib25Nb3VzZVVwXCI6XG4gICAgY2FzZSBcIm9uTW91c2VVcENhcHR1cmVcIjpcbiAgICAgIHJldHVybiAhIShwcm9wcy5kaXNhYmxlZCAmJiBpc0ludGVyYWN0aXZlKHR5cGUpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBldmVudCBwbHVnaW5zIHRvIGJlIGluc3RhbGxlZCBhbmQgY29uZmlndXJlZC5cbiAqXG4gKiBFdmVudCBwbHVnaW5zIGNhbiBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgYGV4dHJhY3RFdmVudHNgIHtmdW5jdGlvbihzdHJpbmcsIERPTUV2ZW50VGFyZ2V0LCBzdHJpbmcsIG9iamVjdCk6ICp9XG4gKiAgICAgUmVxdWlyZWQuIFdoZW4gYSB0b3AtbGV2ZWwgZXZlbnQgaXMgZmlyZWQsIHRoaXMgbWV0aG9kIGlzIGV4cGVjdGVkIHRvXG4gKiAgICAgZXh0cmFjdCBzeW50aGV0aWMgZXZlbnRzIHRoYXQgd2lsbCBpbiB0dXJuIGJlIHF1ZXVlZCBhbmQgZGlzcGF0Y2hlZC5cbiAqXG4gKiAgIGBldmVudFR5cGVzYCB7b2JqZWN0fVxuICogICAgIE9wdGlvbmFsLCBwbHVnaW5zIHRoYXQgZmlyZSBldmVudHMgbXVzdCBwdWJsaXNoIGEgbWFwcGluZyBvZiByZWdpc3RyYXRpb25cbiAqICAgICBuYW1lcyB0aGF0IGFyZSB1c2VkIHRvIHJlZ2lzdGVyIGxpc3RlbmVycy4gVmFsdWVzIG9mIHRoaXMgbWFwcGluZyBtdXN0XG4gKiAgICAgYmUgb2JqZWN0cyB0aGF0IGNvbnRhaW4gYHJlZ2lzdHJhdGlvbk5hbWVgIG9yIGBwaGFzZWRSZWdpc3RyYXRpb25OYW1lc2AuXG4gKlxuICogICBgZXhlY3V0ZURpc3BhdGNoYCB7ZnVuY3Rpb24ob2JqZWN0LCBmdW5jdGlvbiwgc3RyaW5nKX1cbiAqICAgICBPcHRpb25hbCwgYWxsb3dzIHBsdWdpbnMgdG8gb3ZlcnJpZGUgaG93IGFuIGV2ZW50IGdldHMgZGlzcGF0Y2hlZC4gQnlcbiAqICAgICBkZWZhdWx0LCB0aGUgbGlzdGVuZXIgaXMgc2ltcGx5IGludm9rZWQuXG4gKlxuICogRWFjaCBwbHVnaW4gdGhhdCBpcyBpbmplY3RlZCBpbnRvIGBFdmVudHNQbHVnaW5IdWJgIGlzIGltbWVkaWF0ZWx5IG9wZXJhYmxlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG4vKipcbiAqIE1ldGhvZHMgZm9yIGluamVjdGluZyBkZXBlbmRlbmNpZXMuXG4gKi9cbnZhciBpbmplY3Rpb24gPSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge2FycmF5fSBJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXJcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgaW5qZWN0RXZlbnRQbHVnaW5PcmRlcjogaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcblxuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gICAqL1xuICBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWU6IGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaW5zdCBUaGUgaW5zdGFuY2UsIHdoaWNoIGlzIHRoZSBzb3VyY2Ugb2YgZXZlbnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICogQHJldHVybiB7P2Z1bmN0aW9ufSBUaGUgc3RvcmVkIGNhbGxiYWNrLlxuICovXG5mdW5jdGlvbiBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gIHZhciBsaXN0ZW5lciA9IHZvaWQgMDtcblxuICAvLyBUT0RPOiBzaG91bGRQcmV2ZW50TW91c2VFdmVudCBpcyBET00tc3BlY2lmaWMgYW5kIGRlZmluaXRlbHkgc2hvdWxkIG5vdFxuICAvLyBsaXZlIGhlcmU7IG5lZWRzIHRvIGJlIG1vdmVkIHRvIGEgYmV0dGVyIHBsYWNlIHNvb25cbiAgdmFyIHN0YXRlTm9kZSA9IGluc3Quc3RhdGVOb2RlO1xuICBpZiAoIXN0YXRlTm9kZSkge1xuICAgIC8vIFdvcmsgaW4gcHJvZ3Jlc3MgKGV4OiBvbmxvYWQgZXZlbnRzIGluIGluY3JlbWVudGFsIG1vZGUpLlxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwcm9wcyA9IGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUoc3RhdGVOb2RlKTtcbiAgaWYgKCFwcm9wcykge1xuICAgIC8vIFdvcmsgaW4gcHJvZ3Jlc3MuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGlzdGVuZXIgPSBwcm9wc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgaWYgKHNob3VsZFByZXZlbnRNb3VzZUV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUsIGluc3QudHlwZSwgcHJvcHMpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaW52YXJpYW50KFxuICAgICFsaXN0ZW5lciB8fCB0eXBlb2YgbGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIixcbiAgICBcIkV4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgJXNgIHR5cGUuXCIsXG4gICAgcmVnaXN0cmF0aW9uTmFtZSxcbiAgICB0eXBlb2YgbGlzdGVuZXJcbiAgKTtcbiAgcmV0dXJuIGxpc3RlbmVyO1xufVxuXG4vKipcbiAqIEFsbG93cyByZWdpc3RlcmVkIHBsdWdpbnMgYW4gb3Bwb3J0dW5pdHkgdG8gZXh0cmFjdCBldmVudHMgZnJvbSB0b3AtbGV2ZWxcbiAqIG5hdGl2ZSBicm93c2VyIGV2ZW50cy5cbiAqXG4gKiBAcmV0dXJuIHsqfSBBbiBhY2N1bXVsYXRpb24gb2Ygc3ludGhldGljIGV2ZW50cy5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBleHRyYWN0RXZlbnRzKFxuICB0b3BMZXZlbFR5cGUsXG4gIHRhcmdldEluc3QsXG4gIG5hdGl2ZUV2ZW50LFxuICBuYXRpdmVFdmVudFRhcmdldFxuKSB7XG4gIHZhciBldmVudHMgPSBudWxsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBOb3QgZXZlcnkgcGx1Z2luIGluIHRoZSBvcmRlcmluZyBtYXkgYmUgbG9hZGVkIGF0IHJ1bnRpbWUuXG4gICAgdmFyIHBvc3NpYmxlUGx1Z2luID0gcGx1Z2luc1tpXTtcbiAgICBpZiAocG9zc2libGVQbHVnaW4pIHtcbiAgICAgIHZhciBleHRyYWN0ZWRFdmVudHMgPSBwb3NzaWJsZVBsdWdpbi5leHRyYWN0RXZlbnRzKFxuICAgICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgKTtcbiAgICAgIGlmIChleHRyYWN0ZWRFdmVudHMpIHtcbiAgICAgICAgZXZlbnRzID0gYWNjdW11bGF0ZUludG8oZXZlbnRzLCBleHRyYWN0ZWRFdmVudHMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZXZlbnRzO1xufVxuXG5mdW5jdGlvbiBydW5FdmVudHNJbkJhdGNoKGV2ZW50cywgc2ltdWxhdGVkKSB7XG4gIGlmIChldmVudHMgIT09IG51bGwpIHtcbiAgICBldmVudFF1ZXVlID0gYWNjdW11bGF0ZUludG8oZXZlbnRRdWV1ZSwgZXZlbnRzKTtcbiAgfVxuXG4gIC8vIFNldCBgZXZlbnRRdWV1ZWAgdG8gbnVsbCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBzbyB0aGF0IHdlIGNhbiB0ZWxsIGlmIG1vcmVcbiAgLy8gZXZlbnRzIGdldCBlbnF1ZXVlZCB3aGlsZSBwcm9jZXNzaW5nLlxuICB2YXIgcHJvY2Vzc2luZ0V2ZW50UXVldWUgPSBldmVudFF1ZXVlO1xuICBldmVudFF1ZXVlID0gbnVsbDtcblxuICBpZiAoIXByb2Nlc3NpbmdFdmVudFF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHNpbXVsYXRlZCkge1xuICAgIGZvckVhY2hBY2N1bXVsYXRlZChcbiAgICAgIHByb2Nlc3NpbmdFdmVudFF1ZXVlLFxuICAgICAgZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoQWNjdW11bGF0ZWQoXG4gICAgICBwcm9jZXNzaW5nRXZlbnRRdWV1ZSxcbiAgICAgIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVRvcExldmVsXG4gICAgKTtcbiAgfVxuICBpbnZhcmlhbnQoXG4gICAgIWV2ZW50UXVldWUsXG4gICAgXCJwcm9jZXNzRXZlbnRRdWV1ZSgpOiBBZGRpdGlvbmFsIGV2ZW50cyB3ZXJlIGVucXVldWVkIHdoaWxlIHByb2Nlc3NpbmcgXCIgK1xuICAgICAgXCJhbiBldmVudCBxdWV1ZS4gU3VwcG9ydCBmb3IgdGhpcyBoYXMgbm90IHlldCBiZWVuIGltcGxlbWVudGVkLlwiXG4gICk7XG4gIC8vIFRoaXMgd291bGQgYmUgYSBnb29kIHRpbWUgdG8gcmV0aHJvdyBpZiBhbnkgb2YgdGhlIGV2ZW50IGhhbmRsZXJzIHRocmV3LlxuICBSZWFjdEVycm9yVXRpbHMucmV0aHJvd0NhdWdodEVycm9yKCk7XG59XG5cbmZ1bmN0aW9uIHJ1bkV4dHJhY3RlZEV2ZW50c0luQmF0Y2goXG4gIHRvcExldmVsVHlwZSxcbiAgdGFyZ2V0SW5zdCxcbiAgbmF0aXZlRXZlbnQsXG4gIG5hdGl2ZUV2ZW50VGFyZ2V0XG4pIHtcbiAgdmFyIGV2ZW50cyA9IGV4dHJhY3RFdmVudHMoXG4gICAgdG9wTGV2ZWxUeXBlLFxuICAgIHRhcmdldEluc3QsXG4gICAgbmF0aXZlRXZlbnQsXG4gICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgKTtcbiAgcnVuRXZlbnRzSW5CYXRjaChldmVudHMsIGZhbHNlKTtcbn1cblxudmFyIEluZGV0ZXJtaW5hdGVDb21wb25lbnQgPSAwOyAvLyBCZWZvcmUgd2Uga25vdyB3aGV0aGVyIGl0IGlzIGZ1bmN0aW9uYWwgb3IgY2xhc3NcbnZhciBGdW5jdGlvbmFsQ29tcG9uZW50ID0gMTtcbnZhciBDbGFzc0NvbXBvbmVudCA9IDI7XG52YXIgSG9zdFJvb3QgPSAzOyAvLyBSb290IG9mIGEgaG9zdCB0cmVlLiBDb3VsZCBiZSBuZXN0ZWQgaW5zaWRlIGFub3RoZXIgbm9kZS5cbnZhciBIb3N0UG9ydGFsID0gNDsgLy8gQSBzdWJ0cmVlLiBDb3VsZCBiZSBhbiBlbnRyeSBwb2ludCB0byBhIGRpZmZlcmVudCByZW5kZXJlci5cbnZhciBIb3N0Q29tcG9uZW50ID0gNTtcbnZhciBIb3N0VGV4dCA9IDY7XG52YXIgQ2FsbENvbXBvbmVudCA9IDc7XG52YXIgQ2FsbEhhbmRsZXJQaGFzZSA9IDg7XG52YXIgUmV0dXJuQ29tcG9uZW50ID0gOTtcbnZhciBGcmFnbWVudCA9IDEwO1xudmFyIE1vZGUgPSAxMTtcbnZhciBDb250ZXh0Q29uc3VtZXIgPSAxMjtcbnZhciBDb250ZXh0UHJvdmlkZXIgPSAxMztcbnZhciBGb3J3YXJkUmVmID0gMTQ7XG5cbmZ1bmN0aW9uIGdldFBhcmVudChpbnN0KSB7XG4gIGRvIHtcbiAgICBpbnN0ID0gaW5zdFtcInJldHVyblwiXTtcbiAgICAvLyBUT0RPOiBJZiB0aGlzIGlzIGEgSG9zdFJvb3Qgd2UgbWlnaHQgd2FudCB0byBiYWlsIG91dC5cbiAgICAvLyBUaGF0IGlzIGRlcGVuZGluZyBvbiBpZiB3ZSB3YW50IG5lc3RlZCBzdWJ0cmVlcyAobGF5ZXJzKSB0byBidWJibGVcbiAgICAvLyBldmVudHMgdG8gdGhlaXIgcGFyZW50LiBXZSBjb3VsZCBhbHNvIGdvIHRocm91Z2ggcGFyZW50Tm9kZSBvbiB0aGVcbiAgICAvLyBob3N0IG5vZGUgYnV0IHRoYXQgd291bGRuJ3Qgd29yayBmb3IgUmVhY3QgTmF0aXZlIGFuZCBkb2Vzbid0IGxldCB1c1xuICAgIC8vIGRvIHRoZSBwb3J0YWwgZmVhdHVyZS5cbiAgfSB3aGlsZSAoaW5zdCAmJiBpbnN0LnRhZyAhPT0gSG9zdENvbXBvbmVudCk7XG4gIGlmIChpbnN0KSB7XG4gICAgcmV0dXJuIGluc3Q7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsb3dlc3QgY29tbW9uIGFuY2VzdG9yIG9mIEEgYW5kIEIsIG9yIG51bGwgaWYgdGhleSBhcmUgaW5cbiAqIGRpZmZlcmVudCB0cmVlcy5cbiAqL1xuZnVuY3Rpb24gZ2V0TG93ZXN0Q29tbW9uQW5jZXN0b3IoaW5zdEEsIGluc3RCKSB7XG4gIHZhciBkZXB0aEEgPSAwO1xuICBmb3IgKHZhciB0ZW1wQSA9IGluc3RBOyB0ZW1wQTsgdGVtcEEgPSBnZXRQYXJlbnQodGVtcEEpKSB7XG4gICAgZGVwdGhBKys7XG4gIH1cbiAgdmFyIGRlcHRoQiA9IDA7XG4gIGZvciAodmFyIHRlbXBCID0gaW5zdEI7IHRlbXBCOyB0ZW1wQiA9IGdldFBhcmVudCh0ZW1wQikpIHtcbiAgICBkZXB0aEIrKztcbiAgfVxuXG4gIC8vIElmIEEgaXMgZGVlcGVyLCBjcmF3bCB1cC5cbiAgd2hpbGUgKGRlcHRoQSAtIGRlcHRoQiA+IDApIHtcbiAgICBpbnN0QSA9IGdldFBhcmVudChpbnN0QSk7XG4gICAgZGVwdGhBLS07XG4gIH1cblxuICAvLyBJZiBCIGlzIGRlZXBlciwgY3Jhd2wgdXAuXG4gIHdoaWxlIChkZXB0aEIgLSBkZXB0aEEgPiAwKSB7XG4gICAgaW5zdEIgPSBnZXRQYXJlbnQoaW5zdEIpO1xuICAgIGRlcHRoQi0tO1xuICB9XG5cbiAgLy8gV2FsayBpbiBsb2Nrc3RlcCB1bnRpbCB3ZSBmaW5kIGEgbWF0Y2guXG4gIHZhciBkZXB0aCA9IGRlcHRoQTtcbiAgd2hpbGUgKGRlcHRoLS0pIHtcbiAgICBpZiAoaW5zdEEgPT09IGluc3RCIHx8IGluc3RBID09PSBpbnN0Qi5hbHRlcm5hdGUpIHtcbiAgICAgIHJldHVybiBpbnN0QTtcbiAgICB9XG4gICAgaW5zdEEgPSBnZXRQYXJlbnQoaW5zdEEpO1xuICAgIGluc3RCID0gZ2V0UGFyZW50KGluc3RCKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gaWYgQSBpcyBhbiBhbmNlc3RvciBvZiBCLlxuICovXG5mdW5jdGlvbiBpc0FuY2VzdG9yKGluc3RBLCBpbnN0Qikge1xuICB3aGlsZSAoaW5zdEIpIHtcbiAgICBpZiAoaW5zdEEgPT09IGluc3RCIHx8IGluc3RBID09PSBpbnN0Qi5hbHRlcm5hdGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpbnN0QiA9IGdldFBhcmVudChpbnN0Qik7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgcGFyZW50IGluc3RhbmNlIG9mIHRoZSBwYXNzZWQtaW4gaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluc3RhbmNlKGluc3QpIHtcbiAgcmV0dXJuIGdldFBhcmVudChpbnN0KTtcbn1cblxuLyoqXG4gKiBTaW11bGF0ZXMgdGhlIHRyYXZlcnNhbCBvZiBhIHR3by1waGFzZSwgY2FwdHVyZS9idWJibGUgZXZlbnQgZGlzcGF0Y2guXG4gKi9cbmZ1bmN0aW9uIHRyYXZlcnNlVHdvUGhhc2UoaW5zdCwgZm4sIGFyZykge1xuICB2YXIgcGF0aCA9IFtdO1xuICB3aGlsZSAoaW5zdCkge1xuICAgIHBhdGgucHVzaChpbnN0KTtcbiAgICBpbnN0ID0gZ2V0UGFyZW50KGluc3QpO1xuICB9XG4gIHZhciBpID0gdm9pZCAwO1xuICBmb3IgKGkgPSBwYXRoLmxlbmd0aDsgaS0tID4gMDsgKSB7XG4gICAgZm4ocGF0aFtpXSwgXCJjYXB0dXJlZFwiLCBhcmcpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgZm4ocGF0aFtpXSwgXCJidWJibGVkXCIsIGFyZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmF2ZXJzZXMgdGhlIElEIGhpZXJhcmNoeSBhbmQgaW52b2tlcyB0aGUgc3VwcGxpZWQgYGNiYCBvbiBhbnkgSURzIHRoYXRcbiAqIHNob3VsZCB3b3VsZCByZWNlaXZlIGEgYG1vdXNlRW50ZXJgIG9yIGBtb3VzZUxlYXZlYCBldmVudC5cbiAqXG4gKiBEb2VzIG5vdCBpbnZva2UgdGhlIGNhbGxiYWNrIG9uIHRoZSBuZWFyZXN0IGNvbW1vbiBhbmNlc3RvciBiZWNhdXNlIG5vdGhpbmdcbiAqIFwiZW50ZXJlZFwiIG9yIFwibGVmdFwiIHRoYXQgZWxlbWVudC5cbiAqL1xuXG4vKipcbiAqIFNvbWUgZXZlbnQgdHlwZXMgaGF2ZSBhIG5vdGlvbiBvZiBkaWZmZXJlbnQgcmVnaXN0cmF0aW9uIG5hbWVzIGZvciBkaWZmZXJlbnRcbiAqIFwicGhhc2VzXCIgb2YgcHJvcGFnYXRpb24uIFRoaXMgZmluZHMgbGlzdGVuZXJzIGJ5IGEgZ2l2ZW4gcGhhc2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcHJvcGFnYXRpb25QaGFzZSkge1xuICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9XG4gICAgZXZlbnQuZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcHJvcGFnYXRpb25QaGFzZV07XG4gIHJldHVybiBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbn1cblxuLyoqXG4gKiBBIHNtYWxsIHNldCBvZiBwcm9wYWdhdGlvbiBwYXR0ZXJucywgZWFjaCBvZiB3aGljaCB3aWxsIGFjY2VwdCBhIHNtYWxsIGFtb3VudFxuICogb2YgaW5mb3JtYXRpb24sIGFuZCBnZW5lcmF0ZSBhIHNldCBvZiBcImRpc3BhdGNoIHJlYWR5IGV2ZW50IG9iamVjdHNcIiAtIHdoaWNoXG4gKiBhcmUgc2V0cyBvZiBldmVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhbm5vdGF0ZWQgd2l0aCBhIHNldCBvZiBkaXNwYXRjaGVkXG4gKiBsaXN0ZW5lciBmdW5jdGlvbnMvaWRzLiBUaGUgQVBJIGlzIGRlc2lnbmVkIHRoaXMgd2F5IHRvIGRpc2NvdXJhZ2UgdGhlc2VcbiAqIHByb3BhZ2F0aW9uIHN0cmF0ZWdpZXMgZnJvbSBhY3R1YWxseSBleGVjdXRpbmcgdGhlIGRpc3BhdGNoZXMsIHNpbmNlIHdlXG4gKiBhbHdheXMgd2FudCB0byBjb2xsZWN0IHRoZSBlbnRpcmUgc2V0IG9mIGRpc3BhdGNoZXMgYmVmb3JlIGV4ZWN1dGluZyBldmVuIGFcbiAqIHNpbmdsZSBvbmUuXG4gKi9cblxuLyoqXG4gKiBUYWdzIGEgYFN5bnRoZXRpY0V2ZW50YCB3aXRoIGRpc3BhdGNoZWQgbGlzdGVuZXJzLiBDcmVhdGluZyB0aGlzIGZ1bmN0aW9uXG4gKiBoZXJlLCBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gYmluZCBvciBjcmVhdGUgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50LlxuICogTXV0YXRpbmcgdGhlIGV2ZW50J3MgbWVtYmVycyBhbGxvd3MgdXMgdG8gbm90IGhhdmUgdG8gY3JlYXRlIGEgd3JhcHBpbmdcbiAqIFwiZGlzcGF0Y2hcIiBvYmplY3QgdGhhdCBwYWlycyB0aGUgZXZlbnQgd2l0aCB0aGUgbGlzdGVuZXIuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMoaW5zdCwgcGhhc2UsIGV2ZW50KSB7XG4gIHtcbiAgICAhaW5zdCA/IHdhcm5pbmcoZmFsc2UsIFwiRGlzcGF0Y2hpbmcgaW5zdCBtdXN0IG5vdCBiZSBudWxsXCIpIDogdm9pZCAwO1xuICB9XG4gIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyQXRQaGFzZShpbnN0LCBldmVudCwgcGhhc2UpO1xuICBpZiAobGlzdGVuZXIpIHtcbiAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBhY2N1bXVsYXRlSW50byhcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyxcbiAgICAgIGxpc3RlbmVyXG4gICAgKTtcbiAgICBldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJbnN0YW5jZXMsIGluc3QpO1xuICB9XG59XG5cbi8qKlxuICogQ29sbGVjdCBkaXNwYXRjaGVzIChtdXN0IGJlIGVudGlyZWx5IGNvbGxlY3RlZCBiZWZvcmUgZGlzcGF0Y2hpbmcgLSBzZWUgdW5pdFxuICogdGVzdHMpLiBMYXppbHkgYWxsb2NhdGUgdGhlIGFycmF5IHRvIGNvbnNlcnZlIG1lbW9yeS4gIFdlIG11c3QgbG9vcCB0aHJvdWdoXG4gKiBlYWNoIGV2ZW50IGFuZCBwZXJmb3JtIHRoZSB0cmF2ZXJzYWwgZm9yIGVhY2ggb25lLiBXZSBjYW5ub3QgcGVyZm9ybSBhXG4gKiBzaW5nbGUgdHJhdmVyc2FsIGZvciB0aGUgZW50aXJlIGNvbGxlY3Rpb24gb2YgZXZlbnRzIGJlY2F1c2UgZWFjaCBldmVudCBtYXlcbiAqIGhhdmUgYSBkaWZmZXJlbnQgdGFyZ2V0LlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgIHRyYXZlcnNlVHdvUGhhc2UoZXZlbnQuX3RhcmdldEluc3QsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIFNhbWUgYXMgYGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVgLCBidXQgc2tpcHMgb3ZlciB0aGUgdGFyZ2V0SUQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0KGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgIHZhciB0YXJnZXRJbnN0ID0gZXZlbnQuX3RhcmdldEluc3Q7XG4gICAgdmFyIHBhcmVudEluc3QgPSB0YXJnZXRJbnN0ID8gZ2V0UGFyZW50SW5zdGFuY2UodGFyZ2V0SW5zdCkgOiBudWxsO1xuICAgIHRyYXZlcnNlVHdvUGhhc2UocGFyZW50SW5zdCwgYWNjdW11bGF0ZURpcmVjdGlvbmFsRGlzcGF0Y2hlcywgZXZlbnQpO1xuICB9XG59XG5cbi8qKlxuICogQWNjdW11bGF0ZXMgd2l0aG91dCByZWdhcmQgdG8gZGlyZWN0aW9uLCBkb2VzIG5vdCBsb29rIGZvciBwaGFzZWRcbiAqIHJlZ2lzdHJhdGlvbiBuYW1lcy4gU2FtZSBhcyBgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGVgIGJ1dCB3aXRob3V0XG4gKiByZXF1aXJpbmcgdGhhdCB0aGUgYGRpc3BhdGNoTWFya2VyYCBiZSB0aGUgc2FtZSBhcyB0aGUgZGlzcGF0Y2hlZCBJRC5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZURpc3BhdGNoZXMoaW5zdCwgaWdub3JlZERpcmVjdGlvbiwgZXZlbnQpIHtcbiAgaWYgKGluc3QgJiYgZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZTtcbiAgICB2YXIgbGlzdGVuZXIgPSBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKTtcbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKFxuICAgICAgICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMsXG4gICAgICAgIGxpc3RlbmVyXG4gICAgICApO1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoSW5zdGFuY2VzLCBpbnN0KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyBkaXNwYXRjaGVzIG9uIGFuIGBTeW50aGV0aWNFdmVudGAsIGJ1dCBvbmx5IGZvciB0aGVcbiAqIGBkaXNwYXRjaE1hcmtlcmAuXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudFxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGV2ZW50Ll90YXJnZXRJbnN0LCBudWxsLCBldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZSk7XG59XG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0KGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZSk7XG59XG5cbi8qIGVzbGludCB2YWxpZC10eXBlb2Y6IDAgKi9cblxudmFyIGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5ID0gZmFsc2U7XG52YXIgRVZFTlRfUE9PTF9TSVpFID0gMTA7XG5cbnZhciBzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcyA9IFtcbiAgXCJkaXNwYXRjaENvbmZpZ1wiLFxuICBcIl90YXJnZXRJbnN0XCIsXG4gIFwibmF0aXZlRXZlbnRcIixcbiAgXCJpc0RlZmF1bHRQcmV2ZW50ZWRcIixcbiAgXCJpc1Byb3BhZ2F0aW9uU3RvcHBlZFwiLFxuICBcIl9kaXNwYXRjaExpc3RlbmVyc1wiLFxuICBcIl9kaXNwYXRjaEluc3RhbmNlc1wiXG5dO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHR5cGU6IG51bGwsXG4gIHRhcmdldDogbnVsbCxcbiAgLy8gY3VycmVudFRhcmdldCBpcyBzZXQgd2hlbiBkaXNwYXRjaGluZzsgbm8gdXNlIGluIGNvcHlpbmcgaXQgaGVyZVxuICBjdXJyZW50VGFyZ2V0OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCxcbiAgZXZlbnRQaGFzZTogbnVsbCxcbiAgYnViYmxlczogbnVsbCxcbiAgY2FuY2VsYWJsZTogbnVsbCxcbiAgdGltZVN0YW1wOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgfSxcbiAgZGVmYXVsdFByZXZlbnRlZDogbnVsbCxcbiAgaXNUcnVzdGVkOiBudWxsXG59O1xuXG4vKipcbiAqIFN5bnRoZXRpYyBldmVudHMgYXJlIGRpc3BhdGNoZWQgYnkgZXZlbnQgcGx1Z2lucywgdHlwaWNhbGx5IGluIHJlc3BvbnNlIHRvIGFcbiAqIHRvcC1sZXZlbCBldmVudCBkZWxlZ2F0aW9uIGhhbmRsZXIuXG4gKlxuICogVGhlc2Ugc3lzdGVtcyBzaG91bGQgZ2VuZXJhbGx5IHVzZSBwb29saW5nIHRvIHJlZHVjZSB0aGUgZnJlcXVlbmN5IG9mIGdhcmJhZ2VcbiAqIGNvbGxlY3Rpb24uIFRoZSBzeXN0ZW0gc2hvdWxkIGNoZWNrIGBpc1BlcnNpc3RlbnRgIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZVxuICogZXZlbnQgc2hvdWxkIGJlIHJlbGVhc2VkIGludG8gdGhlIHBvb2wgYWZ0ZXIgYmVpbmcgZGlzcGF0Y2hlZC4gVXNlcnMgdGhhdFxuICogbmVlZCBhIHBlcnNpc3RlZCBldmVudCBzaG91bGQgaW52b2tlIGBwZXJzaXN0YC5cbiAqXG4gKiBTeW50aGV0aWMgZXZlbnRzIChhbmQgc3ViY2xhc3NlcykgaW1wbGVtZW50IHRoZSBET00gTGV2ZWwgMyBFdmVudHMgQVBJIGJ5XG4gKiBub3JtYWxpemluZyBicm93c2VyIHF1aXJrcy4gU3ViY2xhc3NlcyBkbyBub3QgbmVjZXNzYXJpbHkgaGF2ZSB0byBpbXBsZW1lbnQgYVxuICogRE9NIGludGVyZmFjZTsgY3VzdG9tIGFwcGxpY2F0aW9uLXNwZWNpZmljIGV2ZW50cyBjYW4gYWxzbyBzdWJjbGFzcyB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0SW5zdCBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IG5hdGl2ZUV2ZW50VGFyZ2V0IFRhcmdldCBub2RlLlxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNFdmVudChcbiAgZGlzcGF0Y2hDb25maWcsXG4gIHRhcmdldEluc3QsXG4gIG5hdGl2ZUV2ZW50LFxuICBuYXRpdmVFdmVudFRhcmdldFxuKSB7XG4gIHtcbiAgICAvLyB0aGVzZSBoYXZlIGEgZ2V0dGVyL3NldHRlciBmb3Igd2FybmluZ3NcbiAgICBkZWxldGUgdGhpcy5uYXRpdmVFdmVudDtcbiAgICBkZWxldGUgdGhpcy5wcmV2ZW50RGVmYXVsdDtcbiAgICBkZWxldGUgdGhpcy5zdG9wUHJvcGFnYXRpb247XG4gIH1cblxuICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gZGlzcGF0Y2hDb25maWc7XG4gIHRoaXMuX3RhcmdldEluc3QgPSB0YXJnZXRJbnN0O1xuICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG5cbiAgdmFyIEludGVyZmFjZSA9IHRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlO1xuICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICBpZiAoIUludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB7XG4gICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07IC8vIHRoaXMgaGFzIGEgZ2V0dGVyL3NldHRlciBmb3Igd2FybmluZ3NcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBub3JtYWxpemUobmF0aXZlRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcE5hbWUgPT09IFwidGFyZ2V0XCIpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbmF0aXZlRXZlbnRbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBkZWZhdWx0UHJldmVudGVkID1cbiAgICBuYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkICE9IG51bGxcbiAgICAgID8gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgICAgOiBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZSA9PT0gZmFsc2U7XG4gIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbiAgfVxuICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlO1xuICByZXR1cm4gdGhpcztcbn1cblxuT2JqZWN0LmFzc2lnbihTeW50aGV0aWNFdmVudC5wcm90b3R5cGUsIHtcbiAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV2ZW50LnJldHVyblZhbHVlICE9PSBcInVua25vd25cIikge1xuICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSxcblxuICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV2ZW50LmNhbmNlbEJ1YmJsZSAhPT0gXCJ1bmtub3duXCIpIHtcbiAgICAgIC8vIFRoZSBDaGFuZ2VFdmVudFBsdWdpbiByZWdpc3RlcnMgYSBcInByb3BlcnR5Y2hhbmdlXCIgZXZlbnQgZm9yXG4gICAgICAvLyBJRS4gVGhpcyBldmVudCBkb2VzIG5vdCBzdXBwb3J0IGJ1YmJsaW5nIG9yIGNhbmNlbGxpbmcsIGFuZFxuICAgICAgLy8gYW55IHJlZmVyZW5jZXMgdG8gY2FuY2VsQnViYmxlIHRocm93IFwiTWVtYmVyIG5vdCBmb3VuZFwiLiAgQVxuICAgICAgLy8gdHlwZW9mIGNoZWNrIG9mIFwidW5rbm93blwiIGNpcmN1bXZlbnRzIHRoaXMgaXNzdWUgKGFuZCBpcyBhbHNvXG4gICAgICAvLyBJRSBzcGVjaWZpYykuXG4gICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogV2UgcmVsZWFzZSBhbGwgZGlzcGF0Y2hlZCBgU3ludGhldGljRXZlbnRgcyBhZnRlciBlYWNoIGV2ZW50IGxvb3AsIGFkZGluZ1xuICAgKiB0aGVtIGJhY2sgaW50byB0aGUgcG9vbC4gVGhpcyBhbGxvd3MgYSB3YXkgdG8gaG9sZCBvbnRvIGEgcmVmZXJlbmNlIHRoYXRcbiAgICogd29uJ3QgYmUgYWRkZWQgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKi9cbiAgcGVyc2lzdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc1BlcnNpc3RlbnQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoaXMgZXZlbnQgc2hvdWxkIGJlIHJlbGVhc2VkIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIHNob3VsZCBub3QgYmUgcmVsZWFzZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICovXG4gIGlzUGVyc2lzdGVudDogZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlLFxuXG4gIC8qKlxuICAgKiBgUG9vbGVkQ2xhc3NgIGxvb2tzIGZvciBgZGVzdHJ1Y3RvcmAgb24gZWFjaCBpbnN0YW5jZSBpdCByZWxlYXNlcy5cbiAgICovXG4gIGRlc3RydWN0b3I6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICAgIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihwcm9wTmFtZSwgSW50ZXJmYWNlW3Byb3BOYW1lXSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpc1tzaG91bGRCZVJlbGVhc2VkUHJvcGVydGllc1tpXV0gPSBudWxsO1xuICAgIH1cbiAgICB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwibmF0aXZlRXZlbnRcIixcbiAgICAgICAgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihcIm5hdGl2ZUV2ZW50XCIsIG51bGwpXG4gICAgICApO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBcInByZXZlbnREZWZhdWx0XCIsXG4gICAgICAgIGdldFBvb2xlZFdhcm5pbmdQcm9wZXJ0eURlZmluaXRpb24oXCJwcmV2ZW50RGVmYXVsdFwiLCBlbXB0eUZ1bmN0aW9uKVxuICAgICAgKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJzdG9wUHJvcGFnYXRpb25cIixcbiAgICAgICAgZ2V0UG9vbGVkV2FybmluZ1Byb3BlcnR5RGVmaW5pdGlvbihcInN0b3BQcm9wYWdhdGlvblwiLCBlbXB0eUZ1bmN0aW9uKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5TeW50aGV0aWNFdmVudC5JbnRlcmZhY2UgPSBFdmVudEludGVyZmFjZTtcblxuLyoqXG4gKiBIZWxwZXIgdG8gcmVkdWNlIGJvaWxlcnBsYXRlIHdoZW4gY3JlYXRpbmcgc3ViY2xhc3Nlcy5cbiAqL1xuU3ludGhldGljRXZlbnQuZXh0ZW5kID0gZnVuY3Rpb24oSW50ZXJmYWNlKSB7XG4gIHZhciBTdXBlciA9IHRoaXM7XG5cbiAgdmFyIEUgPSBmdW5jdGlvbigpIHt9O1xuICBFLnByb3RvdHlwZSA9IFN1cGVyLnByb3RvdHlwZTtcbiAgdmFyIHByb3RvdHlwZSA9IG5ldyBFKCk7XG5cbiAgZnVuY3Rpb24gQ2xhc3MoKSB7XG4gICAgcmV0dXJuIFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihwcm90b3R5cGUsIENsYXNzLnByb3RvdHlwZSk7XG4gIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2xhc3M7XG5cbiAgQ2xhc3MuSW50ZXJmYWNlID0gT2JqZWN0LmFzc2lnbih7fSwgU3VwZXIuSW50ZXJmYWNlLCBJbnRlcmZhY2UpO1xuICBDbGFzcy5leHRlbmQgPSBTdXBlci5leHRlbmQ7XG4gIGFkZEV2ZW50UG9vbGluZ1RvKENsYXNzKTtcblxuICByZXR1cm4gQ2xhc3M7XG59O1xuXG4vKiogUHJveHlpbmcgYWZ0ZXIgZXZlcnl0aGluZyBzZXQgb24gU3ludGhldGljRXZlbnRcbiAqIHRvIHJlc29sdmUgUHJveHkgaXNzdWUgb24gc29tZSBXZWJLaXQgYnJvd3NlcnNcbiAqIGluIHdoaWNoIHNvbWUgRXZlbnQgcHJvcGVydGllcyBhcmUgc2V0IHRvIHVuZGVmaW5lZCAoR0gjMTAwMTApXG4gKi9cbntcbiAgdmFyIGlzUHJveHlTdXBwb3J0ZWQgPVxuICAgIHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMjAxMVxuICAgICFPYmplY3QuaXNTZWFsZWQobmV3IFByb3h5KHt9LCB7fSkpO1xuXG4gIGlmIChpc1Byb3h5U3VwcG9ydGVkKSB7XG4gICAgLyplc2xpbnQtZGlzYWJsZSBuby1mdW5jLWFzc2lnbiAqL1xuICAgIFN5bnRoZXRpY0V2ZW50ID0gbmV3IFByb3h5KFN5bnRoZXRpY0V2ZW50LCB7XG4gICAgICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uKHRhcmdldCwgYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseSh0YXJnZXQsIE9iamVjdC5jcmVhdGUodGFyZ2V0LnByb3RvdHlwZSksIGFyZ3MpO1xuICAgICAgfSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbihjb25zdHJ1Y3RvciwgdGhhdCwgYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KGNvbnN0cnVjdG9yLmFwcGx5KHRoYXQsIGFyZ3MpLCB7XG4gICAgICAgICAgc2V0OiBmdW5jdGlvbih0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3AgIT09IFwiaXNQZXJzaXN0ZW50XCIgJiZcbiAgICAgICAgICAgICAgIXRhcmdldC5jb25zdHJ1Y3Rvci5JbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcCkgJiZcbiAgICAgICAgICAgICAgc2hvdWxkQmVSZWxlYXNlZFByb3BlcnRpZXMuaW5kZXhPZihwcm9wKSA9PT0gLTFcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAhKGRpZFdhcm5Gb3JBZGRlZE5ld1Byb3BlcnR5IHx8IHRhcmdldC5pc1BlcnNpc3RlbnQoKSlcbiAgICAgICAgICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgc3ludGhldGljIGV2ZW50IGlzIHJldXNlZCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4gSWYgeW91J3JlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICBcInNlZWluZyB0aGlzLCB5b3UncmUgYWRkaW5nIGEgbmV3IHByb3BlcnR5IGluIHRoZSBzeW50aGV0aWMgZXZlbnQgb2JqZWN0LiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgXCJUaGUgcHJvcGVydHkgaXMgbmV2ZXIgcmVsZWFzZWQuIFNlZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgXCJodHRwczovL2ZiLm1lL3JlYWN0LWV2ZW50LXBvb2xpbmcgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgZGlkV2FybkZvckFkZGVkTmV3UHJvcGVydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8qZXNsaW50LWVuYWJsZSBuby1mdW5jLWFzc2lnbiAqL1xuICB9XG59XG5cbmFkZEV2ZW50UG9vbGluZ1RvKFN5bnRoZXRpY0V2ZW50KTtcblxuLyoqXG4gKiBIZWxwZXIgdG8gbnVsbGlmeSBzeW50aGV0aWNFdmVudCBpbnN0YW5jZSBwcm9wZXJ0aWVzIHdoZW4gZGVzdHJ1Y3RpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcE5hbWVcbiAqIEBwYXJhbSB7P29iamVjdH0gZ2V0VmFsXG4gKiBAcmV0dXJuIHtvYmplY3R9IGRlZmluZVByb3BlcnR5IG9iamVjdFxuICovXG5mdW5jdGlvbiBnZXRQb29sZWRXYXJuaW5nUHJvcGVydHlEZWZpbml0aW9uKHByb3BOYW1lLCBnZXRWYWwpIHtcbiAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgZ2V0VmFsID09PSBcImZ1bmN0aW9uXCI7XG4gIHJldHVybiB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHNldDogc2V0LFxuICAgIGdldDogZ2V0XG4gIH07XG5cbiAgZnVuY3Rpb24gc2V0KHZhbCkge1xuICAgIHZhciBhY3Rpb24gPSBpc0Z1bmN0aW9uID8gXCJzZXR0aW5nIHRoZSBtZXRob2RcIiA6IFwic2V0dGluZyB0aGUgcHJvcGVydHlcIjtcbiAgICB3YXJuKGFjdGlvbiwgXCJUaGlzIGlzIGVmZmVjdGl2ZWx5IGEgbm8tb3BcIik7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldCgpIHtcbiAgICB2YXIgYWN0aW9uID0gaXNGdW5jdGlvbiA/IFwiYWNjZXNzaW5nIHRoZSBtZXRob2RcIiA6IFwiYWNjZXNzaW5nIHRoZSBwcm9wZXJ0eVwiO1xuICAgIHZhciByZXN1bHQgPSBpc0Z1bmN0aW9uXG4gICAgICA/IFwiVGhpcyBpcyBhIG5vLW9wIGZ1bmN0aW9uXCJcbiAgICAgIDogXCJUaGlzIGlzIHNldCB0byBudWxsXCI7XG4gICAgd2FybihhY3Rpb24sIHJlc3VsdCk7XG4gICAgcmV0dXJuIGdldFZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdhcm4oYWN0aW9uLCByZXN1bHQpIHtcbiAgICB2YXIgd2FybmluZ0NvbmRpdGlvbiA9IGZhbHNlO1xuICAgICF3YXJuaW5nQ29uZGl0aW9uXG4gICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJUaGlzIHN5bnRoZXRpYyBldmVudCBpcyByZXVzZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuIElmIHlvdSdyZSBzZWVpbmcgdGhpcywgXCIgK1xuICAgICAgICAgICAgXCJ5b3UncmUgJXMgYCVzYCBvbiBhIHJlbGVhc2VkL251bGxpZmllZCBzeW50aGV0aWMgZXZlbnQuICVzLiBcIiArXG4gICAgICAgICAgICBcIklmIHlvdSBtdXN0IGtlZXAgdGhlIG9yaWdpbmFsIHN5bnRoZXRpYyBldmVudCBhcm91bmQsIHVzZSBldmVudC5wZXJzaXN0KCkuIFwiICtcbiAgICAgICAgICAgIFwiU2VlIGh0dHBzOi8vZmIubWUvcmVhY3QtZXZlbnQtcG9vbGluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIixcbiAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgcmVzdWx0XG4gICAgICAgIClcbiAgICAgIDogdm9pZCAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFBvb2xlZEV2ZW50KGRpc3BhdGNoQ29uZmlnLCB0YXJnZXRJbnN0LCBuYXRpdmVFdmVudCwgbmF0aXZlSW5zdCkge1xuICB2YXIgRXZlbnRDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIGlmIChFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbC5sZW5ndGgpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBFdmVudENvbnN0cnVjdG9yLmV2ZW50UG9vbC5wb3AoKTtcbiAgICBFdmVudENvbnN0cnVjdG9yLmNhbGwoXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIGRpc3BhdGNoQ29uZmlnLFxuICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlSW5zdFxuICAgICk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIHJldHVybiBuZXcgRXZlbnRDb25zdHJ1Y3RvcihcbiAgICBkaXNwYXRjaENvbmZpZyxcbiAgICB0YXJnZXRJbnN0LFxuICAgIG5hdGl2ZUV2ZW50LFxuICAgIG5hdGl2ZUluc3RcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmVsZWFzZVBvb2xlZEV2ZW50KGV2ZW50KSB7XG4gIHZhciBFdmVudENvbnN0cnVjdG9yID0gdGhpcztcbiAgaW52YXJpYW50KFxuICAgIGV2ZW50IGluc3RhbmNlb2YgRXZlbnRDb25zdHJ1Y3RvcixcbiAgICBcIlRyeWluZyB0byByZWxlYXNlIGFuIGV2ZW50IGluc3RhbmNlICBpbnRvIGEgcG9vbCBvZiBhIGRpZmZlcmVudCB0eXBlLlwiXG4gICk7XG4gIGV2ZW50LmRlc3RydWN0b3IoKTtcbiAgaWYgKEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLmxlbmd0aCA8IEVWRU5UX1BPT0xfU0laRSkge1xuICAgIEV2ZW50Q29uc3RydWN0b3IuZXZlbnRQb29sLnB1c2goZXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50UG9vbGluZ1RvKEV2ZW50Q29uc3RydWN0b3IpIHtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5ldmVudFBvb2wgPSBbXTtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQgPSBnZXRQb29sZWRFdmVudDtcbiAgRXZlbnRDb25zdHJ1Y3Rvci5yZWxlYXNlID0gcmVsZWFzZVBvb2xlZEV2ZW50O1xufVxuXG52YXIgU3ludGhldGljRXZlbnQkMSA9IFN5bnRoZXRpY0V2ZW50O1xuXG4vKipcbiAqIGB0b3VjaEhpc3RvcnlgIGlzbid0IGFjdHVhbGx5IG9uIHRoZSBuYXRpdmUgZXZlbnQsIGJ1dCBwdXR0aW5nIGl0IGluIHRoZVxuICogaW50ZXJmYWNlIHdpbGwgZW5zdXJlIHRoYXQgaXQgaXMgY2xlYW5lZCB1cCB3aGVuIHBvb2xlZC9kZXN0cm95ZWQuIFRoZVxuICogYFJlc3BvbmRlckV2ZW50UGx1Z2luYCB3aWxsIHBvcHVsYXRlIGl0IGFwcHJvcHJpYXRlbHkuXG4gKi9cbnZhciBSZXNwb25kZXJTeW50aGV0aWNFdmVudCA9IFN5bnRoZXRpY0V2ZW50JDEuZXh0ZW5kKHtcbiAgdG91Y2hIaXN0b3J5OiBmdW5jdGlvbihuYXRpdmVFdmVudCkge1xuICAgIHJldHVybiBudWxsOyAvLyBBY3R1YWxseSBkb2Vzbid0IGV2ZW4gbG9vayBhdCB0aGUgbmF0aXZlIGV2ZW50LlxuICB9XG59KTtcblxuLyoqXG4gKiBUcmFja3MgdGhlIHBvc2l0aW9uIGFuZCB0aW1lIG9mIGVhY2ggYWN0aXZlIHRvdWNoIGJ5IGB0b3VjaC5pZGVudGlmaWVyYC4gV2VcbiAqIHNob3VsZCB0eXBpY2FsbHkgb25seSBzZWUgSURzIGluIHRoZSByYW5nZSBvZiAxLTIwIGJlY2F1c2UgSURzIGdldCByZWN5Y2xlZFxuICogd2hlbiB0b3VjaGVzIGVuZCBhbmQgc3RhcnQgYWdhaW4uXG4gKi9cblxudmFyIE1BWF9UT1VDSF9CQU5LID0gMjA7XG52YXIgdG91Y2hCYW5rID0gW107XG52YXIgdG91Y2hIaXN0b3J5ID0ge1xuICB0b3VjaEJhbms6IHRvdWNoQmFuayxcbiAgbnVtYmVyQWN0aXZlVG91Y2hlczogMCxcbiAgLy8gSWYgdGhlcmUgaXMgb25seSBvbmUgYWN0aXZlIHRvdWNoLCB3ZSByZW1lbWJlciBpdHMgbG9jYXRpb24uIFRoaXMgcHJldmVudHNcbiAgLy8gdXMgaGF2aW5nIHRvIGxvb3AgdGhyb3VnaCBhbGwgb2YgdGhlIHRvdWNoZXMgYWxsIHRoZSB0aW1lIGluIHRoZSBtb3N0XG4gIC8vIGNvbW1vbiBjYXNlLlxuICBpbmRleE9mU2luZ2xlQWN0aXZlVG91Y2g6IC0xLFxuICBtb3N0UmVjZW50VGltZVN0YW1wOiAwXG59O1xuXG5mdW5jdGlvbiB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCkge1xuICAvLyBUaGUgbGVnYWN5IGludGVybmFsIGltcGxlbWVudGF0aW9uIHByb3ZpZGVzIFwidGltZVN0YW1wXCIsIHdoaWNoIGhhcyBiZWVuXG4gIC8vIHJlbmFtZWQgdG8gXCJ0aW1lc3RhbXBcIi4gTGV0IGJvdGggd29yayBmb3Igbm93IHdoaWxlIHdlIGlyb24gaXQgb3V0XG4gIC8vIFRPRE8gKGV2dik6IHJlbmFtZSB0aW1lU3RhbXAgdG8gdGltZXN0YW1wIGluIGludGVybmFsIGNvZGVcbiAgcmV0dXJuIHRvdWNoLnRpbWVTdGFtcCB8fCB0b3VjaC50aW1lc3RhbXA7XG59XG5cbi8qKlxuICogVE9ETzogSW5zdGVhZCBvZiBtYWtpbmcgZ2VzdHVyZXMgcmVjb21wdXRlIGZpbHRlcmVkIHZlbG9jaXR5LCB3ZSBjb3VsZFxuICogaW5jbHVkZSBhIGJ1aWx0IGluIHZlbG9jaXR5IGNvbXB1dGF0aW9uIHRoYXQgY2FuIGJlIHJldXNlZCBnbG9iYWxseS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVG91Y2hSZWNvcmQodG91Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3VjaEFjdGl2ZTogdHJ1ZSxcbiAgICBzdGFydFBhZ2VYOiB0b3VjaC5wYWdlWCxcbiAgICBzdGFydFBhZ2VZOiB0b3VjaC5wYWdlWSxcbiAgICBzdGFydFRpbWVTdGFtcDogdGltZXN0YW1wRm9yVG91Y2godG91Y2gpLFxuICAgIGN1cnJlbnRQYWdlWDogdG91Y2gucGFnZVgsXG4gICAgY3VycmVudFBhZ2VZOiB0b3VjaC5wYWdlWSxcbiAgICBjdXJyZW50VGltZVN0YW1wOiB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCksXG4gICAgcHJldmlvdXNQYWdlWDogdG91Y2gucGFnZVgsXG4gICAgcHJldmlvdXNQYWdlWTogdG91Y2gucGFnZVksXG4gICAgcHJldmlvdXNUaW1lU3RhbXA6IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXNldFRvdWNoUmVjb3JkKHRvdWNoUmVjb3JkLCB0b3VjaCkge1xuICB0b3VjaFJlY29yZC50b3VjaEFjdGl2ZSA9IHRydWU7XG4gIHRvdWNoUmVjb3JkLnN0YXJ0UGFnZVggPSB0b3VjaC5wYWdlWDtcbiAgdG91Y2hSZWNvcmQuc3RhcnRQYWdlWSA9IHRvdWNoLnBhZ2VZO1xuICB0b3VjaFJlY29yZC5zdGFydFRpbWVTdGFtcCA9IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKTtcbiAgdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VYID0gdG91Y2gucGFnZVg7XG4gIHRvdWNoUmVjb3JkLmN1cnJlbnRQYWdlWSA9IHRvdWNoLnBhZ2VZO1xuICB0b3VjaFJlY29yZC5jdXJyZW50VGltZVN0YW1wID0gdGltZXN0YW1wRm9yVG91Y2godG91Y2gpO1xuICB0b3VjaFJlY29yZC5wcmV2aW91c1BhZ2VYID0gdG91Y2gucGFnZVg7XG4gIHRvdWNoUmVjb3JkLnByZXZpb3VzUGFnZVkgPSB0b3VjaC5wYWdlWTtcbiAgdG91Y2hSZWNvcmQucHJldmlvdXNUaW1lU3RhbXAgPSB0aW1lc3RhbXBGb3JUb3VjaCh0b3VjaCk7XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoSWRlbnRpZmllcihfcmVmKSB7XG4gIHZhciBpZGVudGlmaWVyID0gX3JlZi5pZGVudGlmaWVyO1xuXG4gIGludmFyaWFudChpZGVudGlmaWVyICE9IG51bGwsIFwiVG91Y2ggb2JqZWN0IGlzIG1pc3NpbmcgaWRlbnRpZmllci5cIik7XG4gIHtcbiAgICAhKGlkZW50aWZpZXIgPD0gTUFYX1RPVUNIX0JBTkspXG4gICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJUb3VjaCBpZGVudGlmaWVyICVzIGlzIGdyZWF0ZXIgdGhhbiBtYXhpbXVtIHN1cHBvcnRlZCAlcyB3aGljaCBjYXVzZXMgXCIgK1xuICAgICAgICAgICAgXCJwZXJmb3JtYW5jZSBpc3N1ZXMgYmFja2ZpbGxpbmcgYXJyYXkgbG9jYXRpb25zIGZvciBhbGwgb2YgdGhlIGluZGljZXMuXCIsXG4gICAgICAgICAgaWRlbnRpZmllcixcbiAgICAgICAgICBNQVhfVE9VQ0hfQkFOS1xuICAgICAgICApXG4gICAgICA6IHZvaWQgMDtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcjtcbn1cblxuZnVuY3Rpb24gcmVjb3JkVG91Y2hTdGFydCh0b3VjaCkge1xuICB2YXIgaWRlbnRpZmllciA9IGdldFRvdWNoSWRlbnRpZmllcih0b3VjaCk7XG4gIHZhciB0b3VjaFJlY29yZCA9IHRvdWNoQmFua1tpZGVudGlmaWVyXTtcbiAgaWYgKHRvdWNoUmVjb3JkKSB7XG4gICAgcmVzZXRUb3VjaFJlY29yZCh0b3VjaFJlY29yZCwgdG91Y2gpO1xuICB9IGVsc2Uge1xuICAgIHRvdWNoQmFua1tpZGVudGlmaWVyXSA9IGNyZWF0ZVRvdWNoUmVjb3JkKHRvdWNoKTtcbiAgfVxuICB0b3VjaEhpc3RvcnkubW9zdFJlY2VudFRpbWVTdGFtcCA9IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKTtcbn1cblxuZnVuY3Rpb24gcmVjb3JkVG91Y2hNb3ZlKHRvdWNoKSB7XG4gIHZhciB0b3VjaFJlY29yZCA9IHRvdWNoQmFua1tnZXRUb3VjaElkZW50aWZpZXIodG91Y2gpXTtcbiAgaWYgKHRvdWNoUmVjb3JkKSB7XG4gICAgdG91Y2hSZWNvcmQudG91Y2hBY3RpdmUgPSB0cnVlO1xuICAgIHRvdWNoUmVjb3JkLnByZXZpb3VzUGFnZVggPSB0b3VjaFJlY29yZC5jdXJyZW50UGFnZVg7XG4gICAgdG91Y2hSZWNvcmQucHJldmlvdXNQYWdlWSA9IHRvdWNoUmVjb3JkLmN1cnJlbnRQYWdlWTtcbiAgICB0b3VjaFJlY29yZC5wcmV2aW91c1RpbWVTdGFtcCA9IHRvdWNoUmVjb3JkLmN1cnJlbnRUaW1lU3RhbXA7XG4gICAgdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VYID0gdG91Y2gucGFnZVg7XG4gICAgdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VZID0gdG91Y2gucGFnZVk7XG4gICAgdG91Y2hSZWNvcmQuY3VycmVudFRpbWVTdGFtcCA9IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKTtcbiAgICB0b3VjaEhpc3RvcnkubW9zdFJlY2VudFRpbWVTdGFtcCA9IHRpbWVzdGFtcEZvclRvdWNoKHRvdWNoKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJDYW5ub3QgcmVjb3JkIHRvdWNoIG1vdmUgd2l0aG91dCBhIHRvdWNoIHN0YXJ0LlxcblwiICsgXCJUb3VjaCBNb3ZlOiAlc1xcblwiLFxuICAgICAgXCJUb3VjaCBCYW5rOiAlc1wiLFxuICAgICAgcHJpbnRUb3VjaCh0b3VjaCksXG4gICAgICBwcmludFRvdWNoQmFuaygpXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWNvcmRUb3VjaEVuZCh0b3VjaCkge1xuICB2YXIgdG91Y2hSZWNvcmQgPSB0b3VjaEJhbmtbZ2V0VG91Y2hJZGVudGlmaWVyKHRvdWNoKV07XG4gIGlmICh0b3VjaFJlY29yZCkge1xuICAgIHRvdWNoUmVjb3JkLnRvdWNoQWN0aXZlID0gZmFsc2U7XG4gICAgdG91Y2hSZWNvcmQucHJldmlvdXNQYWdlWCA9IHRvdWNoUmVjb3JkLmN1cnJlbnRQYWdlWDtcbiAgICB0b3VjaFJlY29yZC5wcmV2aW91c1BhZ2VZID0gdG91Y2hSZWNvcmQuY3VycmVudFBhZ2VZO1xuICAgIHRvdWNoUmVjb3JkLnByZXZpb3VzVGltZVN0YW1wID0gdG91Y2hSZWNvcmQuY3VycmVudFRpbWVTdGFtcDtcbiAgICB0b3VjaFJlY29yZC5jdXJyZW50UGFnZVggPSB0b3VjaC5wYWdlWDtcbiAgICB0b3VjaFJlY29yZC5jdXJyZW50UGFnZVkgPSB0b3VjaC5wYWdlWTtcbiAgICB0b3VjaFJlY29yZC5jdXJyZW50VGltZVN0YW1wID0gdGltZXN0YW1wRm9yVG91Y2godG91Y2gpO1xuICAgIHRvdWNoSGlzdG9yeS5tb3N0UmVjZW50VGltZVN0YW1wID0gdGltZXN0YW1wRm9yVG91Y2godG91Y2gpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIkNhbm5vdCByZWNvcmQgdG91Y2ggZW5kIHdpdGhvdXQgYSB0b3VjaCBzdGFydC5cXG5cIiArIFwiVG91Y2ggRW5kOiAlc1xcblwiLFxuICAgICAgXCJUb3VjaCBCYW5rOiAlc1wiLFxuICAgICAgcHJpbnRUb3VjaCh0b3VjaCksXG4gICAgICBwcmludFRvdWNoQmFuaygpXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmludFRvdWNoKHRvdWNoKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgaWRlbnRpZmllcjogdG91Y2guaWRlbnRpZmllcixcbiAgICBwYWdlWDogdG91Y2gucGFnZVgsXG4gICAgcGFnZVk6IHRvdWNoLnBhZ2VZLFxuICAgIHRpbWVzdGFtcDogdGltZXN0YW1wRm9yVG91Y2godG91Y2gpXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwcmludFRvdWNoQmFuaygpIHtcbiAgdmFyIHByaW50ZWQgPSBKU09OLnN0cmluZ2lmeSh0b3VjaEJhbmsuc2xpY2UoMCwgTUFYX1RPVUNIX0JBTkspKTtcbiAgaWYgKHRvdWNoQmFuay5sZW5ndGggPiBNQVhfVE9VQ0hfQkFOSykge1xuICAgIHByaW50ZWQgKz0gXCIgKG9yaWdpbmFsIHNpemU6IFwiICsgdG91Y2hCYW5rLmxlbmd0aCArIFwiKVwiO1xuICB9XG4gIHJldHVybiBwcmludGVkO1xufVxuXG52YXIgUmVzcG9uZGVyVG91Y2hIaXN0b3J5U3RvcmUgPSB7XG4gIHJlY29yZFRvdWNoVHJhY2s6IGZ1bmN0aW9uKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoaXNNb3ZlaXNoKHRvcExldmVsVHlwZSkpIHtcbiAgICAgIG5hdGl2ZUV2ZW50LmNoYW5nZWRUb3VjaGVzLmZvckVhY2gocmVjb3JkVG91Y2hNb3ZlKTtcbiAgICB9IGVsc2UgaWYgKGlzU3RhcnRpc2godG9wTGV2ZWxUeXBlKSkge1xuICAgICAgbmF0aXZlRXZlbnQuY2hhbmdlZFRvdWNoZXMuZm9yRWFjaChyZWNvcmRUb3VjaFN0YXJ0KTtcbiAgICAgIHRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzID0gbmF0aXZlRXZlbnQudG91Y2hlcy5sZW5ndGg7XG4gICAgICBpZiAodG91Y2hIaXN0b3J5Lm51bWJlckFjdGl2ZVRvdWNoZXMgPT09IDEpIHtcbiAgICAgICAgdG91Y2hIaXN0b3J5LmluZGV4T2ZTaW5nbGVBY3RpdmVUb3VjaCA9XG4gICAgICAgICAgbmF0aXZlRXZlbnQudG91Y2hlc1swXS5pZGVudGlmaWVyO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNFbmRpc2godG9wTGV2ZWxUeXBlKSkge1xuICAgICAgbmF0aXZlRXZlbnQuY2hhbmdlZFRvdWNoZXMuZm9yRWFjaChyZWNvcmRUb3VjaEVuZCk7XG4gICAgICB0b3VjaEhpc3RvcnkubnVtYmVyQWN0aXZlVG91Y2hlcyA9IG5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoO1xuICAgICAgaWYgKHRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzID09PSAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG91Y2hCYW5rLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHRvdWNoVHJhY2tUb0NoZWNrID0gdG91Y2hCYW5rW2ldO1xuICAgICAgICAgIGlmICh0b3VjaFRyYWNrVG9DaGVjayAhPSBudWxsICYmIHRvdWNoVHJhY2tUb0NoZWNrLnRvdWNoQWN0aXZlKSB7XG4gICAgICAgICAgICB0b3VjaEhpc3RvcnkuaW5kZXhPZlNpbmdsZUFjdGl2ZVRvdWNoID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGFjdGl2ZVJlY29yZCA9IHRvdWNoQmFua1t0b3VjaEhpc3RvcnkuaW5kZXhPZlNpbmdsZUFjdGl2ZVRvdWNoXTtcbiAgICAgICAgICAhKGFjdGl2ZVJlY29yZCAhPSBudWxsICYmIGFjdGl2ZVJlY29yZC50b3VjaEFjdGl2ZSlcbiAgICAgICAgICAgID8gd2FybmluZyhmYWxzZSwgXCJDYW5ub3QgZmluZCBzaW5nbGUgYWN0aXZlIHRvdWNoLlwiKVxuICAgICAgICAgICAgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdG91Y2hIaXN0b3J5OiB0b3VjaEhpc3Rvcnlcbn07XG5cbi8qKlxuICogQWNjdW11bGF0ZXMgaXRlbXMgdGhhdCBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgdG8gY29uc2VydmUgbWVtb3J5IGJ5IGF2b2lkaW5nIGFycmF5IGFsbG9jYXRpb25zLlxuICpcbiAqIEByZXR1cm4geyp8YXJyYXk8Kj59IEFuIGFjY3VtdWxhdGlvbiBvZiBpdGVtcy5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZShjdXJyZW50LCBuZXh0KSB7XG4gIGludmFyaWFudChcbiAgICBuZXh0ICE9IG51bGwsXG4gICAgXCJhY2N1bXVsYXRlKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3QgYmUgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLlwiXG4gICk7XG5cbiAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgLy8gQm90aCBhcmUgbm90IGVtcHR5LiBXYXJuaW5nOiBOZXZlciBjYWxsIHguY29uY2F0KHkpIHdoZW4geW91IGFyZSBub3RcbiAgLy8gY2VydGFpbiB0aGF0IHggaXMgYW4gQXJyYXkgKHggY291bGQgYmUgYSBzdHJpbmcgd2l0aCBjb25jYXQgbWV0aG9kKS5cbiAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHtcbiAgICByZXR1cm4gY3VycmVudC5jb25jYXQobmV4dCk7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShuZXh0KSkge1xuICAgIHJldHVybiBbY3VycmVudF0uY29uY2F0KG5leHQpO1xuICB9XG5cbiAgcmV0dXJuIFtjdXJyZW50LCBuZXh0XTtcbn1cblxuLyoqXG4gKiBJbnN0YW5jZSBvZiBlbGVtZW50IHRoYXQgc2hvdWxkIHJlc3BvbmQgdG8gdG91Y2gvbW92ZSB0eXBlcyBvZiBpbnRlcmFjdGlvbnMsXG4gKiBhcyBpbmRpY2F0ZWQgZXhwbGljaXRseSBieSByZWxldmFudCBjYWxsYmFja3MuXG4gKi9cbnZhciByZXNwb25kZXJJbnN0ID0gbnVsbDtcblxuLyoqXG4gKiBDb3VudCBvZiBjdXJyZW50IHRvdWNoZXMuIEEgdGV4dElucHV0IHNob3VsZCBiZWNvbWUgcmVzcG9uZGVyIGlmZiB0aGVcbiAqIHNlbGVjdGlvbiBjaGFuZ2VzIHdoaWxlIHRoZXJlIGlzIGEgdG91Y2ggb24gdGhlIHNjcmVlbi5cbiAqL1xudmFyIHRyYWNrZWRUb3VjaENvdW50ID0gMDtcblxuLyoqXG4gKiBMYXN0IHJlcG9ydGVkIG51bWJlciBvZiBhY3RpdmUgdG91Y2hlcy5cbiAqL1xudmFyIHByZXZpb3VzQWN0aXZlVG91Y2hlcyA9IDA7XG5cbnZhciBjaGFuZ2VSZXNwb25kZXIgPSBmdW5jdGlvbihuZXh0UmVzcG9uZGVySW5zdCwgYmxvY2tIb3N0UmVzcG9uZGVyKSB7XG4gIHZhciBvbGRSZXNwb25kZXJJbnN0ID0gcmVzcG9uZGVySW5zdDtcbiAgcmVzcG9uZGVySW5zdCA9IG5leHRSZXNwb25kZXJJbnN0O1xuICBpZiAoUmVzcG9uZGVyRXZlbnRQbHVnaW4uR2xvYmFsUmVzcG9uZGVySGFuZGxlciAhPT0gbnVsbCkge1xuICAgIFJlc3BvbmRlckV2ZW50UGx1Z2luLkdsb2JhbFJlc3BvbmRlckhhbmRsZXIub25DaGFuZ2UoXG4gICAgICBvbGRSZXNwb25kZXJJbnN0LFxuICAgICAgbmV4dFJlc3BvbmRlckluc3QsXG4gICAgICBibG9ja0hvc3RSZXNwb25kZXJcbiAgICApO1xuICB9XG59O1xuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgLyoqXG4gICAqIE9uIGEgYHRvdWNoU3RhcnRgL2Btb3VzZURvd25gLCBpcyBpdCBkZXNpcmVkIHRoYXQgdGhpcyBlbGVtZW50IGJlY29tZSB0aGVcbiAgICogcmVzcG9uZGVyP1xuICAgKi9cbiAgc3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogXCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyXCIsXG4gICAgICBjYXB0dXJlZDogXCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZVwiXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBPbiBhIGBzY3JvbGxgLCBpcyBpdCBkZXNpcmVkIHRoYXQgdGhpcyBlbGVtZW50IGJlY29tZSB0aGUgcmVzcG9uZGVyPyBUaGlzXG4gICAqIGlzIHVzdWFsbHkgbm90IG5lZWRlZCwgYnV0IHNob3VsZCBiZSB1c2VkIHRvIHJldHJvYWN0aXZlbHkgaW5mZXIgdGhhdCBhXG4gICAqIGB0b3VjaFN0YXJ0YCBoYWQgb2NjdXJyZWQgZHVyaW5nIG1vbWVudHVtIHNjcm9sbC4gRHVyaW5nIGEgbW9tZW50dW0gc2Nyb2xsLFxuICAgKiBhIHRvdWNoIHN0YXJ0IHdpbGwgYmUgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgYSBzY3JvbGwgZXZlbnQgaWYgdGhlIHZpZXcgaXNcbiAgICogY3VycmVudGx5IHNjcm9sbGluZy5cbiAgICpcbiAgICogVE9ETzogVGhpcyBzaG91bGRuJ3QgYnViYmxlLlxuICAgKi9cbiAgc2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IFwib25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXJcIixcbiAgICAgIGNhcHR1cmVkOiBcIm9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZVwiXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBPbiB0ZXh0IHNlbGVjdGlvbiBjaGFuZ2UsIHNob3VsZCB0aGlzIGVsZW1lbnQgYmVjb21lIHRoZSByZXNwb25kZXI/IFRoaXNcbiAgICogaXMgbmVlZGVkIGZvciB0ZXh0IGlucHV0cyBvciBvdGhlciB2aWV3cyB3aXRoIG5hdGl2ZSBzZWxlY3Rpb24sIHNvIHRoZVxuICAgKiBKUyB2aWV3IGNhbiBjbGFpbSB0aGUgcmVzcG9uZGVyLlxuICAgKlxuICAgKiBUT0RPOiBUaGlzIHNob3VsZG4ndCBidWJibGUuXG4gICAqL1xuICBzZWxlY3Rpb25DaGFuZ2VTaG91bGRTZXRSZXNwb25kZXI6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDogXCJvblNlbGVjdGlvbkNoYW5nZVNob3VsZFNldFJlc3BvbmRlclwiLFxuICAgICAgY2FwdHVyZWQ6IFwib25TZWxlY3Rpb25DaGFuZ2VTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlXCJcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE9uIGEgYHRvdWNoTW92ZWAvYG1vdXNlTW92ZWAsIGlzIGl0IGRlc2lyZWQgdGhhdCB0aGlzIGVsZW1lbnQgYmVjb21lIHRoZVxuICAgKiByZXNwb25kZXI/XG4gICAqL1xuICBtb3ZlU2hvdWxkU2V0UmVzcG9uZGVyOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IFwib25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyXCIsXG4gICAgICBjYXB0dXJlZDogXCJvbk1vdmVTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlXCJcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERpcmVjdCByZXNwb25kZXIgZXZlbnRzIGRpc3BhdGNoZWQgZGlyZWN0bHkgdG8gcmVzcG9uZGVyLiBEbyBub3QgYnViYmxlLlxuICAgKi9cbiAgcmVzcG9uZGVyU3RhcnQ6IHsgcmVnaXN0cmF0aW9uTmFtZTogXCJvblJlc3BvbmRlclN0YXJ0XCIgfSxcbiAgcmVzcG9uZGVyTW92ZTogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyTW92ZVwiIH0sXG4gIHJlc3BvbmRlckVuZDogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyRW5kXCIgfSxcbiAgcmVzcG9uZGVyUmVsZWFzZTogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyUmVsZWFzZVwiIH0sXG4gIHJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDoge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IFwib25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3RcIlxuICB9LFxuICByZXNwb25kZXJHcmFudDogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyR3JhbnRcIiB9LFxuICByZXNwb25kZXJSZWplY3Q6IHsgcmVnaXN0cmF0aW9uTmFtZTogXCJvblJlc3BvbmRlclJlamVjdFwiIH0sXG4gIHJlc3BvbmRlclRlcm1pbmF0ZTogeyByZWdpc3RyYXRpb25OYW1lOiBcIm9uUmVzcG9uZGVyVGVybWluYXRlXCIgfVxufTtcblxuLyoqXG4gKlxuICogUmVzcG9uZGVyIFN5c3RlbTpcbiAqIC0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAtIEEgZ2xvYmFsLCBzb2xpdGFyeSBcImludGVyYWN0aW9uIGxvY2tcIiBvbiBhIHZpZXcuXG4gKiAtIElmIGEgbm9kZSBiZWNvbWVzIHRoZSByZXNwb25kZXIsIGl0IHNob3VsZCBjb252ZXkgdmlzdWFsIGZlZWRiYWNrXG4gKiAgIGltbWVkaWF0ZWx5IHRvIGluZGljYXRlIHNvLCBlaXRoZXIgYnkgaGlnaGxpZ2h0aW5nIG9yIG1vdmluZyBhY2NvcmRpbmdseS5cbiAqIC0gVG8gYmUgdGhlIHJlc3BvbmRlciBtZWFucywgdGhhdCB0b3VjaGVzIGFyZSBleGNsdXNpdmVseSBpbXBvcnRhbnQgdG8gdGhhdFxuICogICByZXNwb25kZXIgdmlldywgYW5kIG5vIG90aGVyIHZpZXcuXG4gKiAtIFdoaWxlIHRvdWNoZXMgYXJlIHN0aWxsIG9jY3VycmluZywgdGhlIHJlc3BvbmRlciBsb2NrIGNhbiBiZSB0cmFuc2ZlcnJlZCB0b1xuICogICBhIG5ldyB2aWV3LCBidXQgb25seSB0byBpbmNyZWFzaW5nbHkgXCJoaWdoZXJcIiB2aWV3cyAobWVhbmluZyBhbmNlc3RvcnMgb2ZcbiAqICAgdGhlIGN1cnJlbnQgcmVzcG9uZGVyKS5cbiAqXG4gKiBSZXNwb25kZXIgYmVpbmcgZ3JhbnRlZDpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIC0gVG91Y2ggc3RhcnRzLCBtb3ZlcywgYW5kIHNjcm9sbHMgY2FuIGNhdXNlIGFuIElEIHRvIGJlY29tZSB0aGUgcmVzcG9uZGVyLlxuICogLSBXZSBjYXB0dXJlL2J1YmJsZSBgc3RhcnRTaG91bGRTZXRSZXNwb25kZXJgL2Btb3ZlU2hvdWxkU2V0UmVzcG9uZGVyYCB0b1xuICogICB0aGUgXCJhcHByb3ByaWF0ZSBwbGFjZVwiLlxuICogLSBJZiBub3RoaW5nIGlzIGN1cnJlbnRseSB0aGUgcmVzcG9uZGVyLCB0aGUgXCJhcHByb3ByaWF0ZSBwbGFjZVwiIGlzIHRoZVxuICogICBpbml0aWF0aW5nIGV2ZW50J3MgYHRhcmdldElEYC5cbiAqIC0gSWYgc29tZXRoaW5nICppcyogYWxyZWFkeSB0aGUgcmVzcG9uZGVyLCB0aGUgXCJhcHByb3ByaWF0ZSBwbGFjZVwiIGlzIHRoZVxuICogICBmaXJzdCBjb21tb24gYW5jZXN0b3Igb2YgdGhlIGV2ZW50IHRhcmdldCBhbmQgdGhlIGN1cnJlbnQgYHJlc3BvbmRlckluc3RgLlxuICogLSBTb21lIG5lZ290aWF0aW9uIGhhcHBlbnM6IFNlZSB0aGUgdGltaW5nIGRpYWdyYW0gYmVsb3cuXG4gKiAtIFNjcm9sbGVkIHZpZXdzIGF1dG9tYXRpY2FsbHkgYmVjb21lIHJlc3BvbmRlci4gVGhlIHJlYXNvbmluZyBpcyB0aGF0IGFcbiAqICAgcGxhdGZvcm0gc2Nyb2xsIHZpZXcgdGhhdCBpc24ndCBidWlsdCBvbiB0b3Agb2YgdGhlIHJlc3BvbmRlciBzeXN0ZW0gaGFzXG4gKiAgIGJlZ2FuIHNjcm9sbGluZywgYW5kIHRoZSBhY3RpdmUgcmVzcG9uZGVyIG11c3Qgbm93IGJlIG5vdGlmaWVkIHRoYXQgdGhlXG4gKiAgIGludGVyYWN0aW9uIGlzIG5vIGxvbmdlciBsb2NrZWQgdG8gaXQgLSB0aGUgc3lzdGVtIGhhcyB0YWtlbiBvdmVyLlxuICpcbiAqIC0gUmVzcG9uZGVyIGJlaW5nIHJlbGVhc2VkOlxuICogICBBcyBzb29uIGFzIG5vIG1vcmUgdG91Y2hlcyB0aGF0ICpzdGFydGVkKiBpbnNpZGUgb2YgZGVzY2VuZGFudHMgb2YgdGhlXG4gKiAgICpjdXJyZW50KiByZXNwb25kZXJJbnN0LCBhbiBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudCBpcyBkaXNwYXRjaGVkIHRvIHRoZVxuICogICBjdXJyZW50IHJlc3BvbmRlciwgYW5kIHRoZSByZXNwb25kZXIgbG9jayBpcyByZWxlYXNlZC5cbiAqXG4gKiBUT0RPOlxuICogLSBvbiBcImVuZFwiLCBhIGNhbGxiYWNrIGhvb2sgZm9yIGBvblJlc3BvbmRlckVuZFNob3VsZFJlbWFpblJlc3BvbmRlcmAgdGhhdFxuICogICBkZXRlcm1pbmVzIGlmIHRoZSByZXNwb25kZXIgbG9jayBzaG91bGQgcmVtYWluLlxuICogLSBJZiBhIHZpZXcgc2hvdWxkbid0IFwicmVtYWluXCIgdGhlIHJlc3BvbmRlciwgYW55IGFjdGl2ZSB0b3VjaGVzIHNob3VsZCBieVxuICogICBkZWZhdWx0IGJlIGNvbnNpZGVyZWQgXCJkZWFkXCIgYW5kIGRvIG5vdCBpbmZsdWVuY2UgZnV0dXJlIG5lZ290aWF0aW9ucyBvclxuICogICBidWJibGUgcGF0aHMuIEl0IHNob3VsZCBiZSBhcyBpZiB0aG9zZSB0b3VjaGVzIGRvIG5vdCBleGlzdC5cbiAqIC0tIEZvciBtdWx0aXRvdWNoOiBVc3VhbGx5IGEgdHJhbnNsYXRlLXogd2lsbCBjaG9vc2UgdG8gXCJyZW1haW5cIiByZXNwb25kZXJcbiAqICBhZnRlciBvbmUgb3V0IG9mIG1hbnkgdG91Y2hlcyBlbmRlZC4gRm9yIHRyYW5zbGF0ZS15LCB1c3VhbGx5IHRoZSB2aWV3XG4gKiAgZG9lc24ndCB3aXNoIHRvIFwicmVtYWluXCIgcmVzcG9uZGVyIGFmdGVyIG9uZSBvZiBtYW55IHRvdWNoZXMgZW5kLlxuICogLSBDb25zaWRlciBidWlsZGluZyB0aGlzIG9uIHRvcCBvZiBhIGBzdG9wUHJvcGFnYXRpb25gIG1vZGVsIHNpbWlsYXIgdG9cbiAqICAgYFczQ2AgZXZlbnRzLlxuICogLSBFbnN1cmUgdGhhdCBgb25SZXNwb25kZXJUZXJtaW5hdGVgIGlzIGNhbGxlZCBvbiB0b3VjaCBjYW5jZWxzLCB3aGV0aGVyIG9yXG4gKiAgIG5vdCBgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3RgIHJldHVybnMgYHRydWVgIG9yIGBmYWxzZWAuXG4gKlxuICovXG5cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTmVnb3RpYXRpb24gUGVyZm9ybWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8gICAgICAgICAgICAgICAgICAgICAgICAgXFxcblByb2Nlc3MgbG93IGxldmVsIGV2ZW50cyB0byAgICArICAgICBDdXJyZW50IFJlc3BvbmRlciAgICAgICsgICB3YW50c1Jlc3BvbmRlcklEXG5kZXRlcm1pbmUgd2hvIHRvIHBlcmZvcm0gbmVnb3QtfCAgIChpZiBhbnkgZXhpc3RzIGF0IGFsbCkgICB8XG5pYXRpb24vdHJhbnNpdGlvbiAgICAgICAgICAgICAgfCBPdGhlcndpc2UganVzdCBwYXNzIHRocm91Z2h8XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLS0tK1xuQnViYmxlIHRvIGZpbmQgZmlyc3QgSUQgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxudG8gcmV0dXJuIHRydWU6d2FudHNSZXNwb25kZXJJRHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICArLS0tLS0tLS0tLS0tLSsgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICB8IG9uVG91Y2hTdGFydHwgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICArLS0tLS0tKy0tLS0tLSsgICAgIG5vbmUgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgfCAgICAgICAgICAgIHJldHVybnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuKy0tLS0tLS0tLS0tdi0tLS0tLS0tLS0tLS0rdHJ1ZXwgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgfFxufG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJ8LS0tLS0+fG9uUmVzcG9uZGVyU3RhcnQgKGN1cikgIHw8LS0tLS0tLS0tLS0rXG4rLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLSsgICAgfCArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyB8ICAgICAgICAgIHxcbiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tKy0tLS0tLS0rXG4gICAgICAgICAgICB8IHJldHVybmVkIHRydWUgZm9yfCAgICAgICBmYWxzZTpSRUpFQ1QgKy0tLS0tLS0tPnxvblJlc3BvbmRlclJlamVjdFxuICAgICAgICAgICAgfCB3YW50c1Jlc3BvbmRlcklEIHwgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgICAgICAgIHwgKG5vdyBhdHRlbXB0ICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0rIHxcbiAgICAgICAgICAgIHwgIGhhbmRvZmYpICAgICAgICB8IHwgICBvblJlc3BvbmRlciAgICAgICAgICB8IHxcbiAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tPnwgICAgICBUZXJtaW5hdGlvblJlcXVlc3R8IHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgIHRydWU6R1JBTlQgKy0tLS0tLS0tPnxvblJlc3BvbmRlckdyYW50fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0rLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHwgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgfCAgIG9uUmVzcG9uZGVyVGVybWluYXRlIHw8LS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0tKyB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLT58b25SZXNwb25kZXJTdGFydHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0rXG5CdWJibGUgdG8gZmluZCBmaXJzdCBJRCAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG50byByZXR1cm4gdHJ1ZTp3YW50c1Jlc3BvbmRlcklEfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICstLS0tLS0tLS0tLS0tKyAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgIHwgb25Ub3VjaE1vdmUgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICstLS0tLS0rLS0tLS0tKyAgICAgbm9uZSAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICAgICAgICB8ICAgICAgICAgICAgcmV0dXJufCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4rLS0tLS0tLS0tLS12LS0tLS0tLS0tLS0tLSt0cnVlfCArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyB8XG58b25Nb3ZlU2hvdWxkU2V0UmVzcG9uZGVyIHwtLS0tLT58b25SZXNwb25kZXJNb3ZlIChjdXIpICAgfDwtLS0tLS0tLS0tLStcbistLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tKyAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHwgICAgICAgICAgfFxuICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0rLS0tLS0tLStcbiAgICAgICAgICAgIHwgcmV0dXJuZWQgdHJ1ZSBmb3J8ICAgICAgIGZhbHNlOlJFSkVDVCArLS0tLS0tLS0+fG9uUmVzcG9uZGVyUmVqZWN8XG4gICAgICAgICAgICB8IHdhbnRzUmVzcG9uZGVySUQgfCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgICAgfCAobm93IGF0dGVtcHQgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLSsgfFxuICAgICAgICAgICAgfCAgaGFuZG9mZikgICAgICAgIHwgfCAgIG9uUmVzcG9uZGVyICAgICAgICAgIHwgfFxuICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0+fCAgICAgIFRlcm1pbmF0aW9uUmVxdWVzdHwgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0tLSstLS0tLSsgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgdHJ1ZTpHUkFOVCArLS0tLS0tLS0+fG9uUmVzcG9uZGVyR3JhbnR8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLSstLS0tLS0tK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgfCAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB8ICAgb25SZXNwb25kZXJUZXJtaW5hdGUgfDwtLS0tLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0rLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHwgKy0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tPnxvblJlc3BvbmRlck1vdmUgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCArLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgIFNvbWUgYWN0aXZlIHRvdWNoIHN0YXJ0ZWR8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgIGluc2lkZSBjdXJyZW50IHJlc3BvbmRlciB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPnwgICAgICBvblJlc3BvbmRlckVuZCAgICB8IHxcbiAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgKy0tLSstLS0tLS0tLS0rICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgfCBvblRvdWNoRW5kICB8ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgKy0tLSstLS0tLS0tLS0rICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tPnwgICAgIG9uUmVzcG9uZGVyRW5kICAgICB8IHxcbiAgICAgIE5vIGFjdGl2ZSB0b3VjaGVzIHN0YXJ0ZWR8ICstLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0rIHxcbiAgICAgIGluc2lkZSBjdXJyZW50IHJlc3BvbmRlciB8ICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgIHYgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHwgICAgb25SZXNwb25kZXJSZWxlYXNlICB8IHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKi9cblxuLyoqXG4gKiBBIG5vdGUgYWJvdXQgZXZlbnQgb3JkZXJpbmcgaW4gdGhlIGBFdmVudFBsdWdpbkh1YmAuXG4gKlxuICogU3VwcG9zZSBwbHVnaW5zIGFyZSBpbmplY3RlZCBpbiB0aGUgZm9sbG93aW5nIG9yZGVyOlxuICpcbiAqIGBbUiwgUywgQ11gXG4gKlxuICogVG8gaGVscCBpbGx1c3RyYXRlIHRoZSBleGFtcGxlLCBhc3N1bWUgYFNgIGlzIGBTaW1wbGVFdmVudFBsdWdpbmAgKGZvclxuICogYG9uQ2xpY2tgIGV0YykgYW5kIGBSYCBpcyBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gLlxuICpcbiAqIFwiRGVmZXJyZWQtRGlzcGF0Y2hlZCBFdmVudHNcIjpcbiAqXG4gKiAtIFRoZSBjdXJyZW50IGV2ZW50IHBsdWdpbiBzeXN0ZW0gd2lsbCB0cmF2ZXJzZSB0aGUgbGlzdCBvZiBpbmplY3RlZCBwbHVnaW5zLFxuICogICBpbiBvcmRlciwgYW5kIGV4dHJhY3QgZXZlbnRzIGJ5IGNvbGxlY3RpbmcgdGhlIHBsdWdpbidzIHJldHVybiB2YWx1ZSBvZlxuICogICBgZXh0cmFjdEV2ZW50cygpYC5cbiAqIC0gVGhlc2UgZXZlbnRzIHRoYXQgYXJlIHJldHVybmVkIGZyb20gYGV4dHJhY3RFdmVudHNgIGFyZSBcImRlZmVycmVkXG4gKiAgIGRpc3BhdGNoZWQgZXZlbnRzXCIuXG4gKiAtIFdoZW4gcmV0dXJuZWQgZnJvbSBgZXh0cmFjdEV2ZW50c2AsIGRlZmVycmVkLWRpc3BhdGNoZWQgZXZlbnRzIGNvbnRhaW4gYW5cbiAqICAgXCJhY2N1bXVsYXRpb25cIiBvZiBkZWZlcnJlZCBkaXNwYXRjaGVzLlxuICogLSBUaGVzZSBkZWZlcnJlZCBkaXNwYXRjaGVzIGFyZSBhY2N1bXVsYXRlZC9jb2xsZWN0ZWQgYmVmb3JlIHRoZXkgYXJlXG4gKiAgIHJldHVybmVkLCBidXQgcHJvY2Vzc2VkIGF0IGEgbGF0ZXIgdGltZSBieSB0aGUgYEV2ZW50UGx1Z2luSHViYCAoaGVuY2UgdGhlXG4gKiAgIG5hbWUgZGVmZXJyZWQpLlxuICpcbiAqIEluIHRoZSBwcm9jZXNzIG9mIHJldHVybmluZyB0aGVpciBkZWZlcnJlZC1kaXNwYXRjaGVkIGV2ZW50cywgZXZlbnQgcGx1Z2luc1xuICogdGhlbXNlbHZlcyBjYW4gZGlzcGF0Y2ggZXZlbnRzIG9uLWRlbWFuZCB3aXRob3V0IHJldHVybmluZyB0aGVtIGZyb21cbiAqIGBleHRyYWN0RXZlbnRzYC4gUGx1Z2lucyBtaWdodCB3YW50IHRvIGRvIHRoaXMsIHNvIHRoYXQgdGhleSBjYW4gdXNlIGV2ZW50XG4gKiBkaXNwYXRjaGluZyBhcyBhIHRvb2wgdGhhdCBoZWxwcyB0aGVtIGRlY2lkZSB3aGljaCBldmVudHMgc2hvdWxkIGJlIGV4dHJhY3RlZFxuICogaW4gdGhlIGZpcnN0IHBsYWNlLlxuICpcbiAqIFwiT24tRGVtYW5kLURpc3BhdGNoZWQgRXZlbnRzXCI6XG4gKlxuICogLSBPbi1kZW1hbmQtZGlzcGF0Y2hlZCBldmVudHMgYXJlIG5vdCByZXR1cm5lZCBmcm9tIGBleHRyYWN0RXZlbnRzYC5cbiAqIC0gT24tZGVtYW5kLWRpc3BhdGNoZWQgZXZlbnRzIGFyZSBkaXNwYXRjaGVkIGR1cmluZyB0aGUgcHJvY2VzcyBvZiByZXR1cm5pbmdcbiAqICAgdGhlIGRlZmVycmVkLWRpc3BhdGNoZWQgZXZlbnRzLlxuICogLSBUaGV5IHNob3VsZCBub3QgaGF2ZSBzaWRlIGVmZmVjdHMuXG4gKiAtIFRoZXkgc2hvdWxkIGJlIGF2b2lkZWQsIGFuZC9vciBldmVudHVhbGx5IGJlIHJlcGxhY2VkIHdpdGggYW5vdGhlclxuICogICBhYnN0cmFjdGlvbiB0aGF0IGFsbG93cyBldmVudCBwbHVnaW5zIHRvIHBlcmZvcm0gbXVsdGlwbGUgXCJyb3VuZHNcIiBvZiBldmVudFxuICogICBleHRyYWN0aW9uLlxuICpcbiAqIFRoZXJlZm9yZSwgdGhlIHNlcXVlbmNlIG9mIGV2ZW50IGRpc3BhdGNoZXMgYmVjb21lczpcbiAqXG4gKiAtIGBSYHMgb24tZGVtYW5kIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBSYCBvbi1kZW1hbmQpXG4gKiAtIGBTYHMgb24tZGVtYW5kIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBTYCBvbi1kZW1hbmQpXG4gKiAtIGBDYHMgb24tZGVtYW5kIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBDYCBvbi1kZW1hbmQpXG4gKiAtIGBSYHMgZXh0cmFjdGVkIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBFdmVudFBsdWdpbkh1YmApXG4gKiAtIGBTYHMgZXh0cmFjdGVkIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBFdmVudFBsdWdpbkh1YmApXG4gKiAtIGBDYHMgZXh0cmFjdGVkIGV2ZW50cyAoaWYgYW55KSAgIChkaXNwYXRjaGVkIGJ5IGBFdmVudFBsdWdpbkh1YmApXG4gKlxuICogSW4gdGhlIGNhc2Ugb2YgYFJlc3BvbmRlckV2ZW50UGx1Z2luYDogSWYgdGhlIGBzdGFydFNob3VsZFNldFJlc3BvbmRlcmBcbiAqIG9uLWRlbWFuZCBkaXNwYXRjaCByZXR1cm5zIGB0cnVlYCAoYW5kIHNvbWUgb3RoZXIgZGV0YWlscyBhcmUgc2F0aXNmaWVkKSB0aGVcbiAqIGBvblJlc3BvbmRlckdyYW50YCBkZWZlcnJlZCBkaXNwYXRjaGVkIGV2ZW50IGlzIHJldHVybmVkIGZyb21cbiAqIGBleHRyYWN0RXZlbnRzYC4gVGhlIHNlcXVlbmNlIG9mIGRpc3BhdGNoIGV4ZWN1dGlvbnMgaW4gdGhpcyBjYXNlXG4gKiB3aWxsIGFwcGVhciBhcyBmb2xsb3dzOlxuICpcbiAqIC0gYHN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCAoYFJlc3BvbmRlckV2ZW50UGx1Z2luYCBkaXNwYXRjaGVzIG9uLWRlbWFuZClcbiAqIC0gYHRvdWNoU3RhcnRDYXB0dXJlYCAgICAgICAoYEV2ZW50UGx1Z2luSHViYCBkaXNwYXRjaGVzIGFzIHVzdWFsKVxuICogLSBgdG91Y2hTdGFydGAgICAgICAgICAgICAgIChgRXZlbnRQbHVnaW5IdWJgIGRpc3BhdGNoZXMgYXMgdXN1YWwpXG4gKiAtIGByZXNwb25kZXJHcmFudC9SZWplY3RgICAgKGBFdmVudFBsdWdpbkh1YmAgZGlzcGF0Y2hlcyBhcyB1c3VhbClcbiAqL1xuXG5mdW5jdGlvbiBzZXRSZXNwb25kZXJBbmRFeHRyYWN0VHJhbnNmZXIoXG4gIHRvcExldmVsVHlwZSxcbiAgdGFyZ2V0SW5zdCxcbiAgbmF0aXZlRXZlbnQsXG4gIG5hdGl2ZUV2ZW50VGFyZ2V0XG4pIHtcbiAgdmFyIHNob3VsZFNldEV2ZW50VHlwZSA9IGlzU3RhcnRpc2godG9wTGV2ZWxUeXBlKVxuICAgID8gZXZlbnRUeXBlcy5zdGFydFNob3VsZFNldFJlc3BvbmRlclxuICAgIDogaXNNb3ZlaXNoKHRvcExldmVsVHlwZSlcbiAgICAgID8gZXZlbnRUeXBlcy5tb3ZlU2hvdWxkU2V0UmVzcG9uZGVyXG4gICAgICA6IHRvcExldmVsVHlwZSA9PT0gXCJ0b3BTZWxlY3Rpb25DaGFuZ2VcIlxuICAgICAgICA/IGV2ZW50VHlwZXMuc2VsZWN0aW9uQ2hhbmdlU2hvdWxkU2V0UmVzcG9uZGVyXG4gICAgICAgIDogZXZlbnRUeXBlcy5zY3JvbGxTaG91bGRTZXRSZXNwb25kZXI7XG5cbiAgLy8gVE9ETzogc3RvcCBvbmUgc2hvcnQgb2YgdGhlIGN1cnJlbnQgcmVzcG9uZGVyLlxuICB2YXIgYnViYmxlU2hvdWxkU2V0RnJvbSA9ICFyZXNwb25kZXJJbnN0XG4gICAgPyB0YXJnZXRJbnN0XG4gICAgOiBnZXRMb3dlc3RDb21tb25BbmNlc3RvcihyZXNwb25kZXJJbnN0LCB0YXJnZXRJbnN0KTtcblxuICAvLyBXaGVuIGNhcHR1cmluZy9idWJibGluZyB0aGUgXCJzaG91bGRTZXRcIiBldmVudCwgd2Ugd2FudCB0byBza2lwIHRoZSB0YXJnZXRcbiAgLy8gKGRlZXBlc3QgSUQpIGlmIGl0IGhhcHBlbnMgdG8gYmUgdGhlIGN1cnJlbnQgcmVzcG9uZGVyLiBUaGUgcmVhc29uaW5nOlxuICAvLyBJdCdzIHN0cmFuZ2UgdG8gZ2V0IGFuIGBvbk1vdmVTaG91bGRTZXRSZXNwb25kZXJgIHdoZW4geW91J3JlICphbHJlYWR5KlxuICAvLyB0aGUgcmVzcG9uZGVyLlxuICB2YXIgc2tpcE92ZXJCdWJibGVTaG91bGRTZXRGcm9tID0gYnViYmxlU2hvdWxkU2V0RnJvbSA9PT0gcmVzcG9uZGVySW5zdDtcbiAgdmFyIHNob3VsZFNldEV2ZW50ID0gUmVzcG9uZGVyU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgIHNob3VsZFNldEV2ZW50VHlwZSxcbiAgICBidWJibGVTaG91bGRTZXRGcm9tLFxuICAgIG5hdGl2ZUV2ZW50LFxuICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICk7XG4gIHNob3VsZFNldEV2ZW50LnRvdWNoSGlzdG9yeSA9IFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeTtcbiAgaWYgKHNraXBPdmVyQnViYmxlU2hvdWxkU2V0RnJvbSkge1xuICAgIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0KHNob3VsZFNldEV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKHNob3VsZFNldEV2ZW50KTtcbiAgfVxuICB2YXIgd2FudHNSZXNwb25kZXJJbnN0ID0gZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZShzaG91bGRTZXRFdmVudCk7XG4gIGlmICghc2hvdWxkU2V0RXZlbnQuaXNQZXJzaXN0ZW50KCkpIHtcbiAgICBzaG91bGRTZXRFdmVudC5jb25zdHJ1Y3Rvci5yZWxlYXNlKHNob3VsZFNldEV2ZW50KTtcbiAgfVxuXG4gIGlmICghd2FudHNSZXNwb25kZXJJbnN0IHx8IHdhbnRzUmVzcG9uZGVySW5zdCA9PT0gcmVzcG9uZGVySW5zdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBleHRyYWN0ZWQgPSB2b2lkIDA7XG4gIHZhciBncmFudEV2ZW50ID0gUmVzcG9uZGVyU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgIGV2ZW50VHlwZXMucmVzcG9uZGVyR3JhbnQsXG4gICAgd2FudHNSZXNwb25kZXJJbnN0LFxuICAgIG5hdGl2ZUV2ZW50LFxuICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICk7XG4gIGdyYW50RXZlbnQudG91Y2hIaXN0b3J5ID0gUmVzcG9uZGVyVG91Y2hIaXN0b3J5U3RvcmUudG91Y2hIaXN0b3J5O1xuXG4gIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGdyYW50RXZlbnQpO1xuICB2YXIgYmxvY2tIb3N0UmVzcG9uZGVyID0gZXhlY3V0ZURpcmVjdERpc3BhdGNoKGdyYW50RXZlbnQpID09PSB0cnVlO1xuICBpZiAocmVzcG9uZGVySW5zdCkge1xuICAgIHZhciB0ZXJtaW5hdGlvblJlcXVlc3RFdmVudCA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgIGV2ZW50VHlwZXMucmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgcmVzcG9uZGVySW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICApO1xuICAgIHRlcm1pbmF0aW9uUmVxdWVzdEV2ZW50LnRvdWNoSGlzdG9yeSA9XG4gICAgICBSZXNwb25kZXJUb3VjaEhpc3RvcnlTdG9yZS50b3VjaEhpc3Rvcnk7XG4gICAgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXModGVybWluYXRpb25SZXF1ZXN0RXZlbnQpO1xuICAgIHZhciBzaG91bGRTd2l0Y2ggPVxuICAgICAgIWhhc0Rpc3BhdGNoZXModGVybWluYXRpb25SZXF1ZXN0RXZlbnQpIHx8XG4gICAgICBleGVjdXRlRGlyZWN0RGlzcGF0Y2godGVybWluYXRpb25SZXF1ZXN0RXZlbnQpO1xuICAgIGlmICghdGVybWluYXRpb25SZXF1ZXN0RXZlbnQuaXNQZXJzaXN0ZW50KCkpIHtcbiAgICAgIHRlcm1pbmF0aW9uUmVxdWVzdEV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UodGVybWluYXRpb25SZXF1ZXN0RXZlbnQpO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRTd2l0Y2gpIHtcbiAgICAgIHZhciB0ZXJtaW5hdGVFdmVudCA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgICAgZXZlbnRUeXBlcy5yZXNwb25kZXJUZXJtaW5hdGUsXG4gICAgICAgIHJlc3BvbmRlckluc3QsXG4gICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgKTtcbiAgICAgIHRlcm1pbmF0ZUV2ZW50LnRvdWNoSGlzdG9yeSA9IFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeTtcbiAgICAgIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKHRlcm1pbmF0ZUV2ZW50KTtcbiAgICAgIGV4dHJhY3RlZCA9IGFjY3VtdWxhdGUoZXh0cmFjdGVkLCBbZ3JhbnRFdmVudCwgdGVybWluYXRlRXZlbnRdKTtcbiAgICAgIGNoYW5nZVJlc3BvbmRlcih3YW50c1Jlc3BvbmRlckluc3QsIGJsb2NrSG9zdFJlc3BvbmRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZWplY3RFdmVudCA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgICAgZXZlbnRUeXBlcy5yZXNwb25kZXJSZWplY3QsXG4gICAgICAgIHdhbnRzUmVzcG9uZGVySW5zdCxcbiAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApO1xuICAgICAgcmVqZWN0RXZlbnQudG91Y2hIaXN0b3J5ID0gUmVzcG9uZGVyVG91Y2hIaXN0b3J5U3RvcmUudG91Y2hIaXN0b3J5O1xuICAgICAgYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMocmVqZWN0RXZlbnQpO1xuICAgICAgZXh0cmFjdGVkID0gYWNjdW11bGF0ZShleHRyYWN0ZWQsIHJlamVjdEV2ZW50KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZXh0cmFjdGVkID0gYWNjdW11bGF0ZShleHRyYWN0ZWQsIGdyYW50RXZlbnQpO1xuICAgIGNoYW5nZVJlc3BvbmRlcih3YW50c1Jlc3BvbmRlckluc3QsIGJsb2NrSG9zdFJlc3BvbmRlcik7XG4gIH1cbiAgcmV0dXJuIGV4dHJhY3RlZDtcbn1cblxuLyoqXG4gKiBBIHRyYW5zZmVyIGlzIGEgbmVnb3RpYXRpb24gYmV0d2VlbiBhIGN1cnJlbnRseSBzZXQgcmVzcG9uZGVyIGFuZCB0aGUgbmV4dFxuICogZWxlbWVudCB0byBjbGFpbSByZXNwb25kZXIgc3RhdHVzLiBBbnkgc3RhcnQgZXZlbnQgY291bGQgdHJpZ2dlciBhIHRyYW5zZmVyXG4gKiBvZiByZXNwb25kZXJJbnN0LiBBbnkgbW92ZSBldmVudCBjb3VsZCB0cmlnZ2VyIGEgdHJhbnNmZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgQnJvd3NlckV2ZW50Q29uc3RhbnRzYC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYSB0cmFuc2ZlciBvZiByZXNwb25kZXIgY291bGQgcG9zc2libHkgb2NjdXIuXG4gKi9cbmZ1bmN0aW9uIGNhblRyaWdnZXJUcmFuc2Zlcih0b3BMZXZlbFR5cGUsIHRvcExldmVsSW5zdCwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIChcbiAgICB0b3BMZXZlbEluc3QgJiZcbiAgICAvLyByZXNwb25kZXJJZ25vcmVTY3JvbGw6IFdlIGFyZSB0cnlpbmcgdG8gbWlncmF0ZSBhd2F5IGZyb20gc3BlY2lmaWNhbGx5XG4gICAgLy8gdHJhY2tpbmcgbmF0aXZlIHNjcm9sbCBldmVudHMgaGVyZSBhbmQgcmVzcG9uZGVySWdub3JlU2Nyb2xsIGluZGljYXRlcyB3ZVxuICAgIC8vIHdpbGwgc2VuZCB0b3BUb3VjaENhbmNlbCB0byBoYW5kbGUgY2FuY2VsaW5nIHRvdWNoIGV2ZW50cyBpbnN0ZWFkXG4gICAgKCh0b3BMZXZlbFR5cGUgPT09IFwidG9wU2Nyb2xsXCIgJiYgIW5hdGl2ZUV2ZW50LnJlc3BvbmRlcklnbm9yZVNjcm9sbCkgfHxcbiAgICAgICh0cmFja2VkVG91Y2hDb3VudCA+IDAgJiYgdG9wTGV2ZWxUeXBlID09PSBcInRvcFNlbGVjdGlvbkNoYW5nZVwiKSB8fFxuICAgICAgaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpIHx8XG4gICAgICBpc01vdmVpc2godG9wTGV2ZWxUeXBlKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoaXMgdG91Y2ggZW5kIGV2ZW50IG1ha2VzIGl0IHN1Y2ggdGhhdCB0aGVyZSBhcmUgbm9cbiAqIGxvbmdlciBhbnkgdG91Y2hlcyB0aGF0IHN0YXJ0ZWQgaW5zaWRlIG9mIHRoZSBjdXJyZW50IGByZXNwb25kZXJJbnN0YC5cbiAqXG4gKiBAcGFyYW0ge05hdGl2ZUV2ZW50fSBuYXRpdmVFdmVudCBOYXRpdmUgdG91Y2ggZW5kIGV2ZW50LlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhpcyB0b3VjaCBlbmQgZXZlbnQgZW5kcyB0aGUgcmVzcG9uZGVyLlxuICovXG5mdW5jdGlvbiBub1Jlc3BvbmRlclRvdWNoZXMobmF0aXZlRXZlbnQpIHtcbiAgdmFyIHRvdWNoZXMgPSBuYXRpdmVFdmVudC50b3VjaGVzO1xuICBpZiAoIXRvdWNoZXMgfHwgdG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYWN0aXZlVG91Y2ggPSB0b3VjaGVzW2ldO1xuICAgIHZhciB0YXJnZXQgPSBhY3RpdmVUb3VjaC50YXJnZXQ7XG4gICAgaWYgKHRhcmdldCAhPT0gbnVsbCAmJiB0YXJnZXQgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQgIT09IDApIHtcbiAgICAgIC8vIElzIHRoZSBvcmlnaW5hbCB0b3VjaCBsb2NhdGlvbiBpbnNpZGUgb2YgdGhlIGN1cnJlbnQgcmVzcG9uZGVyP1xuICAgICAgdmFyIHRhcmdldEluc3QgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKHRhcmdldCk7XG4gICAgICBpZiAoaXNBbmNlc3RvcihyZXNwb25kZXJJbnN0LCB0YXJnZXRJbnN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG52YXIgUmVzcG9uZGVyRXZlbnRQbHVnaW4gPSB7XG4gIC8qIEZvciB1bml0IHRlc3Rpbmcgb25seSAqL1xuICBfZ2V0UmVzcG9uZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcmVzcG9uZGVySW5zdDtcbiAgfSxcblxuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIC8qKlxuICAgKiBXZSBtdXN0IGJlIHJlc2lsaWVudCB0byBgdGFyZ2V0SW5zdGAgYmVpbmcgYG51bGxgIG9uIGB0b3VjaE1vdmVgIG9yXG4gICAqIGB0b3VjaEVuZGAuIE9uIGNlcnRhaW4gcGxhdGZvcm1zLCB0aGlzIG1lYW5zIHRoYXQgYSBuYXRpdmUgc2Nyb2xsIGhhc1xuICAgKiBhc3N1bWVkIGNvbnRyb2wgYW5kIHRoZSBvcmlnaW5hbCB0b3VjaCB0YXJnZXRzIGFyZSBkZXN0cm95ZWQuXG4gICAqL1xuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbihcbiAgICB0b3BMZXZlbFR5cGUsXG4gICAgdGFyZ2V0SW5zdCxcbiAgICBuYXRpdmVFdmVudCxcbiAgICBuYXRpdmVFdmVudFRhcmdldFxuICApIHtcbiAgICBpZiAoaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpKSB7XG4gICAgICB0cmFja2VkVG91Y2hDb3VudCArPSAxO1xuICAgIH0gZWxzZSBpZiAoaXNFbmRpc2godG9wTGV2ZWxUeXBlKSkge1xuICAgICAgaWYgKHRyYWNrZWRUb3VjaENvdW50ID49IDApIHtcbiAgICAgICAgdHJhY2tlZFRvdWNoQ291bnQgLT0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFbmRlZCBhIHRvdWNoIGV2ZW50IHdoaWNoIHdhcyBub3QgY291bnRlZCBpbiBgdHJhY2tlZFRvdWNoQ291bnRgLlwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnJlY29yZFRvdWNoVHJhY2sodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCk7XG5cbiAgICB2YXIgZXh0cmFjdGVkID0gY2FuVHJpZ2dlclRyYW5zZmVyKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgbmF0aXZlRXZlbnQpXG4gICAgICA/IHNldFJlc3BvbmRlckFuZEV4dHJhY3RUcmFuc2ZlcihcbiAgICAgICAgICB0b3BMZXZlbFR5cGUsXG4gICAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICApXG4gICAgICA6IG51bGw7XG4gICAgLy8gUmVzcG9uZGVyIG1heSBvciBtYXkgbm90IGhhdmUgdHJhbnNmZXJyZWQgb24gYSBuZXcgdG91Y2ggc3RhcnQvbW92ZS5cbiAgICAvLyBSZWdhcmRsZXNzLCB3aG9ldmVyIGlzIHRoZSByZXNwb25kZXIgYWZ0ZXIgYW55IHBvdGVudGlhbCB0cmFuc2Zlciwgd2VcbiAgICAvLyBkaXJlY3QgYWxsIHRvdWNoIHN0YXJ0L21vdmUvZW5kcyB0byB0aGVtIGluIHRoZSBmb3JtIG9mXG4gICAgLy8gYG9uUmVzcG9uZGVyTW92ZS9TdGFydC9FbmRgLiBUaGVzZSB3aWxsIGJlIGNhbGxlZCBmb3IgKmV2ZXJ5KiBhZGRpdGlvbmFsXG4gICAgLy8gZmluZ2VyIHRoYXQgbW92ZS9zdGFydC9lbmQsIGRpc3BhdGNoZWQgZGlyZWN0bHkgdG8gd2hvZXZlciBpcyB0aGVcbiAgICAvLyBjdXJyZW50IHJlc3BvbmRlciBhdCB0aGF0IG1vbWVudCwgdW50aWwgdGhlIHJlc3BvbmRlciBpcyBcInJlbGVhc2VkXCIuXG4gICAgLy9cbiAgICAvLyBUaGVzZSBtdWx0aXBsZSBpbmRpdmlkdWFsIGNoYW5nZSB0b3VjaCBldmVudHMgYXJlIGFyZSBhbHdheXMgYm9va2VuZGVkXG4gICAgLy8gYnkgYG9uUmVzcG9uZGVyR3JhbnRgLCBhbmQgb25lIG9mXG4gICAgLy8gKGBvblJlc3BvbmRlclJlbGVhc2Uvb25SZXNwb25kZXJUZXJtaW5hdGVgKS5cbiAgICB2YXIgaXNSZXNwb25kZXJUb3VjaFN0YXJ0ID0gcmVzcG9uZGVySW5zdCAmJiBpc1N0YXJ0aXNoKHRvcExldmVsVHlwZSk7XG4gICAgdmFyIGlzUmVzcG9uZGVyVG91Y2hNb3ZlID0gcmVzcG9uZGVySW5zdCAmJiBpc01vdmVpc2godG9wTGV2ZWxUeXBlKTtcbiAgICB2YXIgaXNSZXNwb25kZXJUb3VjaEVuZCA9IHJlc3BvbmRlckluc3QgJiYgaXNFbmRpc2godG9wTGV2ZWxUeXBlKTtcbiAgICB2YXIgaW5jcmVtZW50YWxUb3VjaCA9IGlzUmVzcG9uZGVyVG91Y2hTdGFydFxuICAgICAgPyBldmVudFR5cGVzLnJlc3BvbmRlclN0YXJ0XG4gICAgICA6IGlzUmVzcG9uZGVyVG91Y2hNb3ZlXG4gICAgICAgID8gZXZlbnRUeXBlcy5yZXNwb25kZXJNb3ZlXG4gICAgICAgIDogaXNSZXNwb25kZXJUb3VjaEVuZCA/IGV2ZW50VHlwZXMucmVzcG9uZGVyRW5kIDogbnVsbDtcblxuICAgIGlmIChpbmNyZW1lbnRhbFRvdWNoKSB7XG4gICAgICB2YXIgZ2VzdHVyZSA9IFJlc3BvbmRlclN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChcbiAgICAgICAgaW5jcmVtZW50YWxUb3VjaCxcbiAgICAgICAgcmVzcG9uZGVySW5zdCxcbiAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApO1xuICAgICAgZ2VzdHVyZS50b3VjaEhpc3RvcnkgPSBSZXNwb25kZXJUb3VjaEhpc3RvcnlTdG9yZS50b3VjaEhpc3Rvcnk7XG4gICAgICBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyhnZXN0dXJlKTtcbiAgICAgIGV4dHJhY3RlZCA9IGFjY3VtdWxhdGUoZXh0cmFjdGVkLCBnZXN0dXJlKTtcbiAgICB9XG5cbiAgICB2YXIgaXNSZXNwb25kZXJUZXJtaW5hdGUgPVxuICAgICAgcmVzcG9uZGVySW5zdCAmJiB0b3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hDYW5jZWxcIjtcbiAgICB2YXIgaXNSZXNwb25kZXJSZWxlYXNlID1cbiAgICAgIHJlc3BvbmRlckluc3QgJiZcbiAgICAgICFpc1Jlc3BvbmRlclRlcm1pbmF0ZSAmJlxuICAgICAgaXNFbmRpc2godG9wTGV2ZWxUeXBlKSAmJlxuICAgICAgbm9SZXNwb25kZXJUb3VjaGVzKG5hdGl2ZUV2ZW50KTtcbiAgICB2YXIgZmluYWxUb3VjaCA9IGlzUmVzcG9uZGVyVGVybWluYXRlXG4gICAgICA/IGV2ZW50VHlwZXMucmVzcG9uZGVyVGVybWluYXRlXG4gICAgICA6IGlzUmVzcG9uZGVyUmVsZWFzZSA/IGV2ZW50VHlwZXMucmVzcG9uZGVyUmVsZWFzZSA6IG51bGw7XG4gICAgaWYgKGZpbmFsVG91Y2gpIHtcbiAgICAgIHZhciBmaW5hbEV2ZW50ID0gUmVzcG9uZGVyU3ludGhldGljRXZlbnQuZ2V0UG9vbGVkKFxuICAgICAgICBmaW5hbFRvdWNoLFxuICAgICAgICByZXNwb25kZXJJbnN0LFxuICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICk7XG4gICAgICBmaW5hbEV2ZW50LnRvdWNoSGlzdG9yeSA9IFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeTtcbiAgICAgIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGZpbmFsRXZlbnQpO1xuICAgICAgZXh0cmFjdGVkID0gYWNjdW11bGF0ZShleHRyYWN0ZWQsIGZpbmFsRXZlbnQpO1xuICAgICAgY2hhbmdlUmVzcG9uZGVyKG51bGwpO1xuICAgIH1cblxuICAgIHZhciBudW1iZXJBY3RpdmVUb3VjaGVzID1cbiAgICAgIFJlc3BvbmRlclRvdWNoSGlzdG9yeVN0b3JlLnRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzO1xuICAgIGlmIChcbiAgICAgIFJlc3BvbmRlckV2ZW50UGx1Z2luLkdsb2JhbEludGVyYWN0aW9uSGFuZGxlciAmJlxuICAgICAgbnVtYmVyQWN0aXZlVG91Y2hlcyAhPT0gcHJldmlvdXNBY3RpdmVUb3VjaGVzXG4gICAgKSB7XG4gICAgICBSZXNwb25kZXJFdmVudFBsdWdpbi5HbG9iYWxJbnRlcmFjdGlvbkhhbmRsZXIub25DaGFuZ2UoXG4gICAgICAgIG51bWJlckFjdGl2ZVRvdWNoZXNcbiAgICAgICk7XG4gICAgfVxuICAgIHByZXZpb3VzQWN0aXZlVG91Y2hlcyA9IG51bWJlckFjdGl2ZVRvdWNoZXM7XG5cbiAgICByZXR1cm4gZXh0cmFjdGVkO1xuICB9LFxuXG4gIEdsb2JhbFJlc3BvbmRlckhhbmRsZXI6IG51bGwsXG4gIEdsb2JhbEludGVyYWN0aW9uSGFuZGxlcjogbnVsbCxcblxuICBpbmplY3Rpb246IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3tvbkNoYW5nZTogKFJlYWN0SUQsIFJlYWN0SUQpID0+IHZvaWR9IEdsb2JhbFJlc3BvbmRlckhhbmRsZXJcbiAgICAgKiBPYmplY3QgdGhhdCBoYW5kbGVzIGFueSBjaGFuZ2UgaW4gcmVzcG9uZGVyLiBVc2UgdGhpcyB0byBpbmplY3RcbiAgICAgKiBpbnRlZ3JhdGlvbiB3aXRoIGFuIGV4aXN0aW5nIHRvdWNoIGhhbmRsaW5nIHN5c3RlbSBldGMuXG4gICAgICovXG4gICAgaW5qZWN0R2xvYmFsUmVzcG9uZGVySGFuZGxlcjogZnVuY3Rpb24oR2xvYmFsUmVzcG9uZGVySGFuZGxlcikge1xuICAgICAgUmVzcG9uZGVyRXZlbnRQbHVnaW4uR2xvYmFsUmVzcG9uZGVySGFuZGxlciA9IEdsb2JhbFJlc3BvbmRlckhhbmRsZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7e29uQ2hhbmdlOiAobnVtYmVyQWN0aXZlVG91Y2hlcykgPT4gdm9pZH0gR2xvYmFsSW50ZXJhY3Rpb25IYW5kbGVyXG4gICAgICogT2JqZWN0IHRoYXQgaGFuZGxlcyBhbnkgY2hhbmdlIGluIHRoZSBudW1iZXIgb2YgYWN0aXZlIHRvdWNoZXMuXG4gICAgICovXG4gICAgaW5qZWN0R2xvYmFsSW50ZXJhY3Rpb25IYW5kbGVyOiBmdW5jdGlvbihHbG9iYWxJbnRlcmFjdGlvbkhhbmRsZXIpIHtcbiAgICAgIFJlc3BvbmRlckV2ZW50UGx1Z2luLkdsb2JhbEludGVyYWN0aW9uSGFuZGxlciA9IEdsb2JhbEludGVyYWN0aW9uSGFuZGxlcjtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBjdXN0b21CdWJibGluZ0V2ZW50VHlwZXMgPSB7fTtcbnZhciBjdXN0b21EaXJlY3RFdmVudFR5cGVzID0ge307XG5cbnZhciBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luID0ge1xuICBldmVudFR5cGVzOiB7fSxcblxuICAvKipcbiAgICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuZXh0cmFjdEV2ZW50c31cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uKFxuICAgIHRvcExldmVsVHlwZSxcbiAgICB0YXJnZXRJbnN0LFxuICAgIG5hdGl2ZUV2ZW50LFxuICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICkge1xuICAgIGlmICh0YXJnZXRJbnN0ID09IG51bGwpIHtcbiAgICAgIC8vIFByb2JhYmx5IGEgbm9kZSBiZWxvbmdpbmcgdG8gYW5vdGhlciByZW5kZXJlcidzIHRyZWUuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGJ1YmJsZURpc3BhdGNoQ29uZmlnID0gY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV07XG4gICAgdmFyIGRpcmVjdERpc3BhdGNoQ29uZmlnID0gY3VzdG9tRGlyZWN0RXZlbnRUeXBlc1t0b3BMZXZlbFR5cGVdO1xuICAgIGludmFyaWFudChcbiAgICAgIGJ1YmJsZURpc3BhdGNoQ29uZmlnIHx8IGRpcmVjdERpc3BhdGNoQ29uZmlnLFxuICAgICAgJ1Vuc3VwcG9ydGVkIHRvcCBsZXZlbCBldmVudCB0eXBlIFwiJXNcIiBkaXNwYXRjaGVkJyxcbiAgICAgIHRvcExldmVsVHlwZVxuICAgICk7XG4gICAgdmFyIGV2ZW50ID0gU3ludGhldGljRXZlbnQkMS5nZXRQb29sZWQoXG4gICAgICBidWJibGVEaXNwYXRjaENvbmZpZyB8fCBkaXJlY3REaXNwYXRjaENvbmZpZyxcbiAgICAgIHRhcmdldEluc3QsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgKTtcbiAgICBpZiAoYnViYmxlRGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXMoZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0RGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbiAgfSxcblxuICBwcm9jZXNzRXZlbnRUeXBlczogZnVuY3Rpb24odmlld0NvbmZpZykge1xuICAgIHZhciBidWJibGluZ0V2ZW50VHlwZXMgPSB2aWV3Q29uZmlnLmJ1YmJsaW5nRXZlbnRUeXBlcyxcbiAgICAgIGRpcmVjdEV2ZW50VHlwZXMgPSB2aWV3Q29uZmlnLmRpcmVjdEV2ZW50VHlwZXM7XG5cbiAgICB7XG4gICAgICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwgJiYgZGlyZWN0RXZlbnRUeXBlcyAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIHRvcExldmVsVHlwZSBpbiBkaXJlY3RFdmVudFR5cGVzKSB7XG4gICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgYnViYmxpbmdFdmVudFR5cGVzW3RvcExldmVsVHlwZV0gPT0gbnVsbCxcbiAgICAgICAgICAgIFwiRXZlbnQgY2Fubm90IGJlIGJvdGggZGlyZWN0IGFuZCBidWJibGluZzogJXNcIixcbiAgICAgICAgICAgIHRvcExldmVsVHlwZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYnViYmxpbmdFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIF90b3BMZXZlbFR5cGUgaW4gYnViYmxpbmdFdmVudFR5cGVzKSB7XG4gICAgICAgIGlmIChjdXN0b21CdWJibGluZ0V2ZW50VHlwZXNbX3RvcExldmVsVHlwZV0gPT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0TmF0aXZlQnJpZGdlRXZlbnRQbHVnaW4uZXZlbnRUeXBlc1tcbiAgICAgICAgICAgIF90b3BMZXZlbFR5cGVcbiAgICAgICAgICBdID0gY3VzdG9tQnViYmxpbmdFdmVudFR5cGVzW190b3BMZXZlbFR5cGVdID1cbiAgICAgICAgICAgIGJ1YmJsaW5nRXZlbnRUeXBlc1tfdG9wTGV2ZWxUeXBlXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkaXJlY3RFdmVudFR5cGVzICE9IG51bGwpIHtcbiAgICAgIGZvciAodmFyIF90b3BMZXZlbFR5cGUyIGluIGRpcmVjdEV2ZW50VHlwZXMpIHtcbiAgICAgICAgaWYgKGN1c3RvbURpcmVjdEV2ZW50VHlwZXNbX3RvcExldmVsVHlwZTJdID09IG51bGwpIHtcbiAgICAgICAgICBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luLmV2ZW50VHlwZXNbXG4gICAgICAgICAgICBfdG9wTGV2ZWxUeXBlMlxuICAgICAgICAgIF0gPSBjdXN0b21EaXJlY3RFdmVudFR5cGVzW190b3BMZXZlbFR5cGUyXSA9XG4gICAgICAgICAgICBkaXJlY3RFdmVudFR5cGVzW190b3BMZXZlbFR5cGUyXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxudmFyIGluc3RhbmNlQ2FjaGUgPSB7fTtcbnZhciBpbnN0YW5jZVByb3BzID0ge307XG5cbmZ1bmN0aW9uIHByZWNhY2hlRmliZXJOb2RlKGhvc3RJbnN0LCB0YWcpIHtcbiAgaW5zdGFuY2VDYWNoZVt0YWddID0gaG9zdEluc3Q7XG59XG5cbmZ1bmN0aW9uIHVuY2FjaGVGaWJlck5vZGUodGFnKSB7XG4gIGRlbGV0ZSBpbnN0YW5jZUNhY2hlW3RhZ107XG4gIGRlbGV0ZSBpbnN0YW5jZVByb3BzW3RhZ107XG59XG5cbmZ1bmN0aW9uIGdldEluc3RhbmNlRnJvbVRhZyh0YWcpIHtcbiAgaWYgKHR5cGVvZiB0YWcgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VDYWNoZVt0YWddIHx8IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgLy8gRmFicmljIHdpbGwgaW52b2tlIGV2ZW50IGVtaXR0ZXJzIG9uIGEgZGlyZWN0IGZpYmVyIHJlZmVyZW5jZVxuICAgIHJldHVybiB0YWc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGFnRnJvbUluc3RhbmNlKGluc3QpIHtcbiAgdmFyIHRhZyA9IGluc3Quc3RhdGVOb2RlLl9uYXRpdmVUYWc7XG4gIGlmICh0YWcgPT09IHVuZGVmaW5lZCkge1xuICAgIHRhZyA9IGluc3Quc3RhdGVOb2RlLmNhbm9uaWNhbC5fbmF0aXZlVGFnO1xuICB9XG4gIGludmFyaWFudCh0YWcsIFwiQWxsIG5hdGl2ZSBpbnN0YW5jZXMgc2hvdWxkIGhhdmUgYSB0YWcuXCIpO1xuICByZXR1cm4gdGFnO1xufVxuXG5mdW5jdGlvbiBnZXRGaWJlckN1cnJlbnRQcm9wc0Zyb21Ob2RlJDEoc3RhdGVOb2RlKSB7XG4gIHJldHVybiBpbnN0YW5jZVByb3BzW3N0YXRlTm9kZS5fbmF0aXZlVGFnXSB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVGaWJlclByb3BzKHRhZywgcHJvcHMpIHtcbiAgaW5zdGFuY2VQcm9wc1t0YWddID0gcHJvcHM7XG59XG5cbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudFRyZWUgPSBPYmplY3QuZnJlZXplKHtcbiAgcHJlY2FjaGVGaWJlck5vZGU6IHByZWNhY2hlRmliZXJOb2RlLFxuICB1bmNhY2hlRmliZXJOb2RlOiB1bmNhY2hlRmliZXJOb2RlLFxuICBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZTogZ2V0SW5zdGFuY2VGcm9tVGFnLFxuICBnZXRJbnN0YW5jZUZyb21Ob2RlOiBnZXRJbnN0YW5jZUZyb21UYWcsXG4gIGdldE5vZGVGcm9tSW5zdGFuY2U6IGdldFRhZ0Zyb21JbnN0YW5jZSxcbiAgZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZTogZ2V0RmliZXJDdXJyZW50UHJvcHNGcm9tTm9kZSQxLFxuICB1cGRhdGVGaWJlclByb3BzOiB1cGRhdGVGaWJlclByb3BzXG59KTtcblxudmFyIFJlYWN0TmF0aXZlRXZlbnRQbHVnaW5PcmRlciA9IFtcbiAgXCJSZXNwb25kZXJFdmVudFBsdWdpblwiLFxuICBcIlJlYWN0TmF0aXZlQnJpZGdlRXZlbnRQbHVnaW5cIlxuXTtcblxuLy8gTW9kdWxlIHByb3ZpZGVkIGJ5IFJOOlxudmFyIFJlYWN0TmF0aXZlR2xvYmFsUmVzcG9uZGVySGFuZGxlciA9IHtcbiAgb25DaGFuZ2U6IGZ1bmN0aW9uKGZyb20sIHRvLCBibG9ja05hdGl2ZVJlc3BvbmRlcikge1xuICAgIGlmICh0byAhPT0gbnVsbCkge1xuICAgICAgdmFyIHRhZyA9IHRvLnN0YXRlTm9kZS5fbmF0aXZlVGFnO1xuICAgICAgVUlNYW5hZ2VyLnNldEpTUmVzcG9uZGVyKHRhZywgYmxvY2tOYXRpdmVSZXNwb25kZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBVSU1hbmFnZXIuY2xlYXJKU1Jlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBNYWtlIHN1cmUgZXNzZW50aWFsIGdsb2JhbHMgYXJlIGF2YWlsYWJsZSBhbmQgYXJlIHBhdGNoZWQgY29ycmVjdGx5LiBQbGVhc2UgZG9uJ3QgcmVtb3ZlIHRoaXNcbiAqIGxpbmUuIEJ1bmRsZXMgY3JlYXRlZCBieSByZWFjdC1wYWNrYWdlciBgcmVxdWlyZWAgaXQgYmVmb3JlIGV4ZWN1dGluZyBhbnkgYXBwbGljYXRpb24gY29kZS4gVGhpc1xuICogZW5zdXJlcyBpdCBleGlzdHMgaW4gdGhlIGRlcGVuZGVuY3kgZ3JhcGggYW5kIGNhbiBiZSBgcmVxdWlyZWBkLlxuICogVE9ETzogcmVxdWlyZSB0aGlzIGluIHBhY2thZ2VyLCBub3QgaW4gUmVhY3QgIzEwOTMyNTE3XG4gKi9cbi8vIE1vZHVsZSBwcm92aWRlZCBieSBSTjpcbi8qKlxuICogSW5qZWN0IG1vZHVsZSBmb3IgcmVzb2x2aW5nIERPTSBoaWVyYXJjaHkgYW5kIHBsdWdpbiBvcmRlcmluZy5cbiAqL1xuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luT3JkZXIoUmVhY3ROYXRpdmVFdmVudFBsdWdpbk9yZGVyKTtcbmluamVjdGlvbiQxLmluamVjdENvbXBvbmVudFRyZWUoUmVhY3ROYXRpdmVDb21wb25lbnRUcmVlKTtcblxuUmVzcG9uZGVyRXZlbnRQbHVnaW4uaW5qZWN0aW9uLmluamVjdEdsb2JhbFJlc3BvbmRlckhhbmRsZXIoXG4gIFJlYWN0TmF0aXZlR2xvYmFsUmVzcG9uZGVySGFuZGxlclxuKTtcblxuLyoqXG4gKiBTb21lIGltcG9ydGFudCBldmVudCBwbHVnaW5zIGluY2x1ZGVkIGJ5IGRlZmF1bHQgKHdpdGhvdXQgaGF2aW5nIHRvIHJlcXVpcmVcbiAqIHRoZW0pLlxuICovXG5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lKHtcbiAgUmVzcG9uZGVyRXZlbnRQbHVnaW46IFJlc3BvbmRlckV2ZW50UGx1Z2luLFxuICBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luOiBSZWFjdE5hdGl2ZUJyaWRnZUV2ZW50UGx1Z2luXG59KTtcblxuLy8gVXNlIHRvIHJlc3RvcmUgY29udHJvbGxlZCBzdGF0ZSBhZnRlciBhIGNoYW5nZSBldmVudCBoYXMgZmlyZWQuXG5cbnZhciBmaWJlckhvc3RDb21wb25lbnQgPSBudWxsO1xuXG52YXIgcmVzdG9yZVRhcmdldCA9IG51bGw7XG52YXIgcmVzdG9yZVF1ZXVlID0gbnVsbDtcblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KSB7XG4gIC8vIFdlIHBlcmZvcm0gdGhpcyB0cmFuc2xhdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBldmVudCBsb29wIHNvIHRoYXQgd2VcbiAgLy8gYWx3YXlzIHJlY2VpdmUgdGhlIGNvcnJlY3QgZmliZXIgaGVyZVxuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgLy8gVW5tb3VudGVkXG4gICAgcmV0dXJuO1xuICB9XG4gIGludmFyaWFudChcbiAgICBmaWJlckhvc3RDb21wb25lbnQgJiZcbiAgICAgIHR5cGVvZiBmaWJlckhvc3RDb21wb25lbnQucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZSA9PT0gXCJmdW5jdGlvblwiLFxuICAgIFwiRmliZXIgbmVlZHMgdG8gYmUgaW5qZWN0ZWQgdG8gaGFuZGxlIGEgZmliZXIgdGFyZ2V0IGZvciBjb250cm9sbGVkIFwiICtcbiAgICAgIFwiZXZlbnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICk7XG4gIHZhciBwcm9wcyA9IGdldEZpYmVyQ3VycmVudFByb3BzRnJvbU5vZGUoaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUpO1xuICBmaWJlckhvc3RDb21wb25lbnQucmVzdG9yZUNvbnRyb2xsZWRTdGF0ZShcbiAgICBpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSxcbiAgICBpbnRlcm5hbEluc3RhbmNlLnR5cGUsXG4gICAgcHJvcHNcbiAgKTtcbn1cblxuZnVuY3Rpb24gbmVlZHNTdGF0ZVJlc3RvcmUoKSB7XG4gIHJldHVybiByZXN0b3JlVGFyZ2V0ICE9PSBudWxsIHx8IHJlc3RvcmVRdWV1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzdG9yZVN0YXRlSWZOZWVkZWQoKSB7XG4gIGlmICghcmVzdG9yZVRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdGFyZ2V0ID0gcmVzdG9yZVRhcmdldDtcbiAgdmFyIHF1ZXVlZFRhcmdldHMgPSByZXN0b3JlUXVldWU7XG4gIHJlc3RvcmVUYXJnZXQgPSBudWxsO1xuICByZXN0b3JlUXVldWUgPSBudWxsO1xuXG4gIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCk7XG4gIGlmIChxdWV1ZWRUYXJnZXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZWRUYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN0b3JlU3RhdGVPZlRhcmdldChxdWV1ZWRUYXJnZXRzW2ldKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVXNlZCBhcyBhIHdheSB0byBjYWxsIGJhdGNoZWRVcGRhdGVzIHdoZW4gd2UgZG9uJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0b1xuLy8gdGhlIHJlbmRlcmVyLiBTdWNoIGFzIHdoZW4gd2UncmUgZGlzcGF0Y2hpbmcgZXZlbnRzIG9yIGlmIHRoaXJkIHBhcnR5XG4vLyBsaWJyYXJpZXMgbmVlZCB0byBjYWxsIGJhdGNoZWRVcGRhdGVzLiBFdmVudHVhbGx5LCB0aGlzIEFQSSB3aWxsIGdvIGF3YXkgd2hlblxuLy8gZXZlcnl0aGluZyBpcyBiYXRjaGVkIGJ5IGRlZmF1bHQuIFdlJ2xsIHRoZW4gaGF2ZSBhIHNpbWlsYXIgQVBJIHRvIG9wdC1vdXQgb2Zcbi8vIHNjaGVkdWxlZCB3b3JrIGFuZCBpbnN0ZWFkIGRvIHN5bmNocm9ub3VzIHdvcmsuXG5cbi8vIERlZmF1bHRzXG52YXIgX2JhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24oZm4sIGJvb2trZWVwaW5nKSB7XG4gIHJldHVybiBmbihib29ra2VlcGluZyk7XG59O1xudmFyIF9pbnRlcmFjdGl2ZVVwZGF0ZXMgPSBmdW5jdGlvbihmbiwgYSwgYikge1xuICByZXR1cm4gZm4oYSwgYik7XG59O1xudmFyIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IGZ1bmN0aW9uKCkge307XG5cbnZhciBpc0JhdGNoaW5nID0gZmFsc2U7XG5mdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyhmbiwgYm9va2tlZXBpbmcpIHtcbiAgaWYgKGlzQmF0Y2hpbmcpIHtcbiAgICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IGluc2lkZSBhbm90aGVyIGJhdGNoLCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXRcbiAgICAvLyBmdWxseSBjb21wbGV0ZXMgYmVmb3JlIHJlc3RvcmluZyBzdGF0ZS5cbiAgICByZXR1cm4gZm4oYm9va2tlZXBpbmcpO1xuICB9XG4gIGlzQmF0Y2hpbmcgPSB0cnVlO1xuICB0cnkge1xuICAgIHJldHVybiBfYmF0Y2hlZFVwZGF0ZXMoZm4sIGJvb2trZWVwaW5nKTtcbiAgfSBmaW5hbGx5IHtcbiAgICAvLyBIZXJlIHdlIHdhaXQgdW50aWwgYWxsIHVwZGF0ZXMgaGF2ZSBwcm9wYWdhdGVkLCB3aGljaCBpcyBpbXBvcnRhbnRcbiAgICAvLyB3aGVuIHVzaW5nIGNvbnRyb2xsZWQgY29tcG9uZW50cyB3aXRoaW4gbGF5ZXJzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTY5OFxuICAgIC8vIFRoZW4gd2UgcmVzdG9yZSBzdGF0ZSBvZiBhbnkgY29udHJvbGxlZCBjb21wb25lbnQuXG4gICAgaXNCYXRjaGluZyA9IGZhbHNlO1xuICAgIHZhciBjb250cm9sbGVkQ29tcG9uZW50c0hhdmVQZW5kaW5nVXBkYXRlcyA9IG5lZWRzU3RhdGVSZXN0b3JlKCk7XG4gICAgaWYgKGNvbnRyb2xsZWRDb21wb25lbnRzSGF2ZVBlbmRpbmdVcGRhdGVzKSB7XG4gICAgICAvLyBJZiBhIGNvbnRyb2xsZWQgZXZlbnQgd2FzIGZpcmVkLCB3ZSBtYXkgbmVlZCB0byByZXN0b3JlIHRoZSBzdGF0ZSBvZlxuICAgICAgLy8gdGhlIERPTSBub2RlIGJhY2sgdG8gdGhlIGNvbnRyb2xsZWQgdmFsdWUuIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gUmVhY3RcbiAgICAgIC8vIGJhaWxzIG91dCBvZiB0aGUgdXBkYXRlIHdpdGhvdXQgdG91Y2hpbmcgdGhlIERPTS5cbiAgICAgIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcygpO1xuICAgICAgcmVzdG9yZVN0YXRlSWZOZWVkZWQoKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGluamVjdGlvbiQyID0ge1xuICBpbmplY3RSZW5kZXJlcjogZnVuY3Rpb24ocmVuZGVyZXIpIHtcbiAgICBfYmF0Y2hlZFVwZGF0ZXMgPSByZW5kZXJlci5iYXRjaGVkVXBkYXRlcztcbiAgICBfaW50ZXJhY3RpdmVVcGRhdGVzID0gcmVuZGVyZXIuaW50ZXJhY3RpdmVVcGRhdGVzO1xuICAgIF9mbHVzaEludGVyYWN0aXZlVXBkYXRlcyA9IHJlbmRlcmVyLmZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzO1xuICB9XG59O1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIGFsbG9jYXRpbmcgYW5kIGFzc29jaWF0aW5nIG5hdGl2ZSBcInRhZ3NcIiB3aGljaCBhcmUgbnVtZXJpYyxcbiAqIHVuaXF1ZSB2aWV3IElEcy4gQWxsIHRoZSBuYXRpdmUgdGFncyBhcmUgbmVnYXRpdmUgbnVtYmVycywgdG8gYXZvaWRcbiAqIGNvbGxpc2lvbnMsIGJ1dCBpbiB0aGUgSlMgd2Uga2VlcCB0cmFjayBvZiB0aGVtIGFzIHBvc2l0aXZlIGludGVnZXJzIHRvIHN0b3JlXG4gKiB0aGVtIGVmZmVjdGl2ZWx5IGluIEFycmF5cy4gU28gd2UgbXVzdCByZWZlciB0byB0aGVtIGFzIFwiaW52ZXJzZXNcIiBvZiB0aGVcbiAqIG5hdGl2ZSB0YWdzICh0aGF0IGFyZSAqIG5vcm1hbGx5IG5lZ2F0aXZlKS5cbiAqXG4gKiBJdCAqbXVzdCogYmUgdGhlIGNhc2UgdGhhdCBldmVyeSBgcm9vdE5vZGVJRGAgYWx3YXlzIG1hcHMgdG8gdGhlIGV4YWN0IHNhbWVcbiAqIGB0YWdgIGZvcmV2ZXIuIFRoZSBlYXNpZXN0IHdheSB0byBhY2NvbXBsaXNoIHRoaXMgaXMgdG8gbmV2ZXIgZGVsZXRlXG4gKiBhbnl0aGluZyBmcm9tIHRoaXMgdGFibGUuXG4gKiBXaHk6IEJlY2F1c2UgYGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRGAgcmVsaWVzIG9uIGJlaW5nIGFibGUgdG9cbiAqIHVubW91bnQgYSBjb21wb25lbnQgd2l0aCBhIGByb290Tm9kZUlEYCwgdGhlbiBtb3VudCBhIG5ldyBvbmUgaW4gaXRzIHBsYWNlLFxuICovXG52YXIgSU5JVElBTF9UQUdfQ09VTlQgPSAxO1xudmFyIFJlYWN0TmF0aXZlVGFnSGFuZGxlcyA9IHtcbiAgdGFnc1N0YXJ0QXQ6IElOSVRJQUxfVEFHX0NPVU5ULFxuICB0YWdDb3VudDogSU5JVElBTF9UQUdfQ09VTlQsXG5cbiAgYWxsb2NhdGVUYWc6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFNraXAgb3ZlciByb290IElEcyBhcyB0aG9zZSBhcmUgcmVzZXJ2ZWQgZm9yIG5hdGl2ZVxuICAgIHdoaWxlICh0aGlzLnJlYWN0VGFnSXNOYXRpdmVUb3BSb290SUQoUmVhY3ROYXRpdmVUYWdIYW5kbGVzLnRhZ0NvdW50KSkge1xuICAgICAgUmVhY3ROYXRpdmVUYWdIYW5kbGVzLnRhZ0NvdW50Kys7XG4gICAgfVxuICAgIHZhciB0YWcgPSBSZWFjdE5hdGl2ZVRhZ0hhbmRsZXMudGFnQ291bnQ7XG4gICAgUmVhY3ROYXRpdmVUYWdIYW5kbGVzLnRhZ0NvdW50Kys7XG4gICAgcmV0dXJuIHRhZztcbiAgfSxcblxuICBhc3NlcnRSb290VGFnOiBmdW5jdGlvbih0YWcpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0aGlzLnJlYWN0VGFnSXNOYXRpdmVUb3BSb290SUQodGFnKSxcbiAgICAgIFwiRXhwZWN0IGEgbmF0aXZlIHJvb3QgdGFnLCBpbnN0ZWFkIGdvdCAlc1wiLFxuICAgICAgdGFnXG4gICAgKTtcbiAgfSxcblxuICByZWFjdFRhZ0lzTmF0aXZlVG9wUm9vdElEOiBmdW5jdGlvbihyZWFjdFRhZykge1xuICAgIC8vIFdlIHJlc2VydmUgYWxsIHRhZ3MgdGhhdCBhcmUgMSBtb2QgMTAgZm9yIG5hdGl2ZSByb290IHZpZXdzXG4gICAgcmV0dXJuIHJlYWN0VGFnICUgMTAgPT09IDE7XG4gIH1cbn07XG5cbi8qKlxuICogVmVyc2lvbiBvZiBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyYCB0aGF0IHdvcmtzIG9uIHRoZSByZWNlaXZpbmcgc2lkZSBvZiBhXG4gKiBzZXJpYWxpemVkIHdvcmtlciBib3VuZGFyeS5cbiAqL1xuXG4vLyBTaGFyZWQgZGVmYXVsdCBlbXB0eSBuYXRpdmUgZXZlbnQgLSBjb25zZXJ2ZSBtZW1vcnkuXG52YXIgRU1QVFlfTkFUSVZFX0VWRU5UID0ge307XG5cbi8qKlxuICogU2VsZWN0cyBhIHN1YnNlcXVlbmNlIG9mIGBUb3VjaGBlcywgd2l0aG91dCBkZXN0cm95aW5nIGB0b3VjaGVzYC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFRvdWNoPn0gdG91Y2hlcyBEZXNlcmlhbGl6ZWQgdG91Y2ggb2JqZWN0cy5cbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyPn0gaW5kaWNlcyBJbmRpY2VzIGJ5IHdoaWNoIHRvIHB1bGwgc3Vic2VxdWVuY2UuXG4gKiBAcmV0dXJuIHtBcnJheTxUb3VjaD59IFN1YnNlcXVlbmNlIG9mIHRvdWNoIG9iamVjdHMuXG4gKi9cbnZhciB0b3VjaFN1YnNlcXVlbmNlID0gZnVuY3Rpb24odG91Y2hlcywgaW5kaWNlcykge1xuICB2YXIgcmV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgIHJldC5wdXNoKHRvdWNoZXNbaW5kaWNlc1tpXV0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG4vKipcbiAqIFRPRE86IFBvb2wgYWxsIG9mIHRoaXMuXG4gKlxuICogRGVzdHJveXMgYHRvdWNoZXNgIGJ5IHJlbW92aW5nIHRvdWNoIG9iamVjdHMgYXQgaW5kaWNlcyBgaW5kaWNlc2AuIFRoaXMgaXNcbiAqIHRvIG1haW50YWluIGNvbXBhdGliaWxpdHkgd2l0aCBXM0MgdG91Y2ggXCJlbmRcIiBldmVudHMsIHdoZXJlIHRoZSBhY3RpdmVcbiAqIHRvdWNoZXMgZG9uJ3QgaW5jbHVkZSB0aGUgc2V0IHRoYXQgaGFzIGp1c3QgYmVlbiBcImVuZGVkXCIuXG4gKlxuICogQHBhcmFtIHtBcnJheTxUb3VjaD59IHRvdWNoZXMgRGVzZXJpYWxpemVkIHRvdWNoIG9iamVjdHMuXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGluZGljZXMgSW5kaWNlcyB0byByZW1vdmUgZnJvbSBgdG91Y2hlc2AuXG4gKiBAcmV0dXJuIHtBcnJheTxUb3VjaD59IFN1YnNlcXVlbmNlIG9mIHJlbW92ZWQgdG91Y2ggb2JqZWN0cy5cbiAqL1xudmFyIHJlbW92ZVRvdWNoZXNBdEluZGljZXMgPSBmdW5jdGlvbih0b3VjaGVzLCBpbmRpY2VzKSB7XG4gIHZhciByaXBwZWRPdXQgPSBbXTtcbiAgLy8gdXNlIGFuIHVuc2FmZSBkb3duY2FzdCB0byBhbGlhcyB0byBudWxsYWJsZSBlbGVtZW50cyxcbiAgLy8gc28gd2UgY2FuIGRlbGV0ZSBhbmQgdGhlbiBjb21wYWN0LlxuICB2YXIgdGVtcCA9IHRvdWNoZXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kaWNlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpbmRleCA9IGluZGljZXNbaV07XG4gICAgcmlwcGVkT3V0LnB1c2godG91Y2hlc1tpbmRleF0pO1xuICAgIHRlbXBbaW5kZXhdID0gbnVsbDtcbiAgfVxuICB2YXIgZmlsbEF0ID0gMDtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wLmxlbmd0aDsgaisrKSB7XG4gICAgdmFyIGN1ciA9IHRlbXBbal07XG4gICAgaWYgKGN1ciAhPT0gbnVsbCkge1xuICAgICAgdGVtcFtmaWxsQXQrK10gPSBjdXI7XG4gICAgfVxuICB9XG4gIHRlbXAubGVuZ3RoID0gZmlsbEF0O1xuICByZXR1cm4gcmlwcGVkT3V0O1xufTtcblxuLyoqXG4gKiBJbnRlcm5hbCB2ZXJzaW9uIG9mIGByZWNlaXZlRXZlbnRgIGluIHRlcm1zIG9mIG5vcm1hbGl6ZWQgKG5vbi10YWcpXG4gKiBgcm9vdE5vZGVJRGAuXG4gKlxuICogQHNlZSByZWNlaXZlRXZlbnQuXG4gKlxuICogQHBhcmFtIHtyb290Tm9kZUlEfSByb290Tm9kZUlEIFJlYWN0IHJvb3Qgbm9kZSBJRCB0aGF0IGV2ZW50IG9jY3VycmVkIG9uLlxuICogQHBhcmFtIHtUb3BMZXZlbFR5cGV9IHRvcExldmVsVHlwZSBUb3AgbGV2ZWwgdHlwZSBvZiBldmVudC5cbiAqIEBwYXJhbSB7P29iamVjdH0gbmF0aXZlRXZlbnRQYXJhbSBPYmplY3QgcGFzc2VkIGZyb20gbmF0aXZlLlxuICovXG5mdW5jdGlvbiBfcmVjZWl2ZVJvb3ROb2RlSURFdmVudChyb290Tm9kZUlELCB0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50UGFyYW0pIHtcbiAgdmFyIG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnRQYXJhbSB8fCBFTVBUWV9OQVRJVkVfRVZFTlQ7XG4gIHZhciBpbnN0ID0gZ2V0SW5zdGFuY2VGcm9tVGFnKHJvb3ROb2RlSUQpO1xuICBiYXRjaGVkVXBkYXRlcyhmdW5jdGlvbigpIHtcbiAgICBydW5FeHRyYWN0ZWRFdmVudHNJbkJhdGNoKFxuICAgICAgdG9wTGV2ZWxUeXBlLFxuICAgICAgaW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlRXZlbnQudGFyZ2V0XG4gICAgKTtcbiAgfSk7XG4gIC8vIFJlYWN0IE5hdGl2ZSBkb2Vzbid0IHVzZSBSZWFjdENvbnRyb2xsZWRDb21wb25lbnQgYnV0IGlmIGl0IGRpZCwgaGVyZSdzXG4gIC8vIHdoZXJlIGl0IHdvdWxkIGRvIGl0LlxufVxuXG4vKipcbiAqIFB1YmxpY2x5IGV4cG9zZWQgbWV0aG9kIG9uIG1vZHVsZSBmb3IgbmF0aXZlIG9iamMgdG8gaW52b2tlIHdoZW4gYSB0b3BcbiAqIGxldmVsIGV2ZW50IGlzIGV4dHJhY3RlZC5cbiAqIEBwYXJhbSB7cm9vdE5vZGVJRH0gcm9vdE5vZGVJRCBSZWFjdCByb290IG5vZGUgSUQgdGhhdCBldmVudCBvY2N1cnJlZCBvbi5cbiAqIEBwYXJhbSB7VG9wTGV2ZWxUeXBlfSB0b3BMZXZlbFR5cGUgVG9wIGxldmVsIHR5cGUgb2YgZXZlbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRQYXJhbSBPYmplY3QgcGFzc2VkIGZyb20gbmF0aXZlLlxuICovXG5mdW5jdGlvbiByZWNlaXZlRXZlbnQocm9vdE5vZGVJRCwgdG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudFBhcmFtKSB7XG4gIF9yZWNlaXZlUm9vdE5vZGVJREV2ZW50KHJvb3ROb2RlSUQsIHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnRQYXJhbSk7XG59XG5cbi8qKlxuICogU2ltcGxlIG11bHRpLXdyYXBwZXIgYXJvdW5kIGByZWNlaXZlRXZlbnRgIHRoYXQgaXMgaW50ZW5kZWQgdG8gcmVjZWl2ZSBhblxuICogZWZmaWNpZW50IHJlcHJlc2VudGF0aW9uIG9mIGBUb3VjaGAgb2JqZWN0cywgYW5kIG90aGVyIGluZm9ybWF0aW9uIHRoYXRcbiAqIGNhbiBiZSB1c2VkIHRvIGNvbnN0cnVjdCBXM0MgY29tcGxpYW50IGBFdmVudGAgYW5kIGBUb3VjaGAgbGlzdHMuXG4gKlxuICogVGhpcyBtYXkgY3JlYXRlIGRpc3BhdGNoIGJlaGF2aW9yIHRoYXQgZGlmZmVycyB0aGFuIHdlYiB0b3VjaCBoYW5kbGluZy4gV2VcbiAqIGxvb3AgdGhyb3VnaCBlYWNoIG9mIHRoZSBjaGFuZ2VkIHRvdWNoZXMgYW5kIHJlY2VpdmUgaXQgYXMgYSBzaW5nbGUgZXZlbnQuXG4gKiBTbyB0d28gYHRvdWNoU3RhcnRgL2B0b3VjaE1vdmVgcyB0aGF0IG9jY3VyIHNpbXVsdGFuZW91c2x5IGFyZSByZWNlaXZlZCBhc1xuICogdHdvIHNlcGFyYXRlIHRvdWNoIGV2ZW50IGRpc3BhdGNoZXMgLSB3aGVuIHRoZXkgYXJndWFibHkgc2hvdWxkIGJlIG9uZS5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIHJldXNlcyB0aGUgYFRvdWNoYCBvYmplY3RzIHRoZW1zZWx2ZXMgYXMgdGhlIGBFdmVudGBzXG4gKiBzaW5jZSB3ZSBkaXNwYXRjaCBhbiBldmVudCBmb3IgZWFjaCB0b3VjaCAodGhvdWdoIHRoYXQgbWlnaHQgbm90IGJlIHNwZWNcbiAqIGNvbXBsaWFudCkuIFRoZSBtYWluIHB1cnBvc2Ugb2YgcmV1c2luZyB0aGVtIGlzIHRvIHNhdmUgYWxsb2NhdGlvbnMuXG4gKlxuICogVE9ETzogRGlzcGF0Y2ggbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzIGluIG9uZSBldmVudC4gVGhlIGJ1YmJsZSBwYXRoXG4gKiBjb3VsZCBiZSB0aGUgZmlyc3QgY29tbW9uIGFuY2VzdG9yIG9mIGFsbCB0aGUgYGNoYW5nZWRUb3VjaGVzYC5cbiAqXG4gKiBPbmUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoaXMgYmVoYXZpb3IgYW5kIFczQyBzcGVjOiBjYW5jZWxsZWQgdG91Y2hlcyB3aWxsXG4gKiBub3QgYXBwZWFyIGluIGAudG91Y2hlc2AsIG9yIGluIGFueSBmdXR1cmUgYC50b3VjaGVzYCwgdGhvdWdoIHRoZXkgbWF5XG4gKiBzdGlsbCBiZSBcImFjdGl2ZWx5IHRvdWNoaW5nIHRoZSBzdXJmYWNlXCIuXG4gKlxuICogV2ViIGRlc2t0b3AgcG9seWZpbGxzIG9ubHkgbmVlZCB0byBjb25zdHJ1Y3QgYSBmYWtlIHRvdWNoIGV2ZW50IHdpdGhcbiAqIGlkZW50aWZpZXIgMCwgYWxzbyBhYmFuZG9uaW5nIHRyYWRpdGlvbmFsIGNsaWNrIGhhbmRsZXJzLlxuICovXG5mdW5jdGlvbiByZWNlaXZlVG91Y2hlcyhldmVudFRvcExldmVsVHlwZSwgdG91Y2hlcywgY2hhbmdlZEluZGljZXMpIHtcbiAgdmFyIGNoYW5nZWRUb3VjaGVzID1cbiAgICBldmVudFRvcExldmVsVHlwZSA9PT0gXCJ0b3BUb3VjaEVuZFwiIHx8XG4gICAgZXZlbnRUb3BMZXZlbFR5cGUgPT09IFwidG9wVG91Y2hDYW5jZWxcIlxuICAgICAgPyByZW1vdmVUb3VjaGVzQXRJbmRpY2VzKHRvdWNoZXMsIGNoYW5nZWRJbmRpY2VzKVxuICAgICAgOiB0b3VjaFN1YnNlcXVlbmNlKHRvdWNoZXMsIGNoYW5nZWRJbmRpY2VzKTtcblxuICBmb3IgKHZhciBqaiA9IDA7IGpqIDwgY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBqaisrKSB7XG4gICAgdmFyIHRvdWNoID0gY2hhbmdlZFRvdWNoZXNbampdO1xuICAgIC8vIFRvdWNoIG9iamVjdHMgY2FuIGZ1bGZpbGwgdGhlIHJvbGUgb2YgYERPTWAgYEV2ZW50YCBvYmplY3RzIGlmIHdlIHNldFxuICAgIC8vIHRoZSBgY2hhbmdlZFRvdWNoZXNgL2B0b3VjaGVzYC4gVGhpcyBzYXZlcyBhbGxvY2F0aW9ucy5cbiAgICB0b3VjaC5jaGFuZ2VkVG91Y2hlcyA9IGNoYW5nZWRUb3VjaGVzO1xuICAgIHRvdWNoLnRvdWNoZXMgPSB0b3VjaGVzO1xuICAgIHZhciBuYXRpdmVFdmVudCA9IHRvdWNoO1xuICAgIHZhciByb290Tm9kZUlEID0gbnVsbDtcbiAgICB2YXIgdGFyZ2V0ID0gbmF0aXZlRXZlbnQudGFyZ2V0O1xuICAgIGlmICh0YXJnZXQgIT09IG51bGwgJiYgdGFyZ2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0YXJnZXQgPCBSZWFjdE5hdGl2ZVRhZ0hhbmRsZXMudGFnc1N0YXJ0QXQpIHtcbiAgICAgICAge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiQSB2aWV3IGlzIHJlcG9ydGluZyB0aGF0IGEgdG91Y2ggb2NjdXJyZWQgb24gdGFnIHplcm8uXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290Tm9kZUlEID0gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAkRmxvd0ZpeE1lIFNob3VsZG4ndCB3ZSAqbm90KiBjYWxsIGl0IGlmIHJvb3ROb2RlSUQgaXMgbnVsbD9cbiAgICBfcmVjZWl2ZVJvb3ROb2RlSURFdmVudChyb290Tm9kZUlELCBldmVudFRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9XG59XG5cbnZhciBSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlciA9IE9iamVjdC5mcmVlemUoe1xuICBnZXRMaXN0ZW5lcjogZ2V0TGlzdGVuZXIsXG4gIHJlZ2lzdHJhdGlvbk5hbWVzOiByZWdpc3RyYXRpb25OYW1lTW9kdWxlcyxcbiAgX3JlY2VpdmVSb290Tm9kZUlERXZlbnQ6IF9yZWNlaXZlUm9vdE5vZGVJREV2ZW50LFxuICByZWNlaXZlRXZlbnQ6IHJlY2VpdmVFdmVudCxcbiAgcmVjZWl2ZVRvdWNoZXM6IHJlY2VpdmVUb3VjaGVzXG59KTtcblxuLy8gTW9kdWxlIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBSZWdpc3RlciB0aGUgZXZlbnQgZW1pdHRlciB3aXRoIHRoZSBuYXRpdmUgYnJpZGdlXG4gKi9cblJDVEV2ZW50RW1pdHRlci5yZWdpc3RlcihSZWFjdE5hdGl2ZUV2ZW50RW1pdHRlcik7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbFtcImZvclwiXTtcblxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmVsZW1lbnRcIikgOiAweGVhYzc7XG52YXIgUkVBQ1RfQ0FMTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuY2FsbFwiKSA6IDB4ZWFjODtcbnZhciBSRUFDVF9SRVRVUk5fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnJldHVyblwiKSA6IDB4ZWFjOTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnBvcnRhbFwiKSA6IDB4ZWFjYTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sW1wiZm9yXCJdKFwicmVhY3QuZnJhZ21lbnRcIikgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbFxuICA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LnN0cmljdF9tb2RlXCIpXG4gIDogMHhlYWNjO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5wcm92aWRlclwiKSA6IDB4ZWFjZDtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2xbXCJmb3JcIl0oXCJyZWFjdC5jb250ZXh0XCIpIDogMHhlYWNlO1xudmFyIFJFQUNUX0FTWU5DX01PREVfVFlQRSA9IGhhc1N5bWJvbFxuICA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmFzeW5jX21vZGVcIilcbiAgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbFxuICA/IFN5bWJvbFtcImZvclwiXShcInJlYWN0LmZvcndhcmRfcmVmXCIpXG4gIDogMHhlYWQwO1xuXG52YXIgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9IFwiQEBpdGVyYXRvclwiO1xuXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWF5YmVJdGVyYXRvciA9XG4gICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbChcbiAgY2hpbGRyZW4sXG4gIGNvbnRhaW5lckluZm8sXG4gIC8vIFRPRE86IGZpZ3VyZSBvdXQgdGhlIEFQSSBmb3IgY3Jvc3MtcmVuZGVyZXIgaW1wbGVtZW50YXRpb24uXG4gIGltcGxlbWVudGF0aW9uXG4pIHtcbiAgdmFyIGtleSA9XG4gICAgYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBudWxsO1xuXG4gIHJldHVybiB7XG4gICAgLy8gVGhpcyB0YWcgYWxsb3cgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IFBvcnRhbFxuICAgICQkdHlwZW9mOiBSRUFDVF9QT1JUQUxfVFlQRSxcbiAgICBrZXk6IGtleSA9PSBudWxsID8gbnVsbCA6IFwiXCIgKyBrZXksXG4gICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgIGNvbnRhaW5lckluZm86IGNvbnRhaW5lckluZm8sXG4gICAgaW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uXG4gIH07XG59XG5cbnZhciBUb3VjaEhpc3RvcnlNYXRoID0ge1xuICAvKipcbiAgICogVGhpcyBjb2RlIGlzIG9wdGltaXplZCBhbmQgbm90IGludGVuZGVkIHRvIGxvb2sgYmVhdXRpZnVsLiBUaGlzIGFsbG93c1xuICAgKiBjb21wdXRpbmcgb2YgdG91Y2ggY2VudHJvaWRzIHRoYXQgaGF2ZSBtb3ZlZCBhZnRlciBgdG91Y2hlc0NoYW5nZWRBZnRlcmBcbiAgICogdGltZVN0YW1wLiBZb3UgY2FuIGNvbXB1dGUgdGhlIGN1cnJlbnQgY2VudHJvaWQgaW52b2x2aW5nIGFsbCB0b3VjaGVzXG4gICAqIG1vdmVzIGFmdGVyIGB0b3VjaGVzQ2hhbmdlZEFmdGVyYCwgb3IgeW91IGNhbiBjb21wdXRlIHRoZSBwcmV2aW91c1xuICAgKiBjZW50cm9pZCBvZiBhbGwgdG91Y2hlcyB0aGF0IHdlcmUgbW92ZWQgYWZ0ZXIgYHRvdWNoZXNDaGFuZ2VkQWZ0ZXJgLlxuICAgKlxuICAgKiBAcGFyYW0ge1RvdWNoSGlzdG9yeU1hdGh9IHRvdWNoSGlzdG9yeSBTdGFuZGFyZCBSZXNwb25kZXIgdG91Y2ggdHJhY2tcbiAgICogZGF0YS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvdWNoZXNDaGFuZ2VkQWZ0ZXIgdGltZVN0YW1wIGFmdGVyIHdoaWNoIG1vdmVkIHRvdWNoZXNcbiAgICogYXJlIGNvbnNpZGVyZWQgXCJhY3RpdmVseSBtb3ZpbmdcIiAtIG5vdCBqdXN0IFwiYWN0aXZlXCIuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNYQXhpcyBDb25zaWRlciBgeGAgZGltZW5zaW9uIHZzLiBgeWAgZGltZW5zaW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9mQ3VycmVudCBDb21wdXRlIGN1cnJlbnQgY2VudHJvaWQgZm9yIGFjdGl2ZWx5IG1vdmluZ1xuICAgKiB0b3VjaGVzIHZzLiBwcmV2aW91cyBjZW50cm9pZCBvZiBub3cgYWN0aXZlbHkgbW92aW5nIHRvdWNoZXMuXG4gICAqIEByZXR1cm4ge251bWJlcn0gdmFsdWUgb2YgY2VudHJvaWQgaW4gc3BlY2lmaWVkIGRpbWVuc2lvbi5cbiAgICovXG4gIGNlbnRyb2lkRGltZW5zaW9uOiBmdW5jdGlvbihcbiAgICB0b3VjaEhpc3RvcnksXG4gICAgdG91Y2hlc0NoYW5nZWRBZnRlcixcbiAgICBpc1hBeGlzLFxuICAgIG9mQ3VycmVudFxuICApIHtcbiAgICB2YXIgdG91Y2hCYW5rID0gdG91Y2hIaXN0b3J5LnRvdWNoQmFuaztcbiAgICB2YXIgdG90YWwgPSAwO1xuICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICB2YXIgb25lVG91Y2hEYXRhID1cbiAgICAgIHRvdWNoSGlzdG9yeS5udW1iZXJBY3RpdmVUb3VjaGVzID09PSAxXG4gICAgICAgID8gdG91Y2hIaXN0b3J5LnRvdWNoQmFua1t0b3VjaEhpc3RvcnkuaW5kZXhPZlNpbmdsZUFjdGl2ZVRvdWNoXVxuICAgICAgICA6IG51bGw7XG5cbiAgICBpZiAob25lVG91Y2hEYXRhICE9PSBudWxsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG9uZVRvdWNoRGF0YS50b3VjaEFjdGl2ZSAmJlxuICAgICAgICBvbmVUb3VjaERhdGEuY3VycmVudFRpbWVTdGFtcCA+IHRvdWNoZXNDaGFuZ2VkQWZ0ZXJcbiAgICAgICkge1xuICAgICAgICB0b3RhbCArPVxuICAgICAgICAgIG9mQ3VycmVudCAmJiBpc1hBeGlzXG4gICAgICAgICAgICA/IG9uZVRvdWNoRGF0YS5jdXJyZW50UGFnZVhcbiAgICAgICAgICAgIDogb2ZDdXJyZW50ICYmICFpc1hBeGlzXG4gICAgICAgICAgICAgID8gb25lVG91Y2hEYXRhLmN1cnJlbnRQYWdlWVxuICAgICAgICAgICAgICA6ICFvZkN1cnJlbnQgJiYgaXNYQXhpc1xuICAgICAgICAgICAgICAgID8gb25lVG91Y2hEYXRhLnByZXZpb3VzUGFnZVhcbiAgICAgICAgICAgICAgICA6IG9uZVRvdWNoRGF0YS5wcmV2aW91c1BhZ2VZO1xuICAgICAgICBjb3VudCA9IDE7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG91Y2hCYW5rLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0b3VjaFRyYWNrID0gdG91Y2hCYW5rW2ldO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdG91Y2hUcmFjayAhPT0gbnVsbCAmJlxuICAgICAgICAgIHRvdWNoVHJhY2sgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIHRvdWNoVHJhY2sudG91Y2hBY3RpdmUgJiZcbiAgICAgICAgICB0b3VjaFRyYWNrLmN1cnJlbnRUaW1lU3RhbXAgPj0gdG91Y2hlc0NoYW5nZWRBZnRlclxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgdG9BZGQgPSB2b2lkIDA7IC8vIFl1Y2ssIHByb2dyYW0gdGVtcG9yYXJpbHkgaW4gaW52YWxpZCBzdGF0ZS5cbiAgICAgICAgICBpZiAob2ZDdXJyZW50ICYmIGlzWEF4aXMpIHtcbiAgICAgICAgICAgIHRvQWRkID0gdG91Y2hUcmFjay5jdXJyZW50UGFnZVg7XG4gICAgICAgICAgfSBlbHNlIGlmIChvZkN1cnJlbnQgJiYgIWlzWEF4aXMpIHtcbiAgICAgICAgICAgIHRvQWRkID0gdG91Y2hUcmFjay5jdXJyZW50UGFnZVk7XG4gICAgICAgICAgfSBlbHNlIGlmICghb2ZDdXJyZW50ICYmIGlzWEF4aXMpIHtcbiAgICAgICAgICAgIHRvQWRkID0gdG91Y2hUcmFjay5wcmV2aW91c1BhZ2VYO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b0FkZCA9IHRvdWNoVHJhY2sucHJldmlvdXNQYWdlWTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG90YWwgKz0gdG9BZGQ7XG4gICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQgPiAwID8gdG90YWwgLyBjb3VudCA6IFRvdWNoSGlzdG9yeU1hdGgubm9DZW50cm9pZDtcbiAgfSxcblxuICBjdXJyZW50Q2VudHJvaWRYT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyOiBmdW5jdGlvbihcbiAgICB0b3VjaEhpc3RvcnksXG4gICAgdG91Y2hlc0NoYW5nZWRBZnRlclxuICApIHtcbiAgICByZXR1cm4gVG91Y2hIaXN0b3J5TWF0aC5jZW50cm9pZERpbWVuc2lvbihcbiAgICAgIHRvdWNoSGlzdG9yeSxcbiAgICAgIHRvdWNoZXNDaGFuZ2VkQWZ0ZXIsXG4gICAgICB0cnVlLCAvLyBpc1hBeGlzXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSxcblxuICBjdXJyZW50Q2VudHJvaWRZT2ZUb3VjaGVzQ2hhbmdlZEFmdGVyOiBmdW5jdGlvbihcbiAgICB0b3VjaEhpc3RvcnksXG4gICAgdG91Y2hlc0NoYW5nZWRBZnRlclxuICApIHtcbiAgICByZXR1cm4gVG91Y2hIaXN0b3J5TWF0aC5jZW50cm9pZERpbWVuc2lvbihcbiAgICAgIHRvdWNoSGlzdG9yeSxcbiAgICAgIHRvdWNoZXNDaGFuZ2VkQWZ0ZXIsXG4gICAgICBmYWxzZSwgLy8gaXNYQXhpc1xuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0sXG5cbiAgcHJldmlvdXNDZW50cm9pZFhPZlRvdWNoZXNDaGFuZ2VkQWZ0ZXI6IGZ1bmN0aW9uKFxuICAgIHRvdWNoSGlzdG9yeSxcbiAgICB0b3VjaGVzQ2hhbmdlZEFmdGVyXG4gICkge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgdG91Y2hlc0NoYW5nZWRBZnRlcixcbiAgICAgIHRydWUsIC8vIGlzWEF4aXNcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfSxcblxuICBwcmV2aW91c0NlbnRyb2lkWU9mVG91Y2hlc0NoYW5nZWRBZnRlcjogZnVuY3Rpb24oXG4gICAgdG91Y2hIaXN0b3J5LFxuICAgIHRvdWNoZXNDaGFuZ2VkQWZ0ZXJcbiAgKSB7XG4gICAgcmV0dXJuIFRvdWNoSGlzdG9yeU1hdGguY2VudHJvaWREaW1lbnNpb24oXG4gICAgICB0b3VjaEhpc3RvcnksXG4gICAgICB0b3VjaGVzQ2hhbmdlZEFmdGVyLFxuICAgICAgZmFsc2UsIC8vIGlzWEF4aXNcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfSxcblxuICBjdXJyZW50Q2VudHJvaWRYOiBmdW5jdGlvbih0b3VjaEhpc3RvcnkpIHtcbiAgICByZXR1cm4gVG91Y2hIaXN0b3J5TWF0aC5jZW50cm9pZERpbWVuc2lvbihcbiAgICAgIHRvdWNoSGlzdG9yeSxcbiAgICAgIDAsIC8vIHRvdWNoZXNDaGFuZ2VkQWZ0ZXJcbiAgICAgIHRydWUsIC8vIGlzWEF4aXNcbiAgICAgIHRydWVcbiAgICApO1xuICB9LFxuXG4gIGN1cnJlbnRDZW50cm9pZFk6IGZ1bmN0aW9uKHRvdWNoSGlzdG9yeSkge1xuICAgIHJldHVybiBUb3VjaEhpc3RvcnlNYXRoLmNlbnRyb2lkRGltZW5zaW9uKFxuICAgICAgdG91Y2hIaXN0b3J5LFxuICAgICAgMCwgLy8gdG91Y2hlc0NoYW5nZWRBZnRlclxuICAgICAgZmFsc2UsIC8vIGlzWEF4aXNcbiAgICAgIHRydWVcbiAgICApO1xuICB9LFxuXG4gIG5vQ2VudHJvaWQ6IC0xXG59O1xuXG4vLyBUT0RPOiB0aGlzIGlzIHNwZWNpYWwgYmVjYXVzZSBpdCBnZXRzIGltcG9ydGVkIGR1cmluZyBidWlsZC5cblxudmFyIFJlYWN0VmVyc2lvbiA9IFwiMTYuMy4xXCI7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbnZhciBvYmplY3RzID0ge307XG52YXIgdW5pcXVlSUQgPSAxO1xudmFyIGVtcHR5T2JqZWN0JDIgPSB7fTtcblxudmFyIFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5ID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnkpO1xuICB9XG5cbiAgUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnkucmVnaXN0ZXIgPSBmdW5jdGlvbiByZWdpc3RlcihvYmplY3QpIHtcbiAgICB2YXIgaWQgPSArK3VuaXF1ZUlEO1xuICAgIHtcbiAgICAgIE9iamVjdC5mcmVlemUob2JqZWN0KTtcbiAgICB9XG4gICAgb2JqZWN0c1tpZF0gPSBvYmplY3Q7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5LmdldEJ5SUQgPSBmdW5jdGlvbiBnZXRCeUlEKGlkKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgLy8gVXNlZCBpbiB0aGUgc3R5bGU9e1tjb25kaXRpb24gJiYgaWRdfSBwYXR0ZXJuLFxuICAgICAgLy8gd2Ugd2FudCBpdCB0byBiZSBhIG5vLW9wIHdoZW4gdGhlIHZhbHVlIGlzIGZhbHNlIG9yIG51bGxcbiAgICAgIHJldHVybiBlbXB0eU9iamVjdCQyO1xuICAgIH1cblxuICAgIHZhciBvYmplY3QgPSBvYmplY3RzW2lkXTtcbiAgICBpZiAoIW9iamVjdCkge1xuICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBzdHlsZSB3aXRoIGlkIGBcIiArIGlkICsgXCJgLiBTa2lwcGluZyAuLi5cIik7XG4gICAgICByZXR1cm4gZW1wdHlPYmplY3QkMjtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcblxuICByZXR1cm4gUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnk7XG59KSgpO1xuXG4vLyBNb2R1bGVzIHByb3ZpZGVkIGJ5IFJOOlxudmFyIGVtcHR5T2JqZWN0JDEgPSB7fTtcblxuLyoqXG4gKiBDcmVhdGUgYSBwYXlsb2FkIHRoYXQgY29udGFpbnMgYWxsIHRoZSB1cGRhdGVzIGJldHdlZW4gdHdvIHNldHMgb2YgcHJvcHMuXG4gKlxuICogVGhlc2UgaGVscGVycyBhcmUgYWxsIGVuY2Fwc3VsYXRlZCBpbnRvIGEgc2luZ2xlIG1vZHVsZSwgYmVjYXVzZSB0aGV5IHVzZVxuICogbXV0YXRpb24gYXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gd2hpY2ggbGVhZHMgdG8gc3VidGxlIHNoYXJlZFxuICogZGVwZW5kZW5jaWVzIGJldHdlZW4gdGhlIGNvZGUgcGF0aHMuIFRvIGF2b2lkIHRoaXMgbXV0YWJsZSBzdGF0ZSBsZWFraW5nXG4gKiBhY3Jvc3MgbW9kdWxlcywgSSd2ZSBrZXB0IHRoZW0gaXNvbGF0ZWQgdG8gdGhpcyBtb2R1bGUuXG4gKi9cblxuLy8gVHJhY2tzIHJlbW92ZWQga2V5c1xudmFyIHJlbW92ZWRLZXlzID0gbnVsbDtcbnZhciByZW1vdmVkS2V5Q291bnQgPSAwO1xuXG5mdW5jdGlvbiBkZWZhdWx0RGlmZmVyKHByZXZQcm9wLCBuZXh0UHJvcCkge1xuICBpZiAodHlwZW9mIG5leHRQcm9wICE9PSBcIm9iamVjdFwiIHx8IG5leHRQcm9wID09PSBudWxsKSB7XG4gICAgLy8gU2NhbGFycyBoYXZlIGFscmVhZHkgYmVlbiBjaGVja2VkIGZvciBlcXVhbGl0eVxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIC8vIEZvciBvYmplY3RzIGFuZCBhcnJheXMsIHRoZSBkZWZhdWx0IGRpZmZpbmcgYWxnb3JpdGhtIGlzIGEgZGVlcCBjb21wYXJlXG4gICAgcmV0dXJuIGRlZXBEaWZmZXIocHJldlByb3AsIG5leHRQcm9wKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlT2JqZWN0KGlkT3JPYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBpZE9yT2JqZWN0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIFJlYWN0TmF0aXZlUHJvcFJlZ2lzdHJ5LmdldEJ5SUQoaWRPck9iamVjdCk7XG4gIH1cbiAgcmV0dXJuIGlkT3JPYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHJlc3RvcmVEZWxldGVkVmFsdWVzSW5OZXN0ZWRBcnJheShcbiAgdXBkYXRlUGF5bG9hZCxcbiAgbm9kZSxcbiAgdmFsaWRBdHRyaWJ1dGVzXG4pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICB2YXIgaSA9IG5vZGUubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gJiYgcmVtb3ZlZEtleUNvdW50ID4gMCkge1xuICAgICAgcmVzdG9yZURlbGV0ZWRWYWx1ZXNJbk5lc3RlZEFycmF5KFxuICAgICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgICBub2RlW2ldLFxuICAgICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUgJiYgcmVtb3ZlZEtleUNvdW50ID4gMCkge1xuICAgIHZhciBvYmogPSByZXNvbHZlT2JqZWN0KG5vZGUpO1xuICAgIGZvciAodmFyIHByb3BLZXkgaW4gcmVtb3ZlZEtleXMpIHtcbiAgICAgIGlmICghcmVtb3ZlZEtleXNbcHJvcEtleV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgX25leHRQcm9wID0gb2JqW3Byb3BLZXldO1xuICAgICAgaWYgKF9uZXh0UHJvcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXR0cmlidXRlQ29uZmlnID0gdmFsaWRBdHRyaWJ1dGVzW3Byb3BLZXldO1xuICAgICAgaWYgKCFhdHRyaWJ1dGVDb25maWcpIHtcbiAgICAgICAgY29udGludWU7IC8vIG5vdCBhIHZhbGlkIG5hdGl2ZSBwcm9wXG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgX25leHRQcm9wID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgX25leHRQcm9wID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgX25leHRQcm9wID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIF9uZXh0UHJvcCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlQ29uZmlnICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIC8vIGNhc2U6ICFPYmplY3QgaXMgdGhlIGRlZmF1bHQgY2FzZVxuICAgICAgICB1cGRhdGVQYXlsb2FkW3Byb3BLZXldID0gX25leHRQcm9wO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5kaWZmID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5wcm9jZXNzID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICkge1xuICAgICAgICAvLyBjYXNlOiBDdXN0b21BdHRyaWJ1dGVDb25maWd1cmF0aW9uXG4gICAgICAgIHZhciBuZXh0VmFsdWUgPVxuICAgICAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcucHJvY2VzcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IGF0dHJpYnV0ZUNvbmZpZy5wcm9jZXNzKF9uZXh0UHJvcClcbiAgICAgICAgICAgIDogX25leHRQcm9wO1xuICAgICAgICB1cGRhdGVQYXlsb2FkW3Byb3BLZXldID0gbmV4dFZhbHVlO1xuICAgICAgfVxuICAgICAgcmVtb3ZlZEtleXNbcHJvcEtleV0gPSBmYWxzZTtcbiAgICAgIHJlbW92ZWRLZXlDb3VudC0tO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkaWZmTmVzdGVkQXJyYXlQcm9wZXJ0eShcbiAgdXBkYXRlUGF5bG9hZCxcbiAgcHJldkFycmF5LFxuICBuZXh0QXJyYXksXG4gIHZhbGlkQXR0cmlidXRlc1xuKSB7XG4gIHZhciBtaW5MZW5ndGggPVxuICAgIHByZXZBcnJheS5sZW5ndGggPCBuZXh0QXJyYXkubGVuZ3RoID8gcHJldkFycmF5Lmxlbmd0aCA6IG5leHRBcnJheS5sZW5ndGg7XG4gIHZhciBpID0gdm9pZCAwO1xuICBmb3IgKGkgPSAwOyBpIDwgbWluTGVuZ3RoOyBpKyspIHtcbiAgICAvLyBEaWZmIGFueSBpdGVtcyBpbiB0aGUgYXJyYXkgaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uLiBSZXBlYXRlZCBrZXlzXG4gICAgLy8gd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBsYXRlciB2YWx1ZXMuXG4gICAgdXBkYXRlUGF5bG9hZCA9IGRpZmZOZXN0ZWRQcm9wZXJ0eShcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICBwcmV2QXJyYXlbaV0sXG4gICAgICBuZXh0QXJyYXlbaV0sXG4gICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG4gIGZvciAoOyBpIDwgcHJldkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gQ2xlYXIgb3V0IGFsbCByZW1haW5pbmcgcHJvcGVydGllcy5cbiAgICB1cGRhdGVQYXlsb2FkID0gY2xlYXJOZXN0ZWRQcm9wZXJ0eShcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICBwcmV2QXJyYXlbaV0sXG4gICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG4gIGZvciAoOyBpIDwgbmV4dEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gQWRkIGFsbCByZW1haW5pbmcgcHJvcGVydGllcy5cbiAgICB1cGRhdGVQYXlsb2FkID0gYWRkTmVzdGVkUHJvcGVydHkoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgbmV4dEFycmF5W2ldLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbn1cblxuZnVuY3Rpb24gZGlmZk5lc3RlZFByb3BlcnR5KFxuICB1cGRhdGVQYXlsb2FkLFxuICBwcmV2UHJvcCxcbiAgbmV4dFByb3AsXG4gIHZhbGlkQXR0cmlidXRlc1xuKSB7XG4gIGlmICghdXBkYXRlUGF5bG9hZCAmJiBwcmV2UHJvcCA9PT0gbmV4dFByb3ApIHtcbiAgICAvLyBJZiBubyBwcm9wZXJ0aWVzIGhhdmUgYmVlbiBhZGRlZCwgdGhlbiB3ZSBjYW4gYmFpbCBvdXQgcXVpY2tseSBvbiBvYmplY3RcbiAgICAvLyBlcXVhbGl0eS5cbiAgICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbiAgfVxuXG4gIGlmICghcHJldlByb3AgfHwgIW5leHRQcm9wKSB7XG4gICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICByZXR1cm4gYWRkTmVzdGVkUHJvcGVydHkodXBkYXRlUGF5bG9hZCwgbmV4dFByb3AsIHZhbGlkQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIGlmIChwcmV2UHJvcCkge1xuICAgICAgcmV0dXJuIGNsZWFyTmVzdGVkUHJvcGVydHkodXBkYXRlUGF5bG9hZCwgcHJldlByb3AsIHZhbGlkQXR0cmlidXRlcyk7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVQYXlsb2FkO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KHByZXZQcm9wKSAmJiAhQXJyYXkuaXNBcnJheShuZXh0UHJvcCkpIHtcbiAgICAvLyBCb3RoIGFyZSBsZWF2ZXMsIHdlIGNhbiBkaWZmIHRoZSBsZWF2ZXMuXG4gICAgcmV0dXJuIGRpZmZQcm9wZXJ0aWVzKFxuICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgIHJlc29sdmVPYmplY3QocHJldlByb3ApLFxuICAgICAgcmVzb2x2ZU9iamVjdChuZXh0UHJvcCksXG4gICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocHJldlByb3ApICYmIEFycmF5LmlzQXJyYXkobmV4dFByb3ApKSB7XG4gICAgLy8gQm90aCBhcmUgYXJyYXlzLCB3ZSBjYW4gZGlmZiB0aGUgYXJyYXlzLlxuICAgIHJldHVybiBkaWZmTmVzdGVkQXJyYXlQcm9wZXJ0eShcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICBwcmV2UHJvcCxcbiAgICAgIG5leHRQcm9wLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHByZXZQcm9wKSkge1xuICAgIHJldHVybiBkaWZmUHJvcGVydGllcyhcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gV2Uga25vdyB0aGF0IHRoaXMgaXMgYWx3YXlzIGFuIG9iamVjdCB3aGVuIHRoZSBpbnB1dCBpcy5cbiAgICAgIGZsYXR0ZW5TdHlsZShwcmV2UHJvcCksXG4gICAgICAvLyAkRmxvd0ZpeE1lIC0gV2Uga25vdyB0aGF0IHRoaXMgaXNuJ3QgYW4gYXJyYXkgYmVjYXVzZSBvZiBhYm92ZSBmbG93LlxuICAgICAgcmVzb2x2ZU9iamVjdChuZXh0UHJvcCksXG4gICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGRpZmZQcm9wZXJ0aWVzKFxuICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgcmVzb2x2ZU9iamVjdChwcmV2UHJvcCksXG4gICAgLy8gJEZsb3dGaXhNZSAtIFdlIGtub3cgdGhhdCB0aGlzIGlzIGFsd2F5cyBhbiBvYmplY3Qgd2hlbiB0aGUgaW5wdXQgaXMuXG4gICAgZmxhdHRlblN0eWxlKG5leHRQcm9wKSxcbiAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgKTtcbn1cblxuLyoqXG4gKiBhZGROZXN0ZWRQcm9wZXJ0eSB0YWtlcyBhIHNpbmdsZSBzZXQgb2YgcHJvcHMgYW5kIHZhbGlkIGF0dHJpYnV0ZVxuICogYXR0cmlidXRlIGNvbmZpZ3VyYXRpb25zLiBJdCBwcm9jZXNzZXMgZWFjaCBwcm9wIGFuZCBhZGRzIGl0IHRvIHRoZVxuICogdXBkYXRlUGF5bG9hZC5cbiAqL1xuZnVuY3Rpb24gYWRkTmVzdGVkUHJvcGVydHkodXBkYXRlUGF5bG9hZCwgbmV4dFByb3AsIHZhbGlkQXR0cmlidXRlcykge1xuICBpZiAoIW5leHRQcm9wKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG4gIH1cblxuICBpZiAoIUFycmF5LmlzQXJyYXkobmV4dFByb3ApKSB7XG4gICAgLy8gQWRkIGVhY2ggcHJvcGVydHkgb2YgdGhlIGxlYWYuXG4gICAgcmV0dXJuIGFkZFByb3BlcnRpZXMoXG4gICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgcmVzb2x2ZU9iamVjdChuZXh0UHJvcCksXG4gICAgICB2YWxpZEF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXh0UHJvcC5sZW5ndGg7IGkrKykge1xuICAgIC8vIEFkZCBhbGwgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFycmF5LlxuICAgIHVwZGF0ZVBheWxvYWQgPSBhZGROZXN0ZWRQcm9wZXJ0eShcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICBuZXh0UHJvcFtpXSxcbiAgICAgIHZhbGlkQXR0cmlidXRlc1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbn1cblxuLyoqXG4gKiBjbGVhck5lc3RlZFByb3BlcnR5IHRha2VzIGEgc2luZ2xlIHNldCBvZiBwcm9wcyBhbmQgdmFsaWQgYXR0cmlidXRlcy4gSXRcbiAqIGFkZHMgYSBudWxsIHNlbnRpbmVsIHRvIHRoZSB1cGRhdGVQYXlsb2FkLCBmb3IgZWFjaCBwcm9wIGtleS5cbiAqL1xuZnVuY3Rpb24gY2xlYXJOZXN0ZWRQcm9wZXJ0eSh1cGRhdGVQYXlsb2FkLCBwcmV2UHJvcCwgdmFsaWRBdHRyaWJ1dGVzKSB7XG4gIGlmICghcHJldlByb3ApIHtcbiAgICByZXR1cm4gdXBkYXRlUGF5bG9hZDtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShwcmV2UHJvcCkpIHtcbiAgICAvLyBBZGQgZWFjaCBwcm9wZXJ0eSBvZiB0aGUgbGVhZi5cbiAgICByZXR1cm4gY2xlYXJQcm9wZXJ0aWVzKFxuICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgIHJlc29sdmVPYmplY3QocHJldlByb3ApLFxuICAgICAgdmFsaWRBdHRyaWJ1dGVzXG4gICAgKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJldlByb3AubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBBZGQgYWxsIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhcnJheS5cbiAgICB1cGRhdGVQYXlsb2FkID0gY2xlYXJOZXN0ZWRQcm9wZXJ0eShcbiAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICBwcmV2UHJvcFtpXSxcbiAgICAgIHZhbGlkQXR0cmlidXRlc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbi8qKlxuICogZGlmZlByb3BlcnRpZXMgdGFrZXMgdHdvIHNldHMgb2YgcHJvcHMgYW5kIGEgc2V0IG9mIHZhbGlkIGF0dHJpYnV0ZXNcbiAqIGFuZCB3cml0ZSB0byB1cGRhdGVQYXlsb2FkIHRoZSB2YWx1ZXMgdGhhdCBjaGFuZ2VkIG9yIHdlcmUgZGVsZXRlZC5cbiAqIElmIG5vIHVwZGF0ZVBheWxvYWQgaXMgcHJvdmlkZWQsIGEgbmV3IG9uZSBpcyBjcmVhdGVkIGFuZCByZXR1cm5lZCBpZlxuICogYW55dGhpbmcgY2hhbmdlZC5cbiAqL1xuZnVuY3Rpb24gZGlmZlByb3BlcnRpZXModXBkYXRlUGF5bG9hZCwgcHJldlByb3BzLCBuZXh0UHJvcHMsIHZhbGlkQXR0cmlidXRlcykge1xuICB2YXIgYXR0cmlidXRlQ29uZmlnID0gdm9pZCAwO1xuICB2YXIgbmV4dFByb3AgPSB2b2lkIDA7XG4gIHZhciBwcmV2UHJvcCA9IHZvaWQgMDtcblxuICBmb3IgKHZhciBwcm9wS2V5IGluIG5leHRQcm9wcykge1xuICAgIGF0dHJpYnV0ZUNvbmZpZyA9IHZhbGlkQXR0cmlidXRlc1twcm9wS2V5XTtcbiAgICBpZiAoIWF0dHJpYnV0ZUNvbmZpZykge1xuICAgICAgY29udGludWU7IC8vIG5vdCBhIHZhbGlkIG5hdGl2ZSBwcm9wXG4gICAgfVxuXG4gICAgcHJldlByb3AgPSBwcmV2UHJvcHNbcHJvcEtleV07XG4gICAgbmV4dFByb3AgPSBuZXh0UHJvcHNbcHJvcEtleV07XG5cbiAgICAvLyBmdW5jdGlvbnMgYXJlIGNvbnZlcnRlZCB0byBib29sZWFucyBhcyBtYXJrZXJzIHRoYXQgdGhlIGFzc29jaWF0ZWRcbiAgICAvLyBldmVudHMgc2hvdWxkIGJlIHNlbnQgZnJvbSBuYXRpdmUuXG4gICAgaWYgKHR5cGVvZiBuZXh0UHJvcCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBuZXh0UHJvcCA9IHRydWU7XG4gICAgICAvLyBJZiBuZXh0UHJvcCBpcyBub3QgYSBmdW5jdGlvbiwgdGhlbiBkb24ndCBib3RoZXIgY2hhbmdpbmcgcHJldlByb3BcbiAgICAgIC8vIHNpbmNlIG5leHRQcm9wIHdpbGwgd2luIGFuZCBnbyBpbnRvIHRoZSB1cGRhdGVQYXlsb2FkIHJlZ2FyZGxlc3MuXG4gICAgICBpZiAodHlwZW9mIHByZXZQcm9wID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcHJldlByb3AgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFuIGV4cGxpY2l0IHZhbHVlIG9mIHVuZGVmaW5lZCBpcyB0cmVhdGVkIGFzIGEgbnVsbCBiZWNhdXNlIGl0IG92ZXJyaWRlc1xuICAgIC8vIGFueSBvdGhlciBwcmVjZWRpbmcgdmFsdWUuXG4gICAgaWYgKHR5cGVvZiBuZXh0UHJvcCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgbmV4dFByb3AgPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBwcmV2UHJvcCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBwcmV2UHJvcCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlbW92ZWRLZXlzKSB7XG4gICAgICByZW1vdmVkS2V5c1twcm9wS2V5XSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh1cGRhdGVQYXlsb2FkICYmIHVwZGF0ZVBheWxvYWRbcHJvcEtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gU29tZXRoaW5nIGVsc2UgYWxyZWFkeSB0cmlnZ2VyZWQgYW4gdXBkYXRlIHRvIHRoaXMga2V5IGJlY2F1c2UgYW5vdGhlclxuICAgICAgLy8gdmFsdWUgZGlmZmVkLiBTaW5jZSB3ZSdyZSBub3cgbGF0ZXIgaW4gdGhlIG5lc3RlZCBhcnJheXMgb3VyIHZhbHVlIGlzXG4gICAgICAvLyBtb3JlIGltcG9ydGFudCBzbyB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSBpdCBhbmQgb3ZlcnJpZGUgdGhlIGV4aXN0aW5nXG4gICAgICAvLyB2YWx1ZS4gSXQgZG9lc24ndCBtYXR0ZXIgaWYgbm90aGluZyBjaGFuZ2VkLCB3ZSdsbCBzZXQgaXQgYW55d2F5LlxuXG4gICAgICAvLyBQYXR0ZXJuIG1hdGNoIG9uOiBhdHRyaWJ1dGVDb25maWdcbiAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlQ29uZmlnICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIC8vIGNhc2U6ICFPYmplY3QgaXMgdGhlIGRlZmF1bHQgY2FzZVxuICAgICAgICB1cGRhdGVQYXlsb2FkW3Byb3BLZXldID0gbmV4dFByb3A7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLmRpZmYgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLnByb2Nlc3MgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgKSB7XG4gICAgICAgIC8vIGNhc2U6IEN1c3RvbUF0dHJpYnV0ZUNvbmZpZ3VyYXRpb25cbiAgICAgICAgdmFyIG5leHRWYWx1ZSA9XG4gICAgICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5wcm9jZXNzID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gYXR0cmlidXRlQ29uZmlnLnByb2Nlc3MobmV4dFByb3ApXG4gICAgICAgICAgICA6IG5leHRQcm9wO1xuICAgICAgICB1cGRhdGVQYXlsb2FkW3Byb3BLZXldID0gbmV4dFZhbHVlO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHByZXZQcm9wID09PSBuZXh0UHJvcCkge1xuICAgICAgY29udGludWU7IC8vIG5vdGhpbmcgY2hhbmdlZFxuICAgIH1cblxuICAgIC8vIFBhdHRlcm4gbWF0Y2ggb246IGF0dHJpYnV0ZUNvbmZpZ1xuICAgIGlmICh0eXBlb2YgYXR0cmlidXRlQ29uZmlnICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAvLyBjYXNlOiAhT2JqZWN0IGlzIHRoZSBkZWZhdWx0IGNhc2VcbiAgICAgIGlmIChkZWZhdWx0RGlmZmVyKHByZXZQcm9wLCBuZXh0UHJvcCkpIHtcbiAgICAgICAgLy8gYSBub3JtYWwgbGVhZiBoYXMgY2hhbmdlZFxuICAgICAgICAodXBkYXRlUGF5bG9hZCB8fCAodXBkYXRlUGF5bG9hZCA9IHt9KSlbcHJvcEtleV0gPSBuZXh0UHJvcDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5kaWZmID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcucHJvY2VzcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgKSB7XG4gICAgICAvLyBjYXNlOiBDdXN0b21BdHRyaWJ1dGVDb25maWd1cmF0aW9uXG4gICAgICB2YXIgc2hvdWxkVXBkYXRlID1cbiAgICAgICAgcHJldlByb3AgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAodHlwZW9mIGF0dHJpYnV0ZUNvbmZpZy5kaWZmID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGF0dHJpYnV0ZUNvbmZpZy5kaWZmKHByZXZQcm9wLCBuZXh0UHJvcClcbiAgICAgICAgICA6IGRlZmF1bHREaWZmZXIocHJldlByb3AsIG5leHRQcm9wKSk7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIHZhciBfbmV4dFZhbHVlID1cbiAgICAgICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLnByb2Nlc3MgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBhdHRyaWJ1dGVDb25maWcucHJvY2VzcyhuZXh0UHJvcClcbiAgICAgICAgICAgIDogbmV4dFByb3A7XG4gICAgICAgICh1cGRhdGVQYXlsb2FkIHx8ICh1cGRhdGVQYXlsb2FkID0ge30pKVtwcm9wS2V5XSA9IF9uZXh0VmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRlZmF1bHQ6IGZhbGx0aHJvdWdoIGNhc2Ugd2hlbiBuZXN0ZWQgcHJvcGVydGllcyBhcmUgZGVmaW5lZFxuICAgICAgcmVtb3ZlZEtleXMgPSBudWxsO1xuICAgICAgcmVtb3ZlZEtleUNvdW50ID0gMDtcbiAgICAgIC8vIFdlIHRoaW5rIHRoYXQgYXR0cmlidXRlQ29uZmlnIGlzIG5vdCBDdXN0b21BdHRyaWJ1dGVDb25maWd1cmF0aW9uIGF0XG4gICAgICAvLyB0aGlzIHBvaW50IHNvIHdlIGFzc3VtZSBpdCBtdXN0IGJlIEF0dHJpYnV0ZUNvbmZpZ3VyYXRpb24uXG4gICAgICB1cGRhdGVQYXlsb2FkID0gZGlmZk5lc3RlZFByb3BlcnR5KFxuICAgICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgICBwcmV2UHJvcCxcbiAgICAgICAgbmV4dFByb3AsXG4gICAgICAgIGF0dHJpYnV0ZUNvbmZpZ1xuICAgICAgKTtcbiAgICAgIGlmIChyZW1vdmVkS2V5Q291bnQgPiAwICYmIHVwZGF0ZVBheWxvYWQpIHtcbiAgICAgICAgcmVzdG9yZURlbGV0ZWRWYWx1ZXNJbk5lc3RlZEFycmF5KFxuICAgICAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAgICAgbmV4dFByb3AsXG4gICAgICAgICAgYXR0cmlidXRlQ29uZmlnXG4gICAgICAgICk7XG4gICAgICAgIHJlbW92ZWRLZXlzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBbHNvIGl0ZXJhdGUgdGhyb3VnaCBhbGwgdGhlIHByZXZpb3VzIHByb3BzIHRvIGNhdGNoIGFueSB0aGF0IGhhdmUgYmVlblxuICAvLyByZW1vdmVkIGFuZCBtYWtlIHN1cmUgbmF0aXZlIGdldHMgdGhlIHNpZ25hbCBzbyBpdCBjYW4gcmVzZXQgdGhlbSB0byB0aGVcbiAgLy8gZGVmYXVsdC5cbiAgZm9yICh2YXIgX3Byb3BLZXkgaW4gcHJldlByb3BzKSB7XG4gICAgaWYgKG5leHRQcm9wc1tfcHJvcEtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7IC8vIHdlJ3ZlIGFscmVhZHkgY292ZXJlZCB0aGlzIGtleSBpbiB0aGUgcHJldmlvdXMgcGFzc1xuICAgIH1cbiAgICBhdHRyaWJ1dGVDb25maWcgPSB2YWxpZEF0dHJpYnV0ZXNbX3Byb3BLZXldO1xuICAgIGlmICghYXR0cmlidXRlQ29uZmlnKSB7XG4gICAgICBjb250aW51ZTsgLy8gbm90IGEgdmFsaWQgbmF0aXZlIHByb3BcbiAgICB9XG5cbiAgICBpZiAodXBkYXRlUGF5bG9hZCAmJiB1cGRhdGVQYXlsb2FkW19wcm9wS2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBUaGlzIHdhcyBhbHJlYWR5IHVwZGF0ZWQgdG8gYSBkaWZmIHJlc3VsdCBlYXJsaWVyLlxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcHJldlByb3AgPSBwcmV2UHJvcHNbX3Byb3BLZXldO1xuICAgIGlmIChwcmV2UHJvcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb250aW51ZTsgLy8gd2FzIGFscmVhZHkgZW1wdHkgYW55d2F5XG4gICAgfVxuICAgIC8vIFBhdHRlcm4gbWF0Y2ggb246IGF0dHJpYnV0ZUNvbmZpZ1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgIHR5cGVvZiBhdHRyaWJ1dGVDb25maWcuZGlmZiA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICB0eXBlb2YgYXR0cmlidXRlQ29uZmlnLnByb2Nlc3MgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgLy8gY2FzZTogQ3VzdG9tQXR0cmlidXRlQ29uZmlndXJhdGlvbiB8ICFPYmplY3RcbiAgICAgIC8vIEZsYWcgdGhlIGxlYWYgcHJvcGVydHkgZm9yIHJlbW92YWwgYnkgc2VuZGluZyBhIHNlbnRpbmVsLlxuICAgICAgKHVwZGF0ZVBheWxvYWQgfHwgKHVwZGF0ZVBheWxvYWQgPSB7fSkpW19wcm9wS2V5XSA9IG51bGw7XG4gICAgICBpZiAoIXJlbW92ZWRLZXlzKSB7XG4gICAgICAgIHJlbW92ZWRLZXlzID0ge307XG4gICAgICB9XG4gICAgICBpZiAoIXJlbW92ZWRLZXlzW19wcm9wS2V5XSkge1xuICAgICAgICByZW1vdmVkS2V5c1tfcHJvcEtleV0gPSB0cnVlO1xuICAgICAgICByZW1vdmVkS2V5Q291bnQrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdDpcbiAgICAgIC8vIFRoaXMgaXMgYSBuZXN0ZWQgYXR0cmlidXRlIGNvbmZpZ3VyYXRpb24gd2hlcmUgYWxsIHRoZSBwcm9wZXJ0aWVzXG4gICAgICAvLyB3ZXJlIHJlbW92ZWQgc28gd2UgbmVlZCB0byBnbyB0aHJvdWdoIGFuZCBjbGVhciBvdXQgYWxsIG9mIHRoZW0uXG4gICAgICB1cGRhdGVQYXlsb2FkID0gY2xlYXJOZXN0ZWRQcm9wZXJ0eShcbiAgICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgICAgcHJldlByb3AsXG4gICAgICAgIGF0dHJpYnV0ZUNvbmZpZ1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZVBheWxvYWQ7XG59XG5cbi8qKlxuICogYWRkUHJvcGVydGllcyBhZGRzIGFsbCB0aGUgdmFsaWQgcHJvcHMgdG8gdGhlIHBheWxvYWQgYWZ0ZXIgYmVpbmcgcHJvY2Vzc2VkLlxuICovXG5mdW5jdGlvbiBhZGRQcm9wZXJ0aWVzKHVwZGF0ZVBheWxvYWQsIHByb3BzLCB2YWxpZEF0dHJpYnV0ZXMpIHtcbiAgLy8gVE9ETzogRmFzdCBwYXRoXG4gIHJldHVybiBkaWZmUHJvcGVydGllcyh1cGRhdGVQYXlsb2FkLCBlbXB0eU9iamVjdCQxLCBwcm9wcywgdmFsaWRBdHRyaWJ1dGVzKTtcbn1cblxuLyoqXG4gKiBjbGVhclByb3BlcnRpZXMgY2xlYXJzIGFsbCB0aGUgcHJldmlvdXMgcHJvcHMgYnkgYWRkaW5nIGEgbnVsbCBzZW50aW5lbFxuICogdG8gdGhlIHBheWxvYWQgZm9yIGVhY2ggdmFsaWQga2V5LlxuICovXG5mdW5jdGlvbiBjbGVhclByb3BlcnRpZXModXBkYXRlUGF5bG9hZCwgcHJldlByb3BzLCB2YWxpZEF0dHJpYnV0ZXMpIHtcbiAgLy8gVE9ETzogRmFzdCBwYXRoXG4gIHJldHVybiBkaWZmUHJvcGVydGllcyhcbiAgICB1cGRhdGVQYXlsb2FkLFxuICAgIHByZXZQcm9wcyxcbiAgICBlbXB0eU9iamVjdCQxLFxuICAgIHZhbGlkQXR0cmlidXRlc1xuICApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGUocHJvcHMsIHZhbGlkQXR0cmlidXRlcykge1xuICByZXR1cm4gYWRkUHJvcGVydGllcyhcbiAgICBudWxsLCAvLyB1cGRhdGVQYXlsb2FkXG4gICAgcHJvcHMsXG4gICAgdmFsaWRBdHRyaWJ1dGVzXG4gICk7XG59XG5cbmZ1bmN0aW9uIGRpZmYocHJldlByb3BzLCBuZXh0UHJvcHMsIHZhbGlkQXR0cmlidXRlcykge1xuICByZXR1cm4gZGlmZlByb3BlcnRpZXMoXG4gICAgbnVsbCwgLy8gdXBkYXRlUGF5bG9hZFxuICAgIHByZXZQcm9wcyxcbiAgICBuZXh0UHJvcHMsXG4gICAgdmFsaWRBdHRyaWJ1dGVzXG4gICk7XG59XG5cbi8qKlxuICogSW4gdGhlIGZ1dHVyZSwgd2Ugc2hvdWxkIGNsZWFudXAgY2FsbGJhY2tzIGJ5IGNhbmNlbGxpbmcgdGhlbSBpbnN0ZWFkIG9mXG4gKiB1c2luZyB0aGlzLlxuICovXG5mdW5jdGlvbiBtb3VudFNhZmVDYWxsYmFjayhjb250ZXh0LCBjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb250ZXh0Ll9faXNNb3VudGVkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgLy8gVE9ETyhnYWVhcm9uKTogdGhpcyBpcyBncm9zcyBhbmQgc2hvdWxkIGJlIHJlbW92ZWQuXG4gICAgICAvLyBJdCBpcyBjdXJyZW50bHkgbmVjZXNzYXJ5IGJlY2F1c2UgVmlldyB1c2VzIGNyZWF0ZUNsYXNzLFxuICAgICAgLy8gYW5kIHNvIGFueSBtZWFzdXJlKCkgY2FsbHMgb24gVmlldyAod2hpY2ggYXJlIGRvbmUgYnkgUmVhY3RcbiAgICAgIC8vIERldlRvb2xzKSB0cmlnZ2VyIHRoZSBpc01vdW50ZWQoKSBkZXByZWNhdGlvbiB3YXJuaW5nLlxuICAgICAgaWYgKCFjb250ZXh0Ll9faXNNb3VudGVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBUaGUgZWxzZSBicmFuY2ggaXMgaW1wb3J0YW50IHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgIC8vIHRyaWdnZXIgdGhlIGRlcHJlY2F0aW9uIHdhcm5pbmcgYnkgY2FsbGluZyBpc01vdW50ZWQuXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29udGV4dC5pc01vdW50ZWQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgaWYgKCFjb250ZXh0LmlzTW91bnRlZCgpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0aHJvd09uU3R5bGVzUHJvcChjb21wb25lbnQsIHByb3BzKSB7XG4gIGlmIChwcm9wcy5zdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBvd25lciA9IGNvbXBvbmVudC5fb3duZXIgfHwgbnVsbDtcbiAgICB2YXIgbmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZTtcbiAgICB2YXIgbXNnID1cbiAgICAgIFwiYHN0eWxlc2AgaXMgbm90IGEgc3VwcG9ydGVkIHByb3BlcnR5IG9mIGBcIiArXG4gICAgICBuYW1lICtcbiAgICAgIFwiYCwgZGlkIFwiICtcbiAgICAgIFwieW91IG1lYW4gYHN0eWxlYCAoc2luZ3VsYXIpP1wiO1xuICAgIGlmIChvd25lciAmJiBvd25lci5jb25zdHJ1Y3RvciAmJiBvd25lci5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSkge1xuICAgICAgbXNnICs9XG4gICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIGBcIiArXG4gICAgICAgIG93bmVyLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lICtcbiAgICAgICAgXCJgIHBhcmVudCBcIiArXG4gICAgICAgIFwiIGNvbXBvbmVudC5cIjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gd2FybkZvclN0eWxlUHJvcHMocHJvcHMsIHZhbGlkQXR0cmlidXRlcykge1xuICBmb3IgKHZhciBrZXkgaW4gdmFsaWRBdHRyaWJ1dGVzLnN0eWxlKSB7XG4gICAgaWYgKCEodmFsaWRBdHRyaWJ1dGVzW2tleV0gfHwgcHJvcHNba2V5XSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJZb3UgYXJlIHNldHRpbmcgdGhlIHN0eWxlIGB7IFwiICtcbiAgICAgICAgICBrZXkgK1xuICAgICAgICAgIFwiOiAuLi4gfWAgYXMgYSBwcm9wLiBZb3UgXCIgK1xuICAgICAgICAgIFwic2hvdWxkIG5lc3QgaXQgaW4gYSBzdHlsZSBvYmplY3QuIFwiICtcbiAgICAgICAgICBcIkUuZy4gYHsgc3R5bGU6IHsgXCIgK1xuICAgICAgICAgIGtleSArXG4gICAgICAgICAgXCI6IC4uLiB9IH1gXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogYFJlYWN0SW5zdGFuY2VNYXBgIG1haW50YWlucyBhIG1hcHBpbmcgZnJvbSBhIHB1YmxpYyBmYWNpbmcgc3RhdGVmdWxcbiAqIGluc3RhbmNlIChrZXkpIGFuZCB0aGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gKHZhbHVlKS4gVGhpcyBhbGxvd3MgcHVibGljXG4gKiBtZXRob2RzIHRvIGFjY2VwdCB0aGUgdXNlciBmYWNpbmcgaW5zdGFuY2UgYXMgYW4gYXJndW1lbnQgYW5kIG1hcCB0aGVtIGJhY2tcbiAqIHRvIGludGVybmFsIG1ldGhvZHMuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgbW9kdWxlIGlzIGN1cnJlbnRseSBzaGFyZWQgYW5kIGFzc3VtZWQgdG8gYmUgc3RhdGVsZXNzLlxuICogSWYgdGhpcyBiZWNvbWVzIGFuIGFjdHVhbCBNYXAsIHRoYXQgd2lsbCBicmVhay5cbiAqL1xuXG4vKipcbiAqIFRoaXMgQVBJIHNob3VsZCBiZSBjYWxsZWQgYGRlbGV0ZWAgYnV0IHdlJ2QgaGF2ZSB0byBtYWtlIHN1cmUgdG8gYWx3YXlzXG4gKiB0cmFuc2Zvcm0gdGhlc2UgdG8gc3RyaW5ncyBmb3IgSUUgc3VwcG9ydC4gV2hlbiB0aGlzIHRyYW5zZm9ybSBpcyBmdWxseVxuICogc3VwcG9ydGVkIHdlIGNhbiByZW5hbWUgaXQuXG4gKi9cblxuZnVuY3Rpb24gZ2V0KGtleSkge1xuICByZXR1cm4ga2V5Ll9yZWFjdEludGVybmFsRmliZXI7XG59XG5cbmZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gIGtleS5fcmVhY3RJbnRlcm5hbEZpYmVyID0gdmFsdWU7XG59XG5cbnZhciBSZWFjdEludGVybmFscyA9IFJlYWN0Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikge1xuICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuIFwiUmVhY3RGcmFnbWVudFwiO1xuICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICByZXR1cm4gXCJSZWFjdFBvcnRhbFwiO1xuICAgIGNhc2UgUkVBQ1RfQ0FMTF9UWVBFOlxuICAgICAgcmV0dXJuIFwiUmVhY3RDYWxsXCI7XG4gICAgY2FzZSBSRUFDVF9SRVRVUk5fVFlQRTpcbiAgICAgIHJldHVybiBcIlJlYWN0UmV0dXJuXCI7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRPRE86IFNoYXJlIHRoaXMgbW9kdWxlIGJldHdlZW4gRmFicmljIGFuZCBSZWFjdCBOYXRpdmUgcmVuZGVyZXJzXG4vLyBzbyB0aGF0IGJvdGggY2FuIGJlIHVzZWQgaW4gdGhlIHNhbWUgdHJlZS5cblxudmFyIGZpbmRIb3N0SW5zdGFuY2UgPSBmdW5jdGlvbihmaWJlcikge1xuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBmaW5kSG9zdEluc3RhbmNlRmFicmljID0gZnVuY3Rpb24oZmliZXIpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5mdW5jdGlvbiBpbmplY3RGaW5kSG9zdEluc3RhbmNlKGltcGwpIHtcbiAgZmluZEhvc3RJbnN0YW5jZSA9IGltcGw7XG59XG5cbi8qKlxuICogUmVhY3ROYXRpdmUgdnMgUmVhY3RXZWJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBSZWFjdCB0cmVhdHMgc29tZSBwaWVjZXMgb2YgZGF0YSBvcGFxdWVseS4gVGhpcyBtZWFucyB0aGF0IHRoZSBpbmZvcm1hdGlvblxuICogaXMgZmlyc3QgY2xhc3MgKGl0IGNhbiBiZSBwYXNzZWQgYXJvdW5kKSwgYnV0IGNhbm5vdCBiZSBpbnNwZWN0ZWQuIFRoaXNcbiAqIGFsbG93cyB1cyB0byBidWlsZCBpbmZyYXN0cnVjdHVyZSB0aGF0IHJlYXNvbnMgYWJvdXQgcmVzb3VyY2VzLCB3aXRob3V0XG4gKiBtYWtpbmcgYXNzdW1wdGlvbnMgYWJvdXQgdGhlIG5hdHVyZSBvZiB0aG9zZSByZXNvdXJjZXMsIGFuZCB0aGlzIGFsbG93cyB0aGF0XG4gKiBpbmZyYSB0byBiZSBzaGFyZWQgYWNyb3NzIG11bHRpcGxlIHBsYXRmb3Jtcywgd2hlcmUgdGhlIHJlc291cmNlcyBhcmUgdmVyeVxuICogZGlmZmVyZW50LiBHZW5lcmFsIGluZnJhIChzdWNoIGFzIGBSZWFjdE11bHRpQ2hpbGRgKSByZWFzb25zIG9wYXF1ZWx5IGFib3V0XG4gKiB0aGUgZGF0YSwgYnV0IHBsYXRmb3JtIHNwZWNpZmljIGNvZGUgKHN1Y2ggYXMgYFJlYWN0TmF0aXZlQmFzZUNvbXBvbmVudGApIGNhblxuICogbWFrZSBhc3N1bXB0aW9ucyBhYm91dCB0aGUgZGF0YS5cbiAqXG4gKlxuICogYHJvb3ROb2RlSURgLCB1bmlxdWVseSBpZGVudGlmaWVzIGEgcG9zaXRpb24gaW4gdGhlIGdlbmVyYXRlZCBuYXRpdmUgdmlld1xuICogdHJlZS4gTWFueSBsYXllcnMgb2YgY29tcG9zaXRlIGNvbXBvbmVudHMgKGNyZWF0ZWQgd2l0aCBgUmVhY3QuY3JlYXRlQ2xhc3NgKVxuICogY2FuIGFsbCBzaGFyZSB0aGUgc2FtZSBgcm9vdE5vZGVJRGAuXG4gKlxuICogYG5vZGVIYW5kbGVgOiBBIHN1ZmZpY2llbnRseSB1bmFtYmlndW91cyB3YXkgdG8gcmVmZXIgdG8gYSBsb3dlciBsZXZlbFxuICogcmVzb3VyY2UgKGRvbSBub2RlLCBuYXRpdmUgdmlldyBldGMpLiBUaGUgYHJvb3ROb2RlSURgIGlzIHN1ZmZpY2llbnQgZm9yIHdlYlxuICogYG5vZGVIYW5kbGVgcywgYmVjYXVzZSB0aGUgcG9zaXRpb24gaW4gYSB0cmVlIGlzIGFsd2F5cyBlbm91Z2ggdG8gdW5pcXVlbHlcbiAqIGlkZW50aWZ5IGEgRE9NIG5vZGUgKHdlIG5ldmVyIGhhdmUgbm9kZXMgaW4gc29tZSBiYW5rIG91dHNpZGUgb2YgdGhlXG4gKiBkb2N1bWVudCkuIFRoZSBzYW1lIHdvdWxkIGJlIHRydWUgZm9yIGBSZWFjdE5hdGl2ZWAsIGJ1dCB3ZSBtdXN0IG1haW50YWluIGFcbiAqIG1hcHBpbmcgdGhhdCB3ZSBjYW4gc2VuZCBlZmZpY2llbnRseSBzZXJpYWxpemFibGVcbiAqIHN0cmluZ3MgYWNyb3NzIG5hdGl2ZSBib3VuZGFyaWVzLlxuICpcbiAqIE9wYXF1ZSBuYW1lICAgICAgVG9kYXlzV2ViUmVhY3QgICBGdXR1cmVXZWJXb3JrZXJSZWFjdCAgIFJlYWN0TmF0aXZlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBub2RlSGFuZGxlICAgICAgIE4vQSAgICAgICAgICAgICAgcm9vdE5vZGVJRCAgICAgICAgICAgICB0YWdcbiAqL1xuXG4vLyBUT0RPIChidmF1Z2huKSBSZW5hbWUgdGhlIGZpbmROb2RlSGFuZGxlIG1vZHVsZSB0byBzb21ldGhpbmcgbW9yZSBkZXNjcmlwdGl2ZVxuLy8gZWcgZmluZEludGVybmFsSG9zdEluc3RhbmNlLiBUaGlzIHdpbGwgcmVkdWNlIHRoZSBsaWtlbGlob29kIG9mIHNvbWVvbmVcbi8vIGFjY2lkZW50YWxseSBkZWVwLXJlcXVpcmluZyB0aGlzIHZlcnNpb24uXG5mdW5jdGlvbiBmaW5kTm9kZUhhbmRsZShjb21wb25lbnRPckhhbmRsZSkge1xuICB7XG4gICAgdmFyIG93bmVyID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudDtcbiAgICBpZiAob3duZXIgIT09IG51bGwgJiYgb3duZXIuc3RhdGVOb2RlICE9PSBudWxsKSB7XG4gICAgICAhb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlclxuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMgaXMgYWNjZXNzaW5nIGZpbmROb2RlSGFuZGxlIGluc2lkZSBpdHMgcmVuZGVyKCkuIFwiICtcbiAgICAgICAgICAgICAgXCJyZW5kZXIoKSBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZS4gSXQgc2hvdWxkIFwiICtcbiAgICAgICAgICAgICAgXCJuZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyBcIiArXG4gICAgICAgICAgICAgIFwicmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgXCIgK1xuICAgICAgICAgICAgICBcImNvbXBvbmVudERpZFVwZGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZShvd25lcikgfHwgXCJBIGNvbXBvbmVudFwiXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcblxuICAgICAgb3duZXIuc3RhdGVOb2RlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChjb21wb25lbnRPckhhbmRsZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHR5cGVvZiBjb21wb25lbnRPckhhbmRsZSA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIEFscmVhZHkgYSBub2RlIGhhbmRsZVxuICAgIHJldHVybiBjb21wb25lbnRPckhhbmRsZTtcbiAgfVxuXG4gIHZhciBjb21wb25lbnQgPSBjb21wb25lbnRPckhhbmRsZTtcblxuICAvLyBUT0RPIChiYWxwZXJ0KTogV3JhcCBpT1MgbmF0aXZlIGNvbXBvbmVudHMgaW4gYSBjb21wb3NpdGUgd3JhcHBlciwgdGhlblxuICAvLyBSZWFjdEluc3RhbmNlTWFwLmdldCBoZXJlIHdpbGwgYWx3YXlzIHN1Y2NlZWQgZm9yIG1vdW50ZWQgY29tcG9uZW50c1xuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldChjb21wb25lbnQpO1xuICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgIHJldHVybiAoXG4gICAgICBmaW5kSG9zdEluc3RhbmNlKGludGVybmFsSW5zdGFuY2UpIHx8XG4gICAgICBmaW5kSG9zdEluc3RhbmNlRmFicmljKGludGVybmFsSW5zdGFuY2UpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIC8vIE5hdGl2ZVxuICAgICAgICAodHlwZW9mIGNvbXBvbmVudCA9PT0gXCJvYmplY3RcIiAmJiBcIl9uYXRpdmVUYWdcIiBpbiBjb21wb25lbnQpIHx8XG4gICAgICAgICAgLy8gQ29tcG9zaXRlXG4gICAgICAgICAgKGNvbXBvbmVudC5yZW5kZXIgIT0gbnVsbCAmJiB0eXBlb2YgY29tcG9uZW50LnJlbmRlciA9PT0gXCJmdW5jdGlvblwiKSxcbiAgICAgICAgXCJmaW5kTm9kZUhhbmRsZSguLi4pOiBBcmd1bWVudCBpcyBub3QgYSBjb21wb25lbnQgXCIgK1xuICAgICAgICAgIFwiKHR5cGU6ICVzLCBrZXlzOiAlcylcIixcbiAgICAgICAgdHlwZW9mIGNvbXBvbmVudCxcbiAgICAgICAgT2JqZWN0LmtleXMoY29tcG9uZW50KVxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiZmluZE5vZGVIYW5kbGUoLi4uKTogVW5hYmxlIHRvIGZpbmQgbm9kZSBoYW5kbGUgZm9yIHVubW91bnRlZCBcIiArXG4gICAgICAgICAgXCJjb21wb25lbnQuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRXh0ZXJuYWwgdXNlcnMgb2YgZmluZE5vZGVIYW5kbGUoKSBleHBlY3QgdGhlIGhvc3QgdGFnIG51bWJlciByZXR1cm4gdHlwZS5cbiAqIFRoZSBpbmplY3RlZCBmaW5kTm9kZUhhbmRsZSgpIHN0cmF0ZWd5IHJldHVybnMgdGhlIGluc3RhbmNlIHdyYXBwZXIgdGhvdWdoLlxuICogU2VlIE5hdGl2ZU1ldGhvZHNNaXhpbiNzZXROYXRpdmVQcm9wcyBmb3IgbW9yZSBpbmZvIG9uIHdoeSB0aGlzIGlzIGRvbmUuXG4gKi9cbmZ1bmN0aW9uIGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKGNvbXBvbmVudE9ySGFuZGxlKSB7XG4gIHZhciBpbnN0YW5jZSA9IGZpbmROb2RlSGFuZGxlKGNvbXBvbmVudE9ySGFuZGxlKTtcbiAgaWYgKGluc3RhbmNlID09IG51bGwgfHwgdHlwZW9mIGluc3RhbmNlID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG4gIHJldHVybiBpbnN0YW5jZS5fbmF0aXZlVGFnO1xufVxuXG4vLyBNb2R1bGVzIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBgTmF0aXZlTWV0aG9kc01peGluYCBwcm92aWRlcyBtZXRob2RzIHRvIGFjY2VzcyB0aGUgdW5kZXJseWluZyBuYXRpdmVcbiAqIGNvbXBvbmVudCBkaXJlY3RseS4gVGhpcyBjYW4gYmUgdXNlZnVsIGluIGNhc2VzIHdoZW4geW91IHdhbnQgdG8gZm9jdXNcbiAqIGEgdmlldyBvciBtZWFzdXJlIGl0cyBvbi1zY3JlZW4gZGltZW5zaW9ucywgZm9yIGV4YW1wbGUuXG4gKlxuICogVGhlIG1ldGhvZHMgZGVzY3JpYmVkIGhlcmUgYXJlIGF2YWlsYWJsZSBvbiBtb3N0IG9mIHRoZSBkZWZhdWx0IGNvbXBvbmVudHNcbiAqIHByb3ZpZGVkIGJ5IFJlYWN0IE5hdGl2ZS4gTm90ZSwgaG93ZXZlciwgdGhhdCB0aGV5IGFyZSAqbm90KiBhdmFpbGFibGUgb25cbiAqIGNvbXBvc2l0ZSBjb21wb25lbnRzIHRoYXQgYXJlbid0IGRpcmVjdGx5IGJhY2tlZCBieSBhIG5hdGl2ZSB2aWV3LiBUaGlzIHdpbGxcbiAqIGdlbmVyYWxseSBpbmNsdWRlIG1vc3QgY29tcG9uZW50cyB0aGF0IHlvdSBkZWZpbmUgaW4geW91ciBvd24gYXBwLiBGb3IgbW9yZVxuICogaW5mb3JtYXRpb24sIHNlZSBbRGlyZWN0XG4gKiBNYW5pcHVsYXRpb25dKGRvY3MvZGlyZWN0LW1hbmlwdWxhdGlvbi5odG1sKS5cbiAqXG4gKiBOb3RlIHRoZSBGbG93ICRFeGFjdDw+IHN5bnRheCBpcyByZXF1aXJlZCB0byBzdXBwb3J0IG1peGlucy5cbiAqIFJlYWN0IGNyZWF0ZUNsYXNzIG1peGlucyBjYW4gb25seSBiZSB1c2VkIHdpdGggZXhhY3QgdHlwZXMuXG4gKi9cbnZhciBOYXRpdmVNZXRob2RzTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBsb2NhdGlvbiBvbiBzY3JlZW4sIHdpZHRoLCBhbmQgaGVpZ2h0IG9mIHRoZSBnaXZlbiB2aWV3IGFuZFxuICAgKiByZXR1cm5zIHRoZSB2YWx1ZXMgdmlhIGFuIGFzeW5jIGNhbGxiYWNrLiBJZiBzdWNjZXNzZnVsLCB0aGUgY2FsbGJhY2sgd2lsbFxuICAgKiBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAgICpcbiAgICogIC0geFxuICAgKiAgLSB5XG4gICAqICAtIHdpZHRoXG4gICAqICAtIGhlaWdodFxuICAgKiAgLSBwYWdlWFxuICAgKiAgLSBwYWdlWVxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlc2UgbWVhc3VyZW1lbnRzIGFyZSBub3QgYXZhaWxhYmxlIHVudGlsIGFmdGVyIHRoZSByZW5kZXJpbmdcbiAgICogaGFzIGJlZW4gY29tcGxldGVkIGluIG5hdGl2ZS4gSWYgeW91IG5lZWQgdGhlIG1lYXN1cmVtZW50cyBhcyBzb29uIGFzXG4gICAqIHBvc3NpYmxlLCBjb25zaWRlciB1c2luZyB0aGUgW2BvbkxheW91dGBcbiAgICogcHJvcF0oZG9jcy92aWV3Lmh0bWwjb25sYXlvdXQpIGluc3RlYWQuXG4gICAqL1xuICBtZWFzdXJlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIFVJTWFuYWdlci5tZWFzdXJlKFxuICAgICAgZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIodGhpcyksXG4gICAgICBtb3VudFNhZmVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaylcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgZ2l2ZW4gdmlldyBpbiB0aGUgd2luZG93IGFuZCByZXR1cm5zIHRoZVxuICAgKiB2YWx1ZXMgdmlhIGFuIGFzeW5jIGNhbGxiYWNrLiBJZiB0aGUgUmVhY3Qgcm9vdCB2aWV3IGlzIGVtYmVkZGVkIGluXG4gICAqIGFub3RoZXIgbmF0aXZlIHZpZXcsIHRoaXMgd2lsbCBnaXZlIHlvdSB0aGUgYWJzb2x1dGUgY29vcmRpbmF0ZXMuIElmXG4gICAqIHN1Y2Nlc3NmdWwsIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogYXJndW1lbnRzOlxuICAgKlxuICAgKiAgLSB4XG4gICAqICAtIHlcbiAgICogIC0gd2lkdGhcbiAgICogIC0gaGVpZ2h0XG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGVzZSBtZWFzdXJlbWVudHMgYXJlIG5vdCBhdmFpbGFibGUgdW50aWwgYWZ0ZXIgdGhlIHJlbmRlcmluZ1xuICAgKiBoYXMgYmVlbiBjb21wbGV0ZWQgaW4gbmF0aXZlLlxuICAgKi9cbiAgbWVhc3VyZUluV2luZG93OiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIFVJTWFuYWdlci5tZWFzdXJlSW5XaW5kb3coXG4gICAgICBmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih0aGlzKSxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExpa2UgW2BtZWFzdXJlKClgXSgjbWVhc3VyZSksIGJ1dCBtZWFzdXJlcyB0aGUgdmlldyByZWxhdGl2ZSBhbiBhbmNlc3RvcixcbiAgICogc3BlY2lmaWVkIGFzIGByZWxhdGl2ZVRvTmF0aXZlTm9kZWAuIFRoaXMgbWVhbnMgdGhhdCB0aGUgcmV0dXJuZWQgeCwgeVxuICAgKiBhcmUgcmVsYXRpdmUgdG8gdGhlIG9yaWdpbiB4LCB5IG9mIHRoZSBhbmNlc3RvciB2aWV3LlxuICAgKlxuICAgKiBBcyBhbHdheXMsIHRvIG9idGFpbiBhIG5hdGl2ZSBub2RlIGhhbmRsZSBmb3IgYSBjb21wb25lbnQsIHlvdSBjYW4gdXNlXG4gICAqIGBmaW5kTnVtZXJpY05vZGVIYW5kbGUoY29tcG9uZW50KWAuXG4gICAqL1xuICBtZWFzdXJlTGF5b3V0OiBmdW5jdGlvbihcbiAgICByZWxhdGl2ZVRvTmF0aXZlTm9kZSxcbiAgICBvblN1Y2Nlc3MsXG4gICAgb25GYWlsIC8qIGN1cnJlbnRseSB1bnVzZWQgKi9cbiAgKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmVMYXlvdXQoXG4gICAgICBmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih0aGlzKSxcbiAgICAgIHJlbGF0aXZlVG9OYXRpdmVOb2RlLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgb25GYWlsKSxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIG9uU3VjY2VzcylcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNlbmRzIHByb3BzIHN0cmFpZ2h0IHRvIG5hdGl2ZS4gVGhleSB3aWxsIG5vdCBwYXJ0aWNpcGF0ZSBpblxuICAgKiBmdXR1cmUgZGlmZiBwcm9jZXNzIC0gdGhpcyBtZWFucyB0aGF0IGlmIHlvdSBkbyBub3QgaW5jbHVkZSB0aGVtIGluIHRoZVxuICAgKiBuZXh0IHJlbmRlciwgdGhleSB3aWxsIHJlbWFpbiBhY3RpdmUgKHNlZSBbRGlyZWN0XG4gICAqIE1hbmlwdWxhdGlvbl0oZG9jcy9kaXJlY3QtbWFuaXB1bGF0aW9uLmh0bWwpKS5cbiAgICovXG4gIHNldE5hdGl2ZVByb3BzOiBmdW5jdGlvbihuYXRpdmVQcm9wcykge1xuICAgIC8vIENsYXNzIGNvbXBvbmVudHMgZG9uJ3QgaGF2ZSB2aWV3Q29uZmlnIC0+IHZhbGlkYXRlQXR0cmlidXRlcy5cbiAgICAvLyBOb3IgZG9lcyBpdCBtYWtlIHNlbnNlIHRvIHNldCBuYXRpdmUgcHJvcHMgb24gYSBub24tbmF0aXZlIGNvbXBvbmVudC5cbiAgICAvLyBJbnN0ZWFkLCBmaW5kIHRoZSBuZWFyZXN0IGhvc3QgY29tcG9uZW50IGFuZCBzZXQgcHJvcHMgb24gaXQuXG4gICAgLy8gVXNlIGZpbmROb2RlSGFuZGxlKCkgcmF0aGVyIHRoYW4gZmluZE51bWVyaWNOb2RlSGFuZGxlKCkgYmVjYXVzZVxuICAgIC8vIFdlIHdhbnQgdGhlIGluc3RhbmNlL3dyYXBwZXIgKG5vdCB0aGUgbmF0aXZlIHRhZykuXG4gICAgdmFyIG1heWJlSW5zdGFuY2UgPSB2b2lkIDA7XG5cbiAgICAvLyBGaWJlciBlcnJvcnMgaWYgZmluZE5vZGVIYW5kbGUgaXMgY2FsbGVkIGZvciBhbiB1bW91bnRlZCBjb21wb25lbnQuXG4gICAgLy8gVGVzdHMgdXNpbmcgUmVhY3RUZXN0UmVuZGVyZXIgd2lsbCB0cmlnZ2VyIHRoaXMgY2FzZSBpbmRpcmVjdGx5LlxuICAgIC8vIE1pbWlja2luZyBzdGFjayBiZWhhdmlvciwgd2Ugc2hvdWxkIHNpbGVudGx5IGlnbm9yZSB0aGlzIGNhc2UuXG4gICAgLy8gVE9ETyBGaXggUmVhY3RUZXN0UmVuZGVyZXIgc28gd2UgY2FuIHJlbW92ZSB0aGlzIHRyeS9jYXRjaC5cbiAgICB0cnkge1xuICAgICAgbWF5YmVJbnN0YW5jZSA9IGZpbmROb2RlSGFuZGxlKHRoaXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gaG9zdCBjb21wb25lbnQgYmVuZWF0aCB0aGlzIHdlIHNob3VsZCBmYWlsIHNpbGVudGx5LlxuICAgIC8vIFRoaXMgaXMgbm90IGFuIGVycm9yOyBpdCBjb3VsZCBtZWFuIGEgY2xhc3MgY29tcG9uZW50IHJlbmRlcmVkIG51bGwuXG4gICAgaWYgKG1heWJlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB2aWV3Q29uZmlnID0gbWF5YmVJbnN0YW5jZS52aWV3Q29uZmlnO1xuXG4gICAge1xuICAgICAgd2FybkZvclN0eWxlUHJvcHMobmF0aXZlUHJvcHMsIHZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGNyZWF0ZShuYXRpdmVQcm9wcywgdmlld0NvbmZpZy52YWxpZEF0dHJpYnV0ZXMpO1xuXG4gICAgLy8gQXZvaWQgdGhlIG92ZXJoZWFkIG9mIGJyaWRnZSBjYWxscyBpZiB0aGVyZSdzIG5vIHVwZGF0ZS5cbiAgICAvLyBUaGlzIGlzIGFuIGV4cGVuc2l2ZSBuby1vcCBmb3IgQW5kcm9pZCwgYW5kIGNhdXNlcyBhbiB1bm5lY2Vzc2FyeVxuICAgIC8vIHZpZXcgaW52YWxpZGF0aW9uIGZvciBjZXJ0YWluIGNvbXBvbmVudHMgKGVnIFJDVFRleHRJbnB1dCkgb24gaU9TLlxuICAgIGlmICh1cGRhdGVQYXlsb2FkICE9IG51bGwpIHtcbiAgICAgIFVJTWFuYWdlci51cGRhdGVWaWV3KFxuICAgICAgICBtYXliZUluc3RhbmNlLl9uYXRpdmVUYWcsXG4gICAgICAgIHZpZXdDb25maWcudWlWaWV3Q2xhc3NOYW1lLFxuICAgICAgICB1cGRhdGVQYXlsb2FkXG4gICAgICApO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVxdWVzdHMgZm9jdXMgZm9yIHRoZSBnaXZlbiBpbnB1dCBvciB2aWV3LiBUaGUgZXhhY3QgYmVoYXZpb3IgdHJpZ2dlcmVkXG4gICAqIHdpbGwgZGVwZW5kIG9uIHRoZSBwbGF0Zm9ybSBhbmQgdHlwZSBvZiB2aWV3LlxuICAgKi9cbiAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgIFRleHRJbnB1dFN0YXRlLmZvY3VzVGV4dElucHV0KGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKHRoaXMpKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBmb2N1cyBmcm9tIGFuIGlucHV0IG9yIHZpZXcuIFRoaXMgaXMgdGhlIG9wcG9zaXRlIG9mIGBmb2N1cygpYC5cbiAgICovXG4gIGJsdXI6IGZ1bmN0aW9uKCkge1xuICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIodGhpcykpO1xuICB9XG59O1xuXG57XG4gIC8vIGhpZGUgdGhpcyBmcm9tIEZsb3cgc2luY2Ugd2UgY2FuJ3QgZGVmaW5lIHRoZXNlIHByb3BlcnRpZXMgb3V0c2lkZSBvZlxuICAvLyB0cnVlIHdpdGhvdXQgYWN0dWFsbHkgaW1wbGVtZW50aW5nIHRoZW0gKHNldHRpbmcgdGhlbSB0byB1bmRlZmluZWRcbiAgLy8gaXNuJ3QgYWxsb3dlZCBieSBSZWFjdENsYXNzKVxuICB2YXIgTmF0aXZlTWV0aG9kc01peGluX0RFViA9IE5hdGl2ZU1ldGhvZHNNaXhpbjtcbiAgaW52YXJpYW50KFxuICAgICFOYXRpdmVNZXRob2RzTWl4aW5fREVWLmNvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgIU5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgIU5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgIU5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMsXG4gICAgXCJEbyBub3Qgb3ZlcnJpZGUgZXhpc3RpbmcgZnVuY3Rpb25zLlwiXG4gICk7XG4gIC8vIFRPRE8gKGJ2YXVnaG4pIFJlbW92ZSBjV00gYW5kIGNXUlAgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBSZWFjdCBOYXRpdmUsXG4gIC8vIE9uY2UgdGhlc2UgbGlmZWN5Y2xlcyBoYXZlIGJlZW4gcmVtb3ZlIGZyb20gdGhlIHJlY29uY2lsZXIuXG4gIE5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3dPblN0eWxlc1Byb3AodGhpcywgdGhpcy5wcm9wcyk7XG4gIH07XG4gIE5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uKG5ld1Byb3BzKSB7XG4gICAgdGhyb3dPblN0eWxlc1Byb3AodGhpcywgbmV3UHJvcHMpO1xuICB9O1xuICBOYXRpdmVNZXRob2RzTWl4aW5fREVWLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPSBmdW5jdGlvbigpIHtcbiAgICB0aHJvd09uU3R5bGVzUHJvcCh0aGlzLCB0aGlzLnByb3BzKTtcbiAgfTtcbiAgTmF0aXZlTWV0aG9kc01peGluX0RFVi5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uKG5ld1Byb3BzKSB7XG4gICAgdGhyb3dPblN0eWxlc1Byb3AodGhpcywgbmV3UHJvcHMpO1xuICB9O1xuXG4gIC8vIFJlYWN0IG1heSB3YXJuIGFib3V0IGNXTS9jV1JQL2NXVSBtZXRob2RzIGJlaW5nIGRlcHJlY2F0ZWQuXG4gIC8vIEFkZCBhIGZsYWcgdG8gc3VwcHJlc3MgdGhlc2Ugd2FybmluZ3MgZm9yIHRoaXMgc3BlY2lhbCBjYXNlLlxuICAvLyBUT0RPIChidmF1Z2huKSBSZW1vdmUgdGhpcyBmbGFnIG9uY2UgdGhlIGFib3ZlIG1ldGhvZHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gIE5hdGl2ZU1ldGhvZHNNaXhpbl9ERVYuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuICBOYXRpdmVNZXRob2RzTWl4aW5fREVWLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayQxKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICBcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIilcbiAgICA/IGNhbGxcbiAgICA6IHNlbGY7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArXG4gICAgICAgIHR5cGVvZiBzdXBlckNsYXNzXG4gICAgKTtcbiAgfVxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZlxuICAgICAgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpXG4gICAgICA6IChzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzKTtcbn1cblxuLy8gTW9kdWxlcyBwcm92aWRlZCBieSBSTjpcbi8qKlxuICogU3VwZXJjbGFzcyB0aGF0IHByb3ZpZGVzIG1ldGhvZHMgdG8gYWNjZXNzIHRoZSB1bmRlcmx5aW5nIG5hdGl2ZSBjb21wb25lbnQuXG4gKiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0byBmb2N1cyBhIHZpZXcgb3IgbWVhc3VyZSBpdHMgZGltZW5zaW9ucy5cbiAqXG4gKiBNZXRob2RzIGltcGxlbWVudGVkIGJ5IHRoaXMgY2xhc3MgYXJlIGF2YWlsYWJsZSBvbiBtb3N0IGRlZmF1bHQgY29tcG9uZW50c1xuICogcHJvdmlkZWQgYnkgUmVhY3QgTmF0aXZlLiBIb3dldmVyLCB0aGV5IGFyZSAqbm90KiBhdmFpbGFibGUgb24gY29tcG9zaXRlXG4gKiBjb21wb25lbnRzIHRoYXQgYXJlIG5vdCBkaXJlY3RseSBiYWNrZWQgYnkgYSBuYXRpdmUgdmlldy4gRm9yIG1vcmVcbiAqIGluZm9ybWF0aW9uLCBzZWUgW0RpcmVjdCBNYW5pcHVsYXRpb25dKGRvY3MvZGlyZWN0LW1hbmlwdWxhdGlvbi5odG1sKS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuXG52YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSAoZnVuY3Rpb24oX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUmVhY3ROYXRpdmVDb21wb25lbnQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFJlYWN0TmF0aXZlQ29tcG9uZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQxKHRoaXMsIFJlYWN0TmF0aXZlQ29tcG9uZW50KTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihcbiAgICAgIHRoaXMsXG4gICAgICBfUmVhY3QkQ29tcG9uZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZm9jdXMuIFRoaXMgaXMgdGhlIG9wcG9zaXRlIG9mIGBmb2N1cygpYC5cbiAgICovXG5cbiAgLyoqXG4gICAqIER1ZSB0byBidWdzIGluIEZsb3cncyBoYW5kbGluZyBvZiBSZWFjdC5jcmVhdGVDbGFzcywgc29tZSBmaWVsZHMgYWxyZWFkeVxuICAgKiBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjbGFzcyBuZWVkIHRvIGJlIHJlZGVjbGFyZWQgYmVsb3cuXG4gICAqL1xuICBSZWFjdE5hdGl2ZUNvbXBvbmVudC5wcm90b3R5cGUuYmx1ciA9IGZ1bmN0aW9uIGJsdXIoKSB7XG4gICAgVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dChmaW5kTnVtZXJpY05vZGVIYW5kbGVGaWJlcih0aGlzKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGZvY3VzLiBUaGUgZXhhY3QgYmVoYXZpb3IgZGVwZW5kcyBvbiB0aGUgcGxhdGZvcm0gYW5kIHZpZXcuXG4gICAqL1xuXG4gIFJlYWN0TmF0aXZlQ29tcG9uZW50LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgIFRleHRJbnB1dFN0YXRlLmZvY3VzVGV4dElucHV0KGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKHRoaXMpKTtcbiAgfTtcblxuICAvKipcbiAgICogTWVhc3VyZXMgdGhlIG9uLXNjcmVlbiBsb2NhdGlvbiBhbmQgZGltZW5zaW9ucy4gSWYgc3VjY2Vzc2Z1bCwgdGhlIGNhbGxiYWNrXG4gICAqIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IHdpdGggdGhlIGZvbGxvd2luZyBhcmd1bWVudHM6XG4gICAqXG4gICAqICAtIHhcbiAgICogIC0geVxuICAgKiAgLSB3aWR0aFxuICAgKiAgLSBoZWlnaHRcbiAgICogIC0gcGFnZVhcbiAgICogIC0gcGFnZVlcbiAgICpcbiAgICogVGhlc2UgdmFsdWVzIGFyZSBub3QgYXZhaWxhYmxlIHVudGlsIGFmdGVyIG5hdGl2ZXMgcmVuZGVyaW5nIGNvbXBsZXRlcy4gSWZcbiAgICogeW91IG5lZWQgdGhlIG1lYXN1cmVtZW50cyBhcyBzb29uIGFzIHBvc3NpYmxlLCBjb25zaWRlciB1c2luZyB0aGVcbiAgICogW2BvbkxheW91dGAgcHJvcF0oZG9jcy92aWV3Lmh0bWwjb25sYXlvdXQpIGluc3RlYWQuXG4gICAqL1xuXG4gIFJlYWN0TmF0aXZlQ29tcG9uZW50LnByb3RvdHlwZS5tZWFzdXJlID0gZnVuY3Rpb24gbWVhc3VyZShjYWxsYmFjaykge1xuICAgIFVJTWFuYWdlci5tZWFzdXJlKFxuICAgICAgZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIodGhpcyksXG4gICAgICBtb3VudFNhZmVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaylcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZWFzdXJlcyB0aGUgb24tc2NyZWVuIGxvY2F0aW9uIGFuZCBkaW1lbnNpb25zLiBFdmVuIGlmIHRoZSBSZWFjdCBOYXRpdmVcbiAgICogcm9vdCB2aWV3IGlzIGVtYmVkZGVkIHdpdGhpbiBhbm90aGVyIG5hdGl2ZSB2aWV3LCB0aGlzIG1ldGhvZCB3aWxsIGdpdmUgeW91XG4gICAqIHRoZSBhYnNvbHV0ZSBjb29yZGluYXRlcyBtZWFzdXJlZCBmcm9tIHRoZSB3aW5kb3cuIElmIHN1Y2Nlc3NmdWwsIHRoZVxuICAgKiBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSB3aXRoIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICAgKlxuICAgKiAgLSB4XG4gICAqICAtIHlcbiAgICogIC0gd2lkdGhcbiAgICogIC0gaGVpZ2h0XG4gICAqXG4gICAqIFRoZXNlIHZhbHVlcyBhcmUgbm90IGF2YWlsYWJsZSB1bnRpbCBhZnRlciBuYXRpdmVzIHJlbmRlcmluZyBjb21wbGV0ZXMuXG4gICAqL1xuXG4gIFJlYWN0TmF0aXZlQ29tcG9uZW50LnByb3RvdHlwZS5tZWFzdXJlSW5XaW5kb3cgPSBmdW5jdGlvbiBtZWFzdXJlSW5XaW5kb3coXG4gICAgY2FsbGJhY2tcbiAgKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmVJbldpbmRvdyhcbiAgICAgIGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKHRoaXMpLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2spXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU2ltaWxhciB0byBbYG1lYXN1cmUoKWBdKCNtZWFzdXJlKSwgYnV0IHRoZSByZXN1bHRpbmcgbG9jYXRpb24gd2lsbCBiZVxuICAgKiByZWxhdGl2ZSB0byB0aGUgc3VwcGxpZWQgYW5jZXN0b3IncyBsb2NhdGlvbi5cbiAgICpcbiAgICogT2J0YWluIGEgbmF0aXZlIG5vZGUgaGFuZGxlIHdpdGggYFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKGNvbXBvbmVudClgLlxuICAgKi9cblxuICBSZWFjdE5hdGl2ZUNvbXBvbmVudC5wcm90b3R5cGUubWVhc3VyZUxheW91dCA9IGZ1bmN0aW9uIG1lYXN1cmVMYXlvdXQoXG4gICAgcmVsYXRpdmVUb05hdGl2ZU5vZGUsXG4gICAgb25TdWNjZXNzLFxuICAgIG9uRmFpbCAvKiBjdXJyZW50bHkgdW51c2VkICovXG4gICkge1xuICAgIFVJTWFuYWdlci5tZWFzdXJlTGF5b3V0KFxuICAgICAgZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIodGhpcyksXG4gICAgICByZWxhdGl2ZVRvTmF0aXZlTm9kZSxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIG9uRmFpbCksXG4gICAgICBtb3VudFNhZmVDYWxsYmFjayh0aGlzLCBvblN1Y2Nlc3MpXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBzZW5kcyBwcm9wcyBzdHJhaWdodCB0byBuYXRpdmUuIFRoZXkgd2lsbCBub3QgcGFydGljaXBhdGUgaW5cbiAgICogZnV0dXJlIGRpZmYgcHJvY2VzcyAtIHRoaXMgbWVhbnMgdGhhdCBpZiB5b3UgZG8gbm90IGluY2x1ZGUgdGhlbSBpbiB0aGVcbiAgICogbmV4dCByZW5kZXIsIHRoZXkgd2lsbCByZW1haW4gYWN0aXZlIChzZWUgW0RpcmVjdFxuICAgKiBNYW5pcHVsYXRpb25dKGRvY3MvZGlyZWN0LW1hbmlwdWxhdGlvbi5odG1sKSkuXG4gICAqL1xuXG4gIFJlYWN0TmF0aXZlQ29tcG9uZW50LnByb3RvdHlwZS5zZXROYXRpdmVQcm9wcyA9IGZ1bmN0aW9uIHNldE5hdGl2ZVByb3BzKFxuICAgIG5hdGl2ZVByb3BzXG4gICkge1xuICAgIC8vIENsYXNzIGNvbXBvbmVudHMgZG9uJ3QgaGF2ZSB2aWV3Q29uZmlnIC0+IHZhbGlkYXRlQXR0cmlidXRlcy5cbiAgICAvLyBOb3IgZG9lcyBpdCBtYWtlIHNlbnNlIHRvIHNldCBuYXRpdmUgcHJvcHMgb24gYSBub24tbmF0aXZlIGNvbXBvbmVudC5cbiAgICAvLyBJbnN0ZWFkLCBmaW5kIHRoZSBuZWFyZXN0IGhvc3QgY29tcG9uZW50IGFuZCBzZXQgcHJvcHMgb24gaXQuXG4gICAgLy8gVXNlIGZpbmROb2RlSGFuZGxlKCkgcmF0aGVyIHRoYW4gUmVhY3ROYXRpdmUuZmluZE5vZGVIYW5kbGUoKSBiZWNhdXNlXG4gICAgLy8gV2Ugd2FudCB0aGUgaW5zdGFuY2Uvd3JhcHBlciAobm90IHRoZSBuYXRpdmUgdGFnKS5cbiAgICB2YXIgbWF5YmVJbnN0YW5jZSA9IHZvaWQgMDtcblxuICAgIC8vIEZpYmVyIGVycm9ycyBpZiBmaW5kTm9kZUhhbmRsZSBpcyBjYWxsZWQgZm9yIGFuIHVtb3VudGVkIGNvbXBvbmVudC5cbiAgICAvLyBUZXN0cyB1c2luZyBSZWFjdFRlc3RSZW5kZXJlciB3aWxsIHRyaWdnZXIgdGhpcyBjYXNlIGluZGlyZWN0bHkuXG4gICAgLy8gTWltaWNraW5nIHN0YWNrIGJlaGF2aW9yLCB3ZSBzaG91bGQgc2lsZW50bHkgaWdub3JlIHRoaXMgY2FzZS5cbiAgICAvLyBUT0RPIEZpeCBSZWFjdFRlc3RSZW5kZXJlciBzbyB3ZSBjYW4gcmVtb3ZlIHRoaXMgdHJ5L2NhdGNoLlxuICAgIHRyeSB7XG4gICAgICBtYXliZUluc3RhbmNlID0gZmluZE5vZGVIYW5kbGUodGhpcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBubyBob3N0IGNvbXBvbmVudCBiZW5lYXRoIHRoaXMgd2Ugc2hvdWxkIGZhaWwgc2lsZW50bHkuXG4gICAgLy8gVGhpcyBpcyBub3QgYW4gZXJyb3I7IGl0IGNvdWxkIG1lYW4gYSBjbGFzcyBjb21wb25lbnQgcmVuZGVyZWQgbnVsbC5cbiAgICBpZiAobWF5YmVJbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZpZXdDb25maWcgPVxuICAgICAgbWF5YmVJbnN0YW5jZS52aWV3Q29uZmlnIHx8IG1heWJlSW5zdGFuY2UuY2Fub25pY2FsLnZpZXdDb25maWc7XG5cbiAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGNyZWF0ZShuYXRpdmVQcm9wcywgdmlld0NvbmZpZy52YWxpZEF0dHJpYnV0ZXMpO1xuXG4gICAgLy8gQXZvaWQgdGhlIG92ZXJoZWFkIG9mIGJyaWRnZSBjYWxscyBpZiB0aGVyZSdzIG5vIHVwZGF0ZS5cbiAgICAvLyBUaGlzIGlzIGFuIGV4cGVuc2l2ZSBuby1vcCBmb3IgQW5kcm9pZCwgYW5kIGNhdXNlcyBhbiB1bm5lY2Vzc2FyeVxuICAgIC8vIHZpZXcgaW52YWxpZGF0aW9uIGZvciBjZXJ0YWluIGNvbXBvbmVudHMgKGVnIFJDVFRleHRJbnB1dCkgb24gaU9TLlxuICAgIGlmICh1cGRhdGVQYXlsb2FkICE9IG51bGwpIHtcbiAgICAgIFVJTWFuYWdlci51cGRhdGVWaWV3KFxuICAgICAgICBtYXliZUluc3RhbmNlLl9uYXRpdmVUYWcsXG4gICAgICAgIHZpZXdDb25maWcudWlWaWV3Q2xhc3NOYW1lLFxuICAgICAgICB1cGRhdGVQYXlsb2FkXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUmVhY3ROYXRpdmVDb21wb25lbnQ7XG59KShSZWFjdC5Db21wb25lbnQpO1xuXG4vLyBEb24ndCBjaGFuZ2UgdGhlc2UgdHdvIHZhbHVlcy4gVGhleSdyZSB1c2VkIGJ5IFJlYWN0IERldiBUb29scy5cbnZhciBOb0VmZmVjdCA9IC8qICAgICAgICAgICAgICAqLyAwO1xudmFyIFBlcmZvcm1lZFdvcmsgPSAvKiAgICAgICAgICovIDE7XG5cbi8vIFlvdSBjYW4gY2hhbmdlIHRoZSByZXN0IChhbmQgYWRkIG1vcmUpLlxudmFyIFBsYWNlbWVudCA9IC8qICAgICAgICAgICAgICovIDI7XG52YXIgVXBkYXRlID0gLyogICAgICAgICAgICAgICAgKi8gNDtcbnZhciBQbGFjZW1lbnRBbmRVcGRhdGUgPSAvKiAgICAqLyA2O1xudmFyIERlbGV0aW9uID0gLyogICAgICAgICAgICAgICovIDg7XG52YXIgQ29udGVudFJlc2V0ID0gLyogICAgICAgICAgKi8gMTY7XG52YXIgQ2FsbGJhY2sgPSAvKiAgICAgICAgICAgICAgKi8gMzI7XG52YXIgRGlkQ2FwdHVyZSA9IC8qICAgICAgICAgICAgKi8gNjQ7XG52YXIgUmVmID0gLyogICAgICAgICAgICAgICAgICAgKi8gMTI4O1xudmFyIEVyckxvZyA9IC8qICAgICAgICAgICAgICAgICovIDI1NjtcbnZhciBTbmFwc2hvdCA9IC8qICAgICAgICAgICAgICAqLyAyMDQ4O1xuXG4vLyBVbmlvbiBvZiBhbGwgaG9zdCBlZmZlY3RzXG52YXIgSG9zdEVmZmVjdE1hc2sgPSAvKiAgICAgICAgKi8gMjU1OTtcblxudmFyIEluY29tcGxldGUgPSAvKiAgICAgICAgICAgICovIDUxMjtcbnZhciBTaG91bGRDYXB0dXJlID0gLyogICAgICAgICAqLyAxMDI0O1xuXG52YXIgTU9VTlRJTkcgPSAxO1xudmFyIE1PVU5URUQgPSAyO1xudmFyIFVOTU9VTlRFRCA9IDM7XG5cbmZ1bmN0aW9uIGlzRmliZXJNb3VudGVkSW1wbChmaWJlcikge1xuICB2YXIgbm9kZSA9IGZpYmVyO1xuICBpZiAoIWZpYmVyLmFsdGVybmF0ZSkge1xuICAgIC8vIElmIHRoZXJlIGlzIG5vIGFsdGVybmF0ZSwgdGhpcyBtaWdodCBiZSBhIG5ldyB0cmVlIHRoYXQgaXNuJ3QgaW5zZXJ0ZWRcbiAgICAvLyB5ZXQuIElmIGl0IGlzLCB0aGVuIGl0IHdpbGwgaGF2ZSBhIHBlbmRpbmcgaW5zZXJ0aW9uIGVmZmVjdCBvbiBpdC5cbiAgICBpZiAoKG5vZGUuZWZmZWN0VGFnICYgUGxhY2VtZW50KSAhPT0gTm9FZmZlY3QpIHtcbiAgICAgIHJldHVybiBNT1VOVElORztcbiAgICB9XG4gICAgd2hpbGUgKG5vZGVbXCJyZXR1cm5cIl0pIHtcbiAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgaWYgKChub2RlLmVmZmVjdFRhZyAmIFBsYWNlbWVudCkgIT09IE5vRWZmZWN0KSB7XG4gICAgICAgIHJldHVybiBNT1VOVElORztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKG5vZGVbXCJyZXR1cm5cIl0pIHtcbiAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgIH1cbiAgfVxuICBpZiAobm9kZS50YWcgPT09IEhvc3RSb290KSB7XG4gICAgLy8gVE9ETzogQ2hlY2sgaWYgdGhpcyB3YXMgYSBuZXN0ZWQgSG9zdFJvb3Qgd2hlbiB1c2VkIHdpdGhcbiAgICAvLyByZW5kZXJDb250YWluZXJJbnRvU3VidHJlZS5cbiAgICByZXR1cm4gTU9VTlRFRDtcbiAgfVxuICAvLyBJZiB3ZSBkaWRuJ3QgaGl0IHRoZSByb290LCB0aGF0IG1lYW5zIHRoYXQgd2UncmUgaW4gYW4gZGlzY29ubmVjdGVkIHRyZWVcbiAgLy8gdGhhdCBoYXMgYmVlbiB1bm1vdW50ZWQuXG4gIHJldHVybiBVTk1PVU5URUQ7XG59XG5cbmZ1bmN0aW9uIGlzRmliZXJNb3VudGVkKGZpYmVyKSB7XG4gIHJldHVybiBpc0ZpYmVyTW91bnRlZEltcGwoZmliZXIpID09PSBNT1VOVEVEO1xufVxuXG5mdW5jdGlvbiBpc01vdW50ZWQoY29tcG9uZW50KSB7XG4gIHtcbiAgICB2YXIgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgIGlmIChvd25lciAhPT0gbnVsbCAmJiBvd25lci50YWcgPT09IENsYXNzQ29tcG9uZW50KSB7XG4gICAgICB2YXIgb3duZXJGaWJlciA9IG93bmVyO1xuICAgICAgdmFyIGluc3RhbmNlID0gb3duZXJGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAhaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyXG4gICAgICAgID8gd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCIlcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uIFwiICtcbiAgICAgICAgICAgICAgXCJyZW5kZXIoKSBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZS4gSXQgc2hvdWxkIFwiICtcbiAgICAgICAgICAgICAgXCJuZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyBcIiArXG4gICAgICAgICAgICAgIFwicmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgXCIgK1xuICAgICAgICAgICAgICBcImNvbXBvbmVudERpZFVwZGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZShvd25lckZpYmVyKSB8fCBcIkEgY29tcG9uZW50XCJcbiAgICAgICAgICApXG4gICAgICAgIDogdm9pZCAwO1xuICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmliZXIgPSBnZXQoY29tcG9uZW50KTtcbiAgaWYgKCFmaWJlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaWJlck1vdW50ZWRJbXBsKGZpYmVyKSA9PT0gTU9VTlRFRDtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0SXNNb3VudGVkKGZpYmVyKSB7XG4gIGludmFyaWFudChcbiAgICBpc0ZpYmVyTW91bnRlZEltcGwoZmliZXIpID09PSBNT1VOVEVELFxuICAgIFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKGZpYmVyKSB7XG4gIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYWx0ZXJuYXRlLCB0aGVuIHdlIG9ubHkgbmVlZCB0byBjaGVjayBpZiBpdCBpcyBtb3VudGVkLlxuICAgIHZhciBzdGF0ZSA9IGlzRmliZXJNb3VudGVkSW1wbChmaWJlcik7XG4gICAgaW52YXJpYW50KFxuICAgICAgc3RhdGUgIT09IFVOTU9VTlRFRCxcbiAgICAgIFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiXG4gICAgKTtcbiAgICBpZiAoc3RhdGUgPT09IE1PVU5USU5HKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZpYmVyO1xuICB9XG4gIC8vIElmIHdlIGhhdmUgdHdvIHBvc3NpYmxlIGJyYW5jaGVzLCB3ZSdsbCB3YWxrIGJhY2t3YXJkcyB1cCB0byB0aGUgcm9vdFxuICAvLyB0byBzZWUgd2hhdCBwYXRoIHRoZSByb290IHBvaW50cyB0by4gT24gdGhlIHdheSB3ZSBtYXkgaGl0IG9uZSBvZiB0aGVcbiAgLy8gc3BlY2lhbCBjYXNlcyBhbmQgd2UnbGwgZGVhbCB3aXRoIHRoZW0uXG4gIHZhciBhID0gZmliZXI7XG4gIHZhciBiID0gYWx0ZXJuYXRlO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBwYXJlbnRBID0gYVtcInJldHVyblwiXTtcbiAgICB2YXIgcGFyZW50QiA9IHBhcmVudEEgPyBwYXJlbnRBLmFsdGVybmF0ZSA6IG51bGw7XG4gICAgaWYgKCFwYXJlbnRBIHx8ICFwYXJlbnRCKSB7XG4gICAgICAvLyBXZSdyZSBhdCB0aGUgcm9vdC5cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIElmIGJvdGggY29waWVzIG9mIHRoZSBwYXJlbnQgZmliZXIgcG9pbnQgdG8gdGhlIHNhbWUgY2hpbGQsIHdlIGNhblxuICAgIC8vIGFzc3VtZSB0aGF0IHRoZSBjaGlsZCBpcyBjdXJyZW50LiBUaGlzIGhhcHBlbnMgd2hlbiB3ZSBiYWlsb3V0IG9uIGxvd1xuICAgIC8vIHByaW9yaXR5OiB0aGUgYmFpbGVkIG91dCBmaWJlcidzIGNoaWxkIHJldXNlcyB0aGUgY3VycmVudCBjaGlsZC5cbiAgICBpZiAocGFyZW50QS5jaGlsZCA9PT0gcGFyZW50Qi5jaGlsZCkge1xuICAgICAgdmFyIGNoaWxkID0gcGFyZW50QS5jaGlsZDtcbiAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQSBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgICAgICAgYXNzZXJ0SXNNb3VudGVkKHBhcmVudEEpO1xuICAgICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAvLyBXZSd2ZSBkZXRlcm1pbmVkIHRoYXQgQiBpcyB0aGUgY3VycmVudCBicmFuY2guXG4gICAgICAgICAgYXNzZXJ0SXNNb3VudGVkKHBhcmVudEEpO1xuICAgICAgICAgIHJldHVybiBhbHRlcm5hdGU7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQgPSBjaGlsZC5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgLy8gV2Ugc2hvdWxkIG5ldmVyIGhhdmUgYW4gYWx0ZXJuYXRlIGZvciBhbnkgbW91bnRpbmcgbm9kZS4gU28gdGhlIG9ubHlcbiAgICAgIC8vIHdheSB0aGlzIGNvdWxkIHBvc3NpYmx5IGhhcHBlbiBpcyBpZiB0aGlzIHdhcyB1bm1vdW50ZWQsIGlmIGF0IGFsbC5cbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgIH1cblxuICAgIGlmIChhW1wicmV0dXJuXCJdICE9PSBiW1wicmV0dXJuXCJdKSB7XG4gICAgICAvLyBUaGUgcmV0dXJuIHBvaW50ZXIgb2YgQSBhbmQgdGhlIHJldHVybiBwb2ludGVyIG9mIEIgcG9pbnQgdG8gZGlmZmVyZW50XG4gICAgICAvLyBmaWJlcnMuIFdlIGFzc3VtZSB0aGF0IHJldHVybiBwb2ludGVycyBuZXZlciBjcmlzcy1jcm9zcywgc28gQSBtdXN0XG4gICAgICAvLyBiZWxvbmcgdG8gdGhlIGNoaWxkIHNldCBvZiBBLnJldHVybiwgYW5kIEIgbXVzdCBiZWxvbmcgdG8gdGhlIGNoaWxkXG4gICAgICAvLyBzZXQgb2YgQi5yZXR1cm4uXG4gICAgICBhID0gcGFyZW50QTtcbiAgICAgIGIgPSBwYXJlbnRCO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGUgcmV0dXJuIHBvaW50ZXJzIHBvaW50IHRvIHRoZSBzYW1lIGZpYmVyLiBXZSdsbCBoYXZlIHRvIHVzZSB0aGVcbiAgICAgIC8vIGRlZmF1bHQsIHNsb3cgcGF0aDogc2NhbiB0aGUgY2hpbGQgc2V0cyBvZiBlYWNoIHBhcmVudCBhbHRlcm5hdGUgdG8gc2VlXG4gICAgICAvLyB3aGljaCBjaGlsZCBiZWxvbmdzIHRvIHdoaWNoIHNldC5cbiAgICAgIC8vXG4gICAgICAvLyBTZWFyY2ggcGFyZW50IEEncyBjaGlsZCBzZXRcbiAgICAgIHZhciBkaWRGaW5kQ2hpbGQgPSBmYWxzZTtcbiAgICAgIHZhciBfY2hpbGQgPSBwYXJlbnRBLmNoaWxkO1xuICAgICAgd2hpbGUgKF9jaGlsZCkge1xuICAgICAgICBpZiAoX2NoaWxkID09PSBhKSB7XG4gICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICBhID0gcGFyZW50QTtcbiAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2NoaWxkID09PSBiKSB7XG4gICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICBiID0gcGFyZW50QTtcbiAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgIH1cbiAgICAgIGlmICghZGlkRmluZENoaWxkKSB7XG4gICAgICAgIC8vIFNlYXJjaCBwYXJlbnQgQidzIGNoaWxkIHNldFxuICAgICAgICBfY2hpbGQgPSBwYXJlbnRCLmNoaWxkO1xuICAgICAgICB3aGlsZSAoX2NoaWxkKSB7XG4gICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIGEgPSBwYXJlbnRCO1xuICAgICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgICAgZGlkRmluZENoaWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGRpZEZpbmRDaGlsZCxcbiAgICAgICAgICBcIkNoaWxkIHdhcyBub3QgZm91bmQgaW4gZWl0aGVyIHBhcmVudCBzZXQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIFwiICtcbiAgICAgICAgICAgIFwiaW4gUmVhY3QgcmVsYXRlZCB0byB0aGUgcmV0dXJuIHBvaW50ZXIuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgYS5hbHRlcm5hdGUgPT09IGIsXG4gICAgICBcIlJldHVybiBmaWJlcnMgc2hvdWxkIGFsd2F5cyBiZSBlYWNoIG90aGVycycgYWx0ZXJuYXRlcy4gXCIgK1xuICAgICAgICBcIlRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuICB9XG4gIC8vIElmIHRoZSByb290IGlzIG5vdCBhIGhvc3QgY29udGFpbmVyLCB3ZSdyZSBpbiBhIGRpc2Nvbm5lY3RlZCB0cmVlLiBJLmUuXG4gIC8vIHVubW91bnRlZC5cbiAgaW52YXJpYW50KFxuICAgIGEudGFnID09PSBIb3N0Um9vdCxcbiAgICBcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIlxuICApO1xuICBpZiAoYS5zdGF0ZU5vZGUuY3VycmVudCA9PT0gYSkge1xuICAgIC8vIFdlJ3ZlIGRldGVybWluZWQgdGhhdCBBIGlzIHRoZSBjdXJyZW50IGJyYW5jaC5cbiAgICByZXR1cm4gZmliZXI7XG4gIH1cbiAgLy8gT3RoZXJ3aXNlIEIgaGFzIHRvIGJlIGN1cnJlbnQgYnJhbmNoLlxuICByZXR1cm4gYWx0ZXJuYXRlO1xufVxuXG5mdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlcihwYXJlbnQpIHtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChwYXJlbnQpO1xuICBpZiAoIWN1cnJlbnRQYXJlbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE5leHQgd2UnbGwgZHJpbGwgZG93biB0aGlzIGNvbXBvbmVudCB0byBmaW5kIHRoZSBmaXJzdCBIb3N0Q29tcG9uZW50L1RleHQuXG4gIHZhciBub2RlID0gY3VycmVudFBhcmVudDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQpIHtcbiAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoIW5vZGUuc2libGluZykge1xuICAgICAgaWYgKCFub2RlW1wicmV0dXJuXCJdIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICB9XG4gIC8vIEZsb3cgbmVlZHMgdGhlIHJldHVybiBudWxsIGhlcmUsIGJ1dCBFU0xpbnQgY29tcGxhaW5zIGFib3V0IGl0LlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5yZWFjaGFibGVcbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyhwYXJlbnQpIHtcbiAgdmFyIGN1cnJlbnRQYXJlbnQgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChwYXJlbnQpO1xuICBpZiAoIWN1cnJlbnRQYXJlbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE5leHQgd2UnbGwgZHJpbGwgZG93biB0aGlzIGNvbXBvbmVudCB0byBmaW5kIHRoZSBmaXJzdCBIb3N0Q29tcG9uZW50L1RleHQuXG4gIHZhciBub2RlID0gY3VycmVudFBhcmVudDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgJiYgbm9kZS50YWcgIT09IEhvc3RQb3J0YWwpIHtcbiAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAoIW5vZGUuc2libGluZykge1xuICAgICAgaWYgKCFub2RlW1wicmV0dXJuXCJdIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICB9XG4gICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICB9XG4gIC8vIEZsb3cgbmVlZHMgdGhlIHJldHVybiBudWxsIGhlcmUsIGJ1dCBFU0xpbnQgY29tcGxhaW5zIGFib3V0IGl0LlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5yZWFjaGFibGVcbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIE1heCAzMSBiaXQgaW50ZWdlci4gVGhlIG1heCBpbnRlZ2VyIHNpemUgaW4gVjggZm9yIDMyLWJpdCBzeXN0ZW1zLlxuLy8gTWF0aC5wb3coMiwgMzApIC0gMVxuLy8gMGIxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTFcbnZhciBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgPSAxMDczNzQxODIzO1xuXG4vLyBUT0RPOiBVc2UgYW4gb3BhcXVlIHR5cGUgb25jZSBFU0xpbnQgZXQgYWwgc3VwcG9ydCB0aGUgc3ludGF4XG5cbnZhciBOb1dvcmsgPSAwO1xudmFyIFN5bmMgPSAxO1xudmFyIE5ldmVyID0gTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuXG52YXIgVU5JVF9TSVpFID0gMTA7XG52YXIgTUFHSUNfTlVNQkVSX09GRlNFVCA9IDI7XG5cbi8vIDEgdW5pdCBvZiBleHBpcmF0aW9uIHRpbWUgcmVwcmVzZW50cyAxMG1zLlxuZnVuY3Rpb24gbXNUb0V4cGlyYXRpb25UaW1lKG1zKSB7XG4gIC8vIEFsd2F5cyBhZGQgYW4gb2Zmc2V0IHNvIHRoYXQgd2UgZG9uJ3QgY2xhc2ggd2l0aCB0aGUgbWFnaWMgbnVtYmVyIGZvciBOb1dvcmsuXG4gIHJldHVybiAoKG1zIC8gVU5JVF9TSVpFKSB8IDApICsgTUFHSUNfTlVNQkVSX09GRlNFVDtcbn1cblxuZnVuY3Rpb24gZXhwaXJhdGlvblRpbWVUb01zKGV4cGlyYXRpb25UaW1lKSB7XG4gIHJldHVybiAoZXhwaXJhdGlvblRpbWUgLSBNQUdJQ19OVU1CRVJfT0ZGU0VUKSAqIFVOSVRfU0laRTtcbn1cblxuZnVuY3Rpb24gY2VpbGluZyhudW0sIHByZWNpc2lvbikge1xuICByZXR1cm4gKCgobnVtIC8gcHJlY2lzaW9uKSB8IDApICsgMSkgKiBwcmVjaXNpb247XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVFeHBpcmF0aW9uQnVja2V0KGN1cnJlbnRUaW1lLCBleHBpcmF0aW9uSW5NcywgYnVja2V0U2l6ZU1zKSB7XG4gIHJldHVybiBjZWlsaW5nKFxuICAgIGN1cnJlbnRUaW1lICsgZXhwaXJhdGlvbkluTXMgLyBVTklUX1NJWkUsXG4gICAgYnVja2V0U2l6ZU1zIC8gVU5JVF9TSVpFXG4gICk7XG59XG5cbnZhciBOb0NvbnRleHQgPSAwO1xudmFyIEFzeW5jTW9kZSA9IDE7XG52YXIgU3RyaWN0TW9kZSA9IDI7XG5cbnZhciBoYXNCYWRNYXBQb2x5ZmlsbCA9IHZvaWQgMDtcblxue1xuICBoYXNCYWRNYXBQb2x5ZmlsbCA9IGZhbHNlO1xuICB0cnkge1xuICAgIHZhciBub25FeHRlbnNpYmxlT2JqZWN0ID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KTtcbiAgICB2YXIgdGVzdE1hcCA9IG5ldyBNYXAoW1tub25FeHRlbnNpYmxlT2JqZWN0LCBudWxsXV0pO1xuICAgIHZhciB0ZXN0U2V0ID0gbmV3IFNldChbbm9uRXh0ZW5zaWJsZU9iamVjdF0pO1xuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGZvciBSb2xsdXAgdG8gbm90IGNvbnNpZGVyIHRoZXNlIHVudXNlZC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcm9sbHVwL3JvbGx1cC9pc3N1ZXMvMTc3MVxuICAgIC8vIFRPRE86IHdlIGNhbiByZW1vdmUgdGhlc2UgaWYgUm9sbHVwIGZpeGVzIHRoZSBidWcuXG4gICAgdGVzdE1hcC5zZXQoMCwgMCk7XG4gICAgdGVzdFNldC5hZGQoMCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBUT0RPOiBDb25zaWRlciB3YXJuaW5nIGFib3V0IGJhZCBwb2x5ZmlsbHNcbiAgICBoYXNCYWRNYXBQb2x5ZmlsbCA9IHRydWU7XG4gIH1cbn1cblxuLy8gQSBGaWJlciBpcyB3b3JrIG9uIGEgQ29tcG9uZW50IHRoYXQgbmVlZHMgdG8gYmUgZG9uZSBvciB3YXMgZG9uZS4gVGhlcmUgY2FuXG4vLyBiZSBtb3JlIHRoYW4gb25lIHBlciBjb21wb25lbnQuXG5cbnZhciBkZWJ1Z0NvdW50ZXIgPSB2b2lkIDA7XG5cbntcbiAgZGVidWdDb3VudGVyID0gMTtcbn1cblxuZnVuY3Rpb24gRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgLy8gSW5zdGFuY2VcbiAgdGhpcy50YWcgPSB0YWc7XG4gIHRoaXMua2V5ID0ga2V5O1xuICB0aGlzLnR5cGUgPSBudWxsO1xuICB0aGlzLnN0YXRlTm9kZSA9IG51bGw7XG5cbiAgLy8gRmliZXJcbiAgdGhpc1tcInJldHVyblwiXSA9IG51bGw7XG4gIHRoaXMuY2hpbGQgPSBudWxsO1xuICB0aGlzLnNpYmxpbmcgPSBudWxsO1xuICB0aGlzLmluZGV4ID0gMDtcblxuICB0aGlzLnJlZiA9IG51bGw7XG5cbiAgdGhpcy5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHM7XG4gIHRoaXMubWVtb2l6ZWRQcm9wcyA9IG51bGw7XG4gIHRoaXMudXBkYXRlUXVldWUgPSBudWxsO1xuICB0aGlzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuXG4gIHRoaXMubW9kZSA9IG1vZGU7XG5cbiAgLy8gRWZmZWN0c1xuICB0aGlzLmVmZmVjdFRhZyA9IE5vRWZmZWN0O1xuICB0aGlzLm5leHRFZmZlY3QgPSBudWxsO1xuXG4gIHRoaXMuZmlyc3RFZmZlY3QgPSBudWxsO1xuICB0aGlzLmxhc3RFZmZlY3QgPSBudWxsO1xuXG4gIHRoaXMuZXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG5cbiAgdGhpcy5hbHRlcm5hdGUgPSBudWxsO1xuXG4gIHtcbiAgICB0aGlzLl9kZWJ1Z0lEID0gZGVidWdDb3VudGVyKys7XG4gICAgdGhpcy5fZGVidWdTb3VyY2UgPSBudWxsO1xuICAgIHRoaXMuX2RlYnVnT3duZXIgPSBudWxsO1xuICAgIHRoaXMuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBmYWxzZTtcbiAgICBpZiAoIWhhc0JhZE1hcFBvbHlmaWxsICYmIHR5cGVvZiBPYmplY3QucHJldmVudEV4dGVuc2lvbnMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBUaGlzIGlzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24sIHJhdGhlciB0aGFuIGEgUE9KTyBjb25zdHJ1Y3Rvciwgc3RpbGxcbi8vIHBsZWFzZSBlbnN1cmUgd2UgZG8gdGhlIGZvbGxvd2luZzpcbi8vIDEpIE5vYm9keSBzaG91bGQgYWRkIGFueSBpbnN0YW5jZSBtZXRob2RzIG9uIHRoaXMuIEluc3RhbmNlIG1ldGhvZHMgY2FuIGJlXG4vLyAgICBtb3JlIGRpZmZpY3VsdCB0byBwcmVkaWN0IHdoZW4gdGhleSBnZXQgb3B0aW1pemVkIGFuZCB0aGV5IGFyZSBhbG1vc3Rcbi8vICAgIG5ldmVyIGlubGluZWQgcHJvcGVybHkgaW4gc3RhdGljIGNvbXBpbGVycy5cbi8vIDIpIE5vYm9keSBzaG91bGQgcmVseSBvbiBgaW5zdGFuY2VvZiBGaWJlcmAgZm9yIHR5cGUgdGVzdGluZy4gV2Ugc2hvdWxkXG4vLyAgICBhbHdheXMga25vdyB3aGVuIGl0IGlzIGEgZmliZXIuXG4vLyAzKSBXZSBtaWdodCB3YW50IHRvIGV4cGVyaW1lbnQgd2l0aCB1c2luZyBudW1lcmljIGtleXMgc2luY2UgdGhleSBhcmUgZWFzaWVyXG4vLyAgICB0byBvcHRpbWl6ZSBpbiBhIG5vbi1KSVQgZW52aXJvbm1lbnQuXG4vLyA0KSBXZSBjYW4gZWFzaWx5IGdvIGZyb20gYSBjb25zdHJ1Y3RvciB0byBhIGNyZWF0ZUZpYmVyIG9iamVjdCBsaXRlcmFsIGlmIHRoYXRcbi8vICAgIGlzIGZhc3Rlci5cbi8vIDUpIEl0IHNob3VsZCBiZSBlYXN5IHRvIHBvcnQgdGhpcyB0byBhIEMgc3RydWN0IGFuZCBrZWVwIGEgQyBpbXBsZW1lbnRhdGlvblxuLy8gICAgY29tcGF0aWJsZS5cbnZhciBjcmVhdGVGaWJlciA9IGZ1bmN0aW9uKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgLy8gJEZsb3dGaXhNZTogdGhlIHNoYXBlcyBhcmUgZXhhY3QgaGVyZSBidXQgRmxvdyBkb2Vzbid0IGxpa2UgY29uc3RydWN0b3JzXG4gIHJldHVybiBuZXcgRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xufTtcblxuZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICByZXR1cm4gISEoQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuXG4vLyBUaGlzIGlzIHVzZWQgdG8gY3JlYXRlIGFuIGFsdGVybmF0ZSBmaWJlciB0byBkbyB3b3JrIG9uLlxuZnVuY3Rpb24gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudCwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgd29ya0luUHJvZ3Jlc3MgPSBjdXJyZW50LmFsdGVybmF0ZTtcbiAgaWYgKHdvcmtJblByb2dyZXNzID09PSBudWxsKSB7XG4gICAgLy8gV2UgdXNlIGEgZG91YmxlIGJ1ZmZlcmluZyBwb29saW5nIHRlY2huaXF1ZSBiZWNhdXNlIHdlIGtub3cgdGhhdCB3ZSdsbFxuICAgIC8vIG9ubHkgZXZlciBuZWVkIGF0IG1vc3QgdHdvIHZlcnNpb25zIG9mIGEgdHJlZS4gV2UgcG9vbCB0aGUgXCJvdGhlclwiIHVudXNlZFxuICAgIC8vIG5vZGUgdGhhdCB3ZSdyZSBmcmVlIHRvIHJldXNlLiBUaGlzIGlzIGxhemlseSBjcmVhdGVkIHRvIGF2b2lkIGFsbG9jYXRpbmdcbiAgICAvLyBleHRyYSBvYmplY3RzIGZvciB0aGluZ3MgdGhhdCBhcmUgbmV2ZXIgdXBkYXRlZC4gSXQgYWxzbyBhbGxvdyB1cyB0b1xuICAgIC8vIHJlY2xhaW0gdGhlIGV4dHJhIG1lbW9yeSBpZiBuZWVkZWQuXG4gICAgd29ya0luUHJvZ3Jlc3MgPSBjcmVhdGVGaWJlcihcbiAgICAgIGN1cnJlbnQudGFnLFxuICAgICAgcGVuZGluZ1Byb3BzLFxuICAgICAgY3VycmVudC5rZXksXG4gICAgICBjdXJyZW50Lm1vZGVcbiAgICApO1xuICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50LnR5cGU7XG4gICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudC5zdGF0ZU5vZGU7XG5cbiAgICB7XG4gICAgICAvLyBERVYtb25seSBmaWVsZHNcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z0lEID0gY3VycmVudC5fZGVidWdJRDtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z1NvdXJjZSA9IGN1cnJlbnQuX2RlYnVnU291cmNlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnT3duZXIgPSBjdXJyZW50Ll9kZWJ1Z093bmVyO1xuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZSA9IGN1cnJlbnQ7XG4gICAgY3VycmVudC5hbHRlcm5hdGUgPSB3b3JrSW5Qcm9ncmVzcztcbiAgfSBlbHNlIHtcbiAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHM7XG5cbiAgICAvLyBXZSBhbHJlYWR5IGhhdmUgYW4gYWx0ZXJuYXRlLlxuICAgIC8vIFJlc2V0IHRoZSBlZmZlY3QgdGFnLlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IE5vRWZmZWN0O1xuXG4gICAgLy8gVGhlIGVmZmVjdCBsaXN0IGlzIG5vIGxvbmdlciB2YWxpZC5cbiAgICB3b3JrSW5Qcm9ncmVzcy5uZXh0RWZmZWN0ID0gbnVsbDtcbiAgICB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdCA9IG51bGw7XG4gICAgd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCA9IG51bGw7XG4gIH1cblxuICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuXG4gIHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZDtcbiAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlO1xuXG4gIC8vIFRoZXNlIHdpbGwgYmUgb3ZlcnJpZGRlbiBkdXJpbmcgdGhlIHBhcmVudCdzIHJlY29uY2lsaWF0aW9uXG4gIHdvcmtJblByb2dyZXNzLnNpYmxpbmcgPSBjdXJyZW50LnNpYmxpbmc7XG4gIHdvcmtJblByb2dyZXNzLmluZGV4ID0gY3VycmVudC5pbmRleDtcbiAgd29ya0luUHJvZ3Jlc3MucmVmID0gY3VycmVudC5yZWY7XG5cbiAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIb3N0Um9vdEZpYmVyKGlzQXN5bmMpIHtcbiAgdmFyIG1vZGUgPSBpc0FzeW5jID8gQXN5bmNNb2RlIHwgU3RyaWN0TW9kZSA6IE5vQ29udGV4dDtcbiAgcmV0dXJuIGNyZWF0ZUZpYmVyKEhvc3RSb290LCBudWxsLCBudWxsLCBtb2RlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCBtb2RlLCBleHBpcmF0aW9uVGltZSkge1xuICB2YXIgb3duZXIgPSBudWxsO1xuICB7XG4gICAgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgfVxuXG4gIHZhciBmaWJlciA9IHZvaWQgMDtcbiAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG4gIHZhciBrZXkgPSBlbGVtZW50LmtleTtcbiAgdmFyIHBlbmRpbmdQcm9wcyA9IGVsZW1lbnQucHJvcHM7XG5cbiAgdmFyIGZpYmVyVGFnID0gdm9pZCAwO1xuICBpZiAodHlwZW9mIHR5cGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZpYmVyVGFnID0gc2hvdWxkQ29uc3RydWN0KHR5cGUpID8gQ2xhc3NDb21wb25lbnQgOiBJbmRldGVybWluYXRlQ29tcG9uZW50O1xuICB9IGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgZmliZXJUYWcgPSBIb3N0Q29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgcGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAga2V5XG4gICAgICAgICk7XG4gICAgICBjYXNlIFJFQUNUX0FTWU5DX01PREVfVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBNb2RlO1xuICAgICAgICBtb2RlIHw9IEFzeW5jTW9kZSB8IFN0cmljdE1vZGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICBmaWJlclRhZyA9IE1vZGU7XG4gICAgICAgIG1vZGUgfD0gU3RyaWN0TW9kZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJFQUNUX0NBTExfVFlQRTpcbiAgICAgICAgZmliZXJUYWcgPSBDYWxsQ29tcG9uZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUkVBQ1RfUkVUVVJOX1RZUEU6XG4gICAgICAgIGZpYmVyVGFnID0gUmV0dXJuQ29tcG9uZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSBcIm9iamVjdFwiICYmIHR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgZmliZXJUYWcgPSBDb250ZXh0UHJvdmlkZXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBjb25zdW1lclxuICAgICAgICAgICAgICBmaWJlclRhZyA9IENvbnRleHRDb25zdW1lcjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICAgIGZpYmVyVGFnID0gRm9yd2FyZFJlZjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3VycmVudGx5IGFzc3VtZWQgdG8gYmUgYSBjb250aW51YXRpb24gYW5kIHRoZXJlZm9yZSBpcyBhXG4gICAgICAgICAgICAgICAgLy8gZmliZXIgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGUgeWllbGQgc3lzdGVtIGlzIGN1cnJlbnRseSBicm9rZW4gZm9yIHVwZGF0ZXMgaW5cbiAgICAgICAgICAgICAgICAvLyBzb21lIGNhc2VzLiBUaGUgcmVpZmllZCB5aWVsZCBzdG9yZXMgYSBmaWJlciwgYnV0IHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8ga25vdyB3aGljaCBmaWJlciB0aGF0IGlzOyB0aGUgY3VycmVudCBvciBhIHdvcmtJblByb2dyZXNzP1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGNvbnRpbnVhdGlvbiBnZXRzIHJlbmRlcmVkIGhlcmUgd2UgZG9uJ3Qga25vdyBpZiB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiByZXVzZSB0aGF0IGZpYmVyIG9yIGlmIHdlIG5lZWQgdG8gY2xvbmUgaXQuIFRoZXJlIGlzXG4gICAgICAgICAgICAgICAgLy8gcHJvYmFibHkgYSBjbGV2ZXIgd2F5IHRvIHJlc3RydWN0dXJlIHRoaXMuXG4gICAgICAgICAgICAgICAgZmliZXIgPSB0eXBlO1xuICAgICAgICAgICAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvd09uSW52YWxpZEVsZW1lbnRUeXBlKHR5cGUsIG93bmVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRFbGVtZW50VHlwZSh0eXBlLCBvd25lcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaWJlciA9IGNyZWF0ZUZpYmVyKGZpYmVyVGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7XG4gIGZpYmVyLnR5cGUgPSB0eXBlO1xuICBmaWJlci5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuXG4gIHtcbiAgICBmaWJlci5fZGVidWdTb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG4gICAgZmliZXIuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgfVxuXG4gIHJldHVybiBmaWJlcjtcbn1cblxuZnVuY3Rpb24gdGhyb3dPbkludmFsaWRFbGVtZW50VHlwZSh0eXBlLCBvd25lcikge1xuICB2YXIgaW5mbyA9IFwiXCI7XG4gIHtcbiAgICBpZiAoXG4gICAgICB0eXBlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICh0eXBlb2YgdHlwZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICB0eXBlICE9PSBudWxsICYmXG4gICAgICAgIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMClcbiAgICApIHtcbiAgICAgIGluZm8gKz1cbiAgICAgICAgXCIgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgXCIgK1xuICAgICAgICBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgXCIgK1xuICAgICAgICBcIm5hbWVkIGltcG9ydHMuXCI7XG4gICAgfVxuICAgIHZhciBvd25lck5hbWUgPSBvd25lciA/IGdldENvbXBvbmVudE5hbWUob3duZXIpIDogbnVsbDtcbiAgICBpZiAob3duZXJOYW1lKSB7XG4gICAgICBpbmZvICs9IFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgb3duZXJOYW1lICsgXCJgLlwiO1xuICAgIH1cbiAgfVxuICBpbnZhcmlhbnQoXG4gICAgZmFsc2UsXG4gICAgXCJFbGVtZW50IHR5cGUgaXMgaW52YWxpZDogZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBcIiArXG4gICAgICBcImNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgXCIgK1xuICAgICAgXCJidXQgZ290OiAlcy4lc1wiLFxuICAgIHR5cGUgPT0gbnVsbCA/IHR5cGUgOiB0eXBlb2YgdHlwZSxcbiAgICBpbmZvXG4gICk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnRzLCBtb2RlLCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEZyYWdtZW50LCBlbGVtZW50cywga2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21UZXh0KGNvbnRlbnQsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKEhvc3RUZXh0LCBjb250ZW50LCBudWxsLCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgcmV0dXJuIGZpYmVyO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbigpIHtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdENvbXBvbmVudCwgbnVsbCwgbnVsbCwgTm9Db250ZXh0KTtcbiAgZmliZXIudHlwZSA9IFwiREVMRVRFRFwiO1xuICByZXR1cm4gZmliZXI7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIG1vZGUsIGV4cGlyYXRpb25UaW1lKSB7XG4gIHZhciBwZW5kaW5nUHJvcHMgPSBwb3J0YWwuY2hpbGRyZW4gIT09IG51bGwgPyBwb3J0YWwuY2hpbGRyZW4gOiBbXTtcbiAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoSG9zdFBvcnRhbCwgcGVuZGluZ1Byb3BzLCBwb3J0YWwua2V5LCBtb2RlKTtcbiAgZmliZXIuZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgZmliZXIuc3RhdGVOb2RlID0ge1xuICAgIGNvbnRhaW5lckluZm86IHBvcnRhbC5jb250YWluZXJJbmZvLFxuICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCwgLy8gVXNlZCBieSBwZXJzaXN0ZW50IHVwZGF0ZXNcbiAgICBpbXBsZW1lbnRhdGlvbjogcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gIH07XG4gIHJldHVybiBmaWJlcjtcbn1cblxuLy8gVXNlZCBmb3Igc3Rhc2hpbmcgV0lQIHByb3BlcnRpZXMgdG8gcmVwbGF5IGZhaWxlZCB3b3JrIGluIERFVi5cbmZ1bmN0aW9uIGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKHRhcmdldCwgc291cmNlKSB7XG4gIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAvLyBUaGlzIEZpYmVyJ3MgaW5pdGlhbCBwcm9wZXJ0aWVzIHdpbGwgYWx3YXlzIGJlIG92ZXJ3cml0dGVuLlxuICAgIC8vIFdlIG9ubHkgdXNlIGEgRmliZXIgdG8gZW5zdXJlIHRoZSBzYW1lIGhpZGRlbiBjbGFzcyBzbyBERVYgaXNuJ3Qgc2xvdy5cbiAgICB0YXJnZXQgPSBjcmVhdGVGaWJlcihJbmRldGVybWluYXRlQ29tcG9uZW50LCBudWxsLCBudWxsLCBOb0NvbnRleHQpO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IHdyaXR0ZW4gYXMgYSBsaXN0IG9mIGFsbCBwcm9wZXJ0aWVzLlxuICAvLyBXZSB0cmllZCB0byB1c2UgT2JqZWN0LmFzc2lnbigpIGluc3RlYWQgYnV0IHRoaXMgaXMgY2FsbGVkIGluXG4gIC8vIHRoZSBob3R0ZXN0IHBhdGgsIGFuZCBPYmplY3QuYXNzaWduKCkgd2FzIHRvbyBzbG93OlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEyNTAyXG4gIC8vIFRoaXMgY29kZSBpcyBERVYtb25seSBzbyBzaXplIGlzIG5vdCBhIGNvbmNlcm4uXG5cbiAgdGFyZ2V0LnRhZyA9IHNvdXJjZS50YWc7XG4gIHRhcmdldC5rZXkgPSBzb3VyY2Uua2V5O1xuICB0YXJnZXQudHlwZSA9IHNvdXJjZS50eXBlO1xuICB0YXJnZXQuc3RhdGVOb2RlID0gc291cmNlLnN0YXRlTm9kZTtcbiAgdGFyZ2V0W1wicmV0dXJuXCJdID0gc291cmNlW1wicmV0dXJuXCJdO1xuICB0YXJnZXQuY2hpbGQgPSBzb3VyY2UuY2hpbGQ7XG4gIHRhcmdldC5zaWJsaW5nID0gc291cmNlLnNpYmxpbmc7XG4gIHRhcmdldC5pbmRleCA9IHNvdXJjZS5pbmRleDtcbiAgdGFyZ2V0LnJlZiA9IHNvdXJjZS5yZWY7XG4gIHRhcmdldC5wZW5kaW5nUHJvcHMgPSBzb3VyY2UucGVuZGluZ1Byb3BzO1xuICB0YXJnZXQubWVtb2l6ZWRQcm9wcyA9IHNvdXJjZS5tZW1vaXplZFByb3BzO1xuICB0YXJnZXQudXBkYXRlUXVldWUgPSBzb3VyY2UudXBkYXRlUXVldWU7XG4gIHRhcmdldC5tZW1vaXplZFN0YXRlID0gc291cmNlLm1lbW9pemVkU3RhdGU7XG4gIHRhcmdldC5tb2RlID0gc291cmNlLm1vZGU7XG4gIHRhcmdldC5lZmZlY3RUYWcgPSBzb3VyY2UuZWZmZWN0VGFnO1xuICB0YXJnZXQubmV4dEVmZmVjdCA9IHNvdXJjZS5uZXh0RWZmZWN0O1xuICB0YXJnZXQuZmlyc3RFZmZlY3QgPSBzb3VyY2UuZmlyc3RFZmZlY3Q7XG4gIHRhcmdldC5sYXN0RWZmZWN0ID0gc291cmNlLmxhc3RFZmZlY3Q7XG4gIHRhcmdldC5leHBpcmF0aW9uVGltZSA9IHNvdXJjZS5leHBpcmF0aW9uVGltZTtcbiAgdGFyZ2V0LmFsdGVybmF0ZSA9IHNvdXJjZS5hbHRlcm5hdGU7XG4gIHRhcmdldC5fZGVidWdJRCA9IHNvdXJjZS5fZGVidWdJRDtcbiAgdGFyZ2V0Ll9kZWJ1Z1NvdXJjZSA9IHNvdXJjZS5fZGVidWdTb3VyY2U7XG4gIHRhcmdldC5fZGVidWdPd25lciA9IHNvdXJjZS5fZGVidWdPd25lcjtcbiAgdGFyZ2V0Ll9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gc291cmNlLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vLyBUT0RPOiBUaGlzIHNob3VsZCBiZSBsaWZ0ZWQgaW50byB0aGUgcmVuZGVyZXIuXG5cbmZ1bmN0aW9uIGNyZWF0ZUZpYmVyUm9vdChjb250YWluZXJJbmZvLCBpc0FzeW5jLCBoeWRyYXRlKSB7XG4gIC8vIEN5Y2xpYyBjb25zdHJ1Y3Rpb24uIFRoaXMgY2hlYXRzIHRoZSB0eXBlIHN5c3RlbSByaWdodCBub3cgYmVjYXVzZVxuICAvLyBzdGF0ZU5vZGUgaXMgYW55LlxuICB2YXIgdW5pbml0aWFsaXplZEZpYmVyID0gY3JlYXRlSG9zdFJvb3RGaWJlcihpc0FzeW5jKTtcbiAgdmFyIHJvb3QgPSB7XG4gICAgY3VycmVudDogdW5pbml0aWFsaXplZEZpYmVyLFxuICAgIGNvbnRhaW5lckluZm86IGNvbnRhaW5lckluZm8sXG4gICAgcGVuZGluZ0NoaWxkcmVuOiBudWxsLFxuICAgIHBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZTogTm9Xb3JrLFxuICAgIGZpbmlzaGVkV29yazogbnVsbCxcbiAgICBjb250ZXh0OiBudWxsLFxuICAgIHBlbmRpbmdDb250ZXh0OiBudWxsLFxuICAgIGh5ZHJhdGU6IGh5ZHJhdGUsXG4gICAgcmVtYWluaW5nRXhwaXJhdGlvblRpbWU6IE5vV29yayxcbiAgICBmaXJzdEJhdGNoOiBudWxsLFxuICAgIG5leHRTY2hlZHVsZWRSb290OiBudWxsXG4gIH07XG4gIHVuaW5pdGlhbGl6ZWRGaWJlci5zdGF0ZU5vZGUgPSByb290O1xuICByZXR1cm4gcm9vdDtcbn1cblxudmFyIG9uQ29tbWl0RmliZXJSb290ID0gbnVsbDtcbnZhciBvbkNvbW1pdEZpYmVyVW5tb3VudCA9IG51bGw7XG52YXIgaGFzTG9nZ2VkRXJyb3IgPSBmYWxzZTtcblxuZnVuY3Rpb24gY2F0Y2hFcnJvcnMoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oYXJnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICh0cnVlICYmICFoYXNMb2dnZWRFcnJvcikge1xuICAgICAgICBoYXNMb2dnZWRFcnJvciA9IHRydWU7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsIFwiUmVhY3QgRGV2VG9vbHMgZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsIGVycik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKSB7XG4gIGlmICh0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgLy8gTm8gRGV2VG9vbHNcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGhvb2sgPSBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG4gIGlmIChob29rLmlzRGlzYWJsZWQpIHtcbiAgICAvLyBUaGlzIGlzbid0IGEgcmVhbCBwcm9wZXJ0eSBvbiB0aGUgaG9vaywgYnV0IGl0IGNhbiBiZSBzZXQgdG8gb3B0IG91dFxuICAgIC8vIG9mIERldlRvb2xzIGludGVncmF0aW9uIGFuZCBhc3NvY2lhdGVkIHdhcm5pbmdzIGFuZCBsb2dzLlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzg3N1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghaG9vay5zdXBwb3J0c0ZpYmVyKSB7XG4gICAge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiVGhlIGluc3RhbGxlZCB2ZXJzaW9uIG9mIFJlYWN0IERldlRvb2xzIGlzIHRvbyBvbGQgYW5kIHdpbGwgbm90IHdvcmsgXCIgK1xuICAgICAgICAgIFwid2l0aCB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIFJlYWN0LiBQbGVhc2UgdXBkYXRlIFJlYWN0IERldlRvb2xzLiBcIiArXG4gICAgICAgICAgXCJodHRwczovL2ZiLm1lL3JlYWN0LWRldnRvb2xzXCJcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIERldlRvb2xzIGV4aXN0cywgZXZlbiB0aG91Z2ggaXQgZG9lc24ndCBzdXBwb3J0IEZpYmVyLlxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIHJlbmRlcmVySUQgPSBob29rLmluamVjdChpbnRlcm5hbHMpO1xuICAgIC8vIFdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGluamVjdGVkLCBzbyBub3cgaXQgaXMgc2FmZSB0byBzZXQgdXAgaG9va3MuXG4gICAgb25Db21taXRGaWJlclJvb3QgPSBjYXRjaEVycm9ycyhmdW5jdGlvbihyb290KSB7XG4gICAgICByZXR1cm4gaG9vay5vbkNvbW1pdEZpYmVyUm9vdChyZW5kZXJlcklELCByb290KTtcbiAgICB9KTtcbiAgICBvbkNvbW1pdEZpYmVyVW5tb3VudCA9IGNhdGNoRXJyb3JzKGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgICByZXR1cm4gaG9vay5vbkNvbW1pdEZpYmVyVW5tb3VudChyZW5kZXJlcklELCBmaWJlcik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIENhdGNoIGFsbCBlcnJvcnMgYmVjYXVzZSBpdCBpcyB1bnNhZmUgdG8gdGhyb3cgZHVyaW5nIGluaXRpYWxpemF0aW9uLlxuICAgIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsIFwiUmVhY3QgRGV2VG9vbHMgZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzLlwiLCBlcnIpO1xuICAgIH1cbiAgfVxuICAvLyBEZXZUb29scyBleGlzdHNcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG9uQ29tbWl0Um9vdChyb290KSB7XG4gIGlmICh0eXBlb2Ygb25Db21taXRGaWJlclJvb3QgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIG9uQ29tbWl0RmliZXJSb290KHJvb3QpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uQ29tbWl0VW5tb3VudChmaWJlcikge1xuICBpZiAodHlwZW9mIG9uQ29tbWl0RmliZXJVbm1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBvbkNvbW1pdEZpYmVyVW5tb3VudChmaWJlcik7XG4gIH1cbn1cblxudmFyIGRlc2NyaWJlQ29tcG9uZW50RnJhbWUgPSBmdW5jdGlvbihuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSkge1xuICByZXR1cm4gKFxuICAgIFwiXFxuICAgIGluIFwiICtcbiAgICAobmFtZSB8fCBcIlVua25vd25cIikgK1xuICAgIChzb3VyY2VcbiAgICAgID8gXCIgKGF0IFwiICtcbiAgICAgICAgc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sIFwiXCIpICtcbiAgICAgICAgXCI6XCIgK1xuICAgICAgICBzb3VyY2UubGluZU51bWJlciArXG4gICAgICAgIFwiKVwiXG4gICAgICA6IG93bmVyTmFtZSA/IFwiIChjcmVhdGVkIGJ5IFwiICsgb3duZXJOYW1lICsgXCIpXCIgOiBcIlwiKVxuICApO1xufTtcblxuZnVuY3Rpb24gZGVzY3JpYmVGaWJlcihmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICBjYXNlIEZ1bmN0aW9uYWxDb21wb25lbnQ6XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICB2YXIgb3duZXIgPSBmaWJlci5fZGVidWdPd25lcjtcbiAgICAgIHZhciBzb3VyY2UgPSBmaWJlci5fZGVidWdTb3VyY2U7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpO1xuICAgICAgdmFyIG93bmVyTmFtZSA9IG51bGw7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgb3duZXJOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShvd25lcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVzY3JpYmVDb21wb25lbnRGcmFtZShuYW1lLCBzb3VyY2UsIG93bmVyTmFtZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIlwiO1xuICB9XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gY2FuIG9ubHkgYmUgY2FsbGVkIHdpdGggYSB3b3JrLWluLXByb2dyZXNzIGZpYmVyIGFuZFxuLy8gb25seSBkdXJpbmcgYmVnaW4gb3IgY29tcGxldGUgcGhhc2UuIERvIG5vdCBjYWxsIGl0IHVuZGVyIGFueSBvdGhlclxuLy8gY2lyY3Vtc3RhbmNlcy5cbmZ1bmN0aW9uIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIod29ya0luUHJvZ3Jlc3MpIHtcbiAgdmFyIGluZm8gPSBcIlwiO1xuICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzO1xuICBkbyB7XG4gICAgaW5mbyArPSBkZXNjcmliZUZpYmVyKG5vZGUpO1xuICAgIC8vIE90aGVyd2lzZSB0aGlzIHJldHVybiBwb2ludGVyIG1pZ2h0IHBvaW50IHRvIHRoZSB3cm9uZyB0cmVlOlxuICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICB9IHdoaWxlIChub2RlKTtcbiAgcmV0dXJuIGluZm87XG59XG5cbi8qKlxuICogRm9ya2VkIGZyb20gZmJqcy93YXJuaW5nOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9lNjZiYTIwYWQ1YmU0MzNlYjU0NDIzZjJiMDk3ZDgyOTMyNGQ5ZGU2L3BhY2thZ2VzL2ZianMvc3JjL19fZm9ya3NfXy93YXJuaW5nLmpzXG4gKlxuICogT25seSBjaGFuZ2UgaXMgd2UgdXNlIGNvbnNvbGUud2FybiBpbnN0ZWFkIG9mIGNvbnNvbGUuZXJyb3IsXG4gKiBhbmQgZG8gbm90aGluZyB3aGVuICdjb25zb2xlJyBpcyBub3Qgc3VwcG9ydGVkLlxuICogVGhpcyByZWFsbHkgc2ltcGxpZmllcyB0aGUgY29kZS5cbiAqIC0tLVxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciBsb3dQcmlvcml0eVdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG57XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbihmb3JtYXQpIHtcbiAgICBmb3IgKFxuICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLFxuICAgICAgICBfa2V5ID0gMTtcbiAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgX2tleSsrXG4gICAgKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID1cbiAgICAgIFwiV2FybmluZzogXCIgK1xuICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pO1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xuXG4gIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgXCIgK1xuICAgICAgICAgIFwibWVzc2FnZSBhcmd1bWVudFwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksXG4gICAgICAgICAgX2tleTIgPSAyO1xuICAgICAgICBfa2V5MiA8IF9sZW4yO1xuICAgICAgICBfa2V5MisrXG4gICAgICApIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBsb3dQcmlvcml0eVdhcm5pbmckMSA9IGxvd1ByaW9yaXR5V2FybmluZztcblxudmFyIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzID0ge1xuICBkaXNjYXJkUGVuZGluZ1dhcm5pbmdzOiBmdW5jdGlvbigpIHt9LFxuICBmbHVzaFBlbmRpbmdEZXByZWNhdGlvbldhcm5pbmdzOiBmdW5jdGlvbigpIHt9LFxuICBmbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5nczogZnVuY3Rpb24oKSB7fSxcbiAgcmVjb3JkRGVwcmVjYXRpb25XYXJuaW5nczogZnVuY3Rpb24oZmliZXIsIGluc3RhbmNlKSB7fSxcbiAgcmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uKGZpYmVyLCBpbnN0YW5jZSkge31cbn07XG5cbntcbiAgdmFyIExJRkVDWUNMRV9TVUdHRVNUSU9OUyA9IHtcbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IFwic3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1wiLFxuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlOiBcImNvbXBvbmVudERpZFVwZGF0ZVwiXG4gIH07XG5cbiAgdmFyIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICB2YXIgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICB2YXIgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICB2YXIgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gbmV3IE1hcCgpO1xuXG4gIC8vIFRyYWNrcyBjb21wb25lbnRzIHdlIGhhdmUgYWxyZWFkeSB3YXJuZWQgYWJvdXQuXG4gIHZhciBkaWRXYXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcyA9IG5ldyBTZXQoKTtcbiAgdmFyIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMgPSBuZXcgU2V0KCk7XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gbmV3IE1hcCgpO1xuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24oXG4gICAgICBsaWZlY3ljbGVXYXJuaW5nc01hcCxcbiAgICAgIHN0cmljdFJvb3RcbiAgICApIHtcbiAgICAgIHZhciBsaWZlY3ljbGVzV2FybmluZ01lc2FnZXMgPSBbXTtcblxuICAgICAgT2JqZWN0LmtleXMobGlmZWN5Y2xlV2FybmluZ3NNYXApLmZvckVhY2goZnVuY3Rpb24obGlmZWN5Y2xlKSB7XG4gICAgICAgIHZhciBsaWZlY3ljbGVXYXJuaW5ncyA9IGxpZmVjeWNsZVdhcm5pbmdzTWFwW2xpZmVjeWNsZV07XG4gICAgICAgIGlmIChsaWZlY3ljbGVXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudE5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgICAgIGxpZmVjeWNsZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24oZmliZXIpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiKTtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIGZvcm1hdHRlZCA9IGxpZmVjeWNsZS5yZXBsYWNlKFwiVU5TQUZFX1wiLCBcIlwiKTtcbiAgICAgICAgICB2YXIgc3VnZ2VzdGlvbiA9IExJRkVDWUNMRV9TVUdHRVNUSU9OU1tsaWZlY3ljbGVdO1xuICAgICAgICAgIHZhciBzb3J0ZWRDb21wb25lbnROYW1lcyA9IEFycmF5LmZyb20oY29tcG9uZW50TmFtZXMpXG4gICAgICAgICAgICAuc29ydCgpXG4gICAgICAgICAgICAuam9pbihcIiwgXCIpO1xuXG4gICAgICAgICAgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLnB1c2goXG4gICAgICAgICAgICBmb3JtYXR0ZWQgK1xuICAgICAgICAgICAgICBcIjogUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHMgdG8gdXNlIFwiICtcbiAgICAgICAgICAgICAgKHN1Z2dlc3Rpb24gKyBcIiBpbnN0ZWFkOiBcIiArIHNvcnRlZENvbXBvbmVudE5hbWVzKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHN0cmljdFJvb3RDb21wb25lbnRTdGFjayA9IGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoXG4gICAgICAgICAgc3RyaWN0Um9vdFxuICAgICAgICApO1xuXG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJVbnNhZmUgbGlmZWN5Y2xlIG1ldGhvZHMgd2VyZSBmb3VuZCB3aXRoaW4gYSBzdHJpY3QtbW9kZSB0cmVlOiVzXCIgK1xuICAgICAgICAgICAgXCJcXG5cXG4lc1wiICtcbiAgICAgICAgICAgIFwiXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcIiArXG4gICAgICAgICAgICBcIlxcbmh0dHBzOi8vZmIubWUvcmVhY3Qtc3RyaWN0LW1vZGUtd2FybmluZ3NcIixcbiAgICAgICAgICBzdHJpY3RSb290Q29tcG9uZW50U3RhY2ssXG4gICAgICAgICAgbGlmZWN5Y2xlc1dhcm5pbmdNZXNhZ2VzLmpvaW4oXCJcXG5cXG5cIilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IG5ldyBNYXAoKTtcbiAgfTtcblxuICB2YXIgZ2V0U3RyaWN0Um9vdCA9IGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgdmFyIG1heWJlU3RyaWN0Um9vdCA9IG51bGw7XG5cbiAgICB3aGlsZSAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgIGlmIChmaWJlci5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICBtYXliZVN0cmljdFJvb3QgPSBmaWJlcjtcbiAgICAgIH1cblxuICAgICAgZmliZXIgPSBmaWJlcltcInJldHVyblwiXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF5YmVTdHJpY3RSb290O1xuICB9O1xuXG4gIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciB1bmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgICAgIHVuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBzb3J0ZWROYW1lcyA9IEFycmF5LmZyb20odW5pcXVlTmFtZXMpXG4gICAgICAgIC5zb3J0KClcbiAgICAgICAgLmpvaW4oXCIsIFwiKTtcblxuICAgICAgbG93UHJpb3JpdHlXYXJuaW5nJDEoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBcImNvbXBvbmVudFdpbGxNb3VudCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gXCIgK1xuICAgICAgICAgIFwiVXNlIGNvbXBvbmVudERpZE1vdW50IGluc3RlYWQuIEFzIGEgdGVtcG9yYXJ5IHdvcmthcm91bmQsIFwiICtcbiAgICAgICAgICBcInlvdSBjYW4gcmVuYW1lIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQuXCIgK1xuICAgICAgICAgIFwiXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIgK1xuICAgICAgICAgIFwiXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcIiArXG4gICAgICAgICAgXCJcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3NcIixcbiAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICk7XG5cbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciBfdW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24oZmliZXIpIHtcbiAgICAgICAgX3VuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfc29ydGVkTmFtZXMgPSBBcnJheS5mcm9tKF91bmlxdWVOYW1lcylcbiAgICAgICAgLnNvcnQoKVxuICAgICAgICAuam9pbihcIiwgXCIpO1xuXG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gXCIgK1xuICAgICAgICAgIFwiVXNlIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgaW5zdGVhZC5cIiArXG4gICAgICAgICAgXCJcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIiArXG4gICAgICAgICAgXCJcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlwiICtcbiAgICAgICAgICBcIlxcbmh0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rc1wiLFxuICAgICAgICBfc29ydGVkTmFtZXNcbiAgICAgICk7XG5cbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgX3VuaXF1ZU5hbWVzMiA9IG5ldyBTZXQoKTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbihmaWJlcikge1xuICAgICAgICBfdW5pcXVlTmFtZXMyLmFkZChnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiKTtcbiAgICAgICAgZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBfc29ydGVkTmFtZXMyID0gQXJyYXkuZnJvbShfdW5pcXVlTmFtZXMyKVxuICAgICAgICAuc29ydCgpXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG5cbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgXCJjb21wb25lbnRXaWxsVXBkYXRlIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiBcIiArXG4gICAgICAgICAgXCJVc2UgY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuIEFzIGEgdGVtcG9yYXJ5IHdvcmthcm91bmQsIFwiICtcbiAgICAgICAgICBcInlvdSBjYW4gcmVuYW1lIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlLlwiICtcbiAgICAgICAgICBcIlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiICtcbiAgICAgICAgICBcIlxcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XCIgK1xuICAgICAgICAgIFwiXFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzXCIsXG4gICAgICAgIF9zb3J0ZWROYW1lczJcbiAgICAgICk7XG5cbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZ1bmN0aW9uKFxuICAgIGZpYmVyLFxuICAgIGluc3RhbmNlXG4gICkge1xuICAgIC8vIERlZHVwIHN0cmF0ZWd5OiBXYXJuIG9uY2UgcGVyIGNvbXBvbmVudC5cbiAgICBpZiAoZGlkV2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3Qgd2FybiBhYm91dCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZVxuICAgICkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWVcbiAgICApIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MucHVzaChmaWJlcik7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZVxuICAgICkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5wdXNoKGZpYmVyKTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbihcbiAgICBmaWJlcixcbiAgICBpbnN0YW5jZVxuICApIHtcbiAgICB2YXIgc3RyaWN0Um9vdCA9IGdldFN0cmljdFJvb3QoZmliZXIpO1xuXG4gICAgLy8gRGVkdXAgc3RyYXRlZ3k6IFdhcm4gb25jZSBwZXIgY29tcG9uZW50LlxuICAgIC8vIFRoaXMgaXMgZGlmZmljdWx0IHRvIHRyYWNrIGFueSBvdGhlciB3YXkgc2luY2UgY29tcG9uZW50IG5hbWVzXG4gICAgLy8gYXJlIG9mdGVuIHZhZ3VlIGFuZCBhcmUgbGlrZWx5IHRvIGNvbGxpZGUgYmV0d2VlbiAzcmQgcGFydHkgbGlicmFyaWVzLlxuICAgIC8vIEFuIGV4cGFuZCBwcm9wZXJ0eSBpcyBwcm9iYWJseSBva2F5IHRvIHVzZSBoZXJlIHNpbmNlIGl0J3MgREVWLW9ubHksXG4gICAgLy8gYW5kIHdpbGwgb25seSBiZSBzZXQgaW4gdGhlIGV2ZW50IG9mIHNlcmlvdXMgd2FybmluZ3MuXG4gICAgaWYgKGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3Qgd2FybiBhYm91dCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMuXG4gICAgLy8gTm90ZSB0aGF0IGl0IGlzIHN1ZmZpY2llbnQgdG8gY2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiBhXG4gICAgLy8gc2luZ2xlIGxpZmVjeWNsZSwgY29tcG9uZW50V2lsbE1vdW50LCB3aXRoIHRoZSBwb2x5ZmlsbCBmbGFnLlxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPT09IHRydWVcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2FybmluZ3NGb3JSb290ID0gdm9pZCAwO1xuICAgIGlmICghcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmhhcyhzdHJpY3RSb290KSkge1xuICAgICAgd2FybmluZ3NGb3JSb290ID0ge1xuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50OiBbXSxcbiAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IFtdLFxuICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZTogW11cbiAgICAgIH07XG5cbiAgICAgIHBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncy5zZXQoc3RyaWN0Um9vdCwgd2FybmluZ3NGb3JSb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZ3NGb3JSb290ID0gcGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzLmdldChzdHJpY3RSb290KTtcbiAgICB9XG5cbiAgICB2YXIgdW5zYWZlTGlmZWN5Y2xlcyA9IFtdO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKFwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFwiKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSBcImZ1bmN0aW9uXCJcbiAgICApIHtcbiAgICAgIHVuc2FmZUxpZmVjeWNsZXMucHVzaChcIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIlxuICAgICkge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5wdXNoKFwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVcIik7XG4gICAgfVxuXG4gICAgaWYgKHVuc2FmZUxpZmVjeWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgdW5zYWZlTGlmZWN5Y2xlcy5mb3JFYWNoKGZ1bmN0aW9uKGxpZmVjeWNsZSkge1xuICAgICAgICB3YXJuaW5nc0ZvclJvb3RbbGlmZWN5Y2xlXS5wdXNoKGZpYmVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gUmUtZXhwb3J0IGR5bmFtaWMgZmxhZ3MgZnJvbSB0aGUgZmJzb3VyY2UgdmVyc2lvbi5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoXCJSZWFjdEZlYXR1cmVGbGFnc1wiKTtcblxudmFyIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9IF9yZXF1aXJlLmVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaDtcbnZhciBkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHMgPSBfcmVxdWlyZS5kZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHM7XG52YXIgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSA9XG4gIF9yZXF1aXJlLmRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGU7XG52YXIgd2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMgPSBfcmVxdWlyZS53YXJuQWJvdXREZXByZWNhdGVkTGlmZWN5Y2xlcztcbnZhciByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjayA9XG4gIF9yZXF1aXJlLnJlcGxheUZhaWxlZFVuaXRPZldvcmtXaXRoSW52b2tlR3VhcmRlZENhbGxiYWNrO1xuXG52YXIgZW5hYmxlVXNlclRpbWluZ0FQSSA9IHRydWU7XG52YXIgZW5hYmxlTXV0YXRpbmdSZWNvbmNpbGVyID0gdHJ1ZTtcbnZhciBlbmFibGVOb29wUmVjb25jaWxlciA9IGZhbHNlO1xudmFyIGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyID0gZmFsc2U7XG5cbi8vIE9ubHkgdXNlZCBpbiB3d3cgYnVpbGRzLlxuXG5mdW5jdGlvbiBnZXRDdXJyZW50RmliZXJPd25lck5hbWUoKSB7XG4gIHtcbiAgICB2YXIgZmliZXIgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmN1cnJlbnQ7XG4gICAgaWYgKGZpYmVyID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG93bmVyID0gZmliZXIuX2RlYnVnT3duZXI7XG4gICAgaWYgKG93bmVyICE9PSBudWxsICYmIHR5cGVvZiBvd25lciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWUob3duZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSgpIHtcbiAge1xuICAgIHZhciBmaWJlciA9IFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudDtcbiAgICBpZiAoZmliZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBTYWZlIGJlY2F1c2UgaWYgY3VycmVudCBmaWJlciBleGlzdHMsIHdlIGFyZSByZWNvbmNpbGluZyxcbiAgICAvLyBhbmQgaXQgaXMgZ3VhcmFudGVlZCB0byBiZSB0aGUgd29yay1pbi1wcm9ncmVzcyB2ZXJzaW9uLlxuICAgIHJldHVybiBnZXRTdGFja0FkZGVuZHVtQnlXb3JrSW5Qcm9ncmVzc0ZpYmVyKGZpYmVyKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gcmVzZXRDdXJyZW50RmliZXIoKSB7XG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0Q3VycmVudFN0YWNrID0gbnVsbDtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50ID0gbnVsbDtcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5waGFzZSA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRGaWJlcihmaWJlcikge1xuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldEN1cnJlbnRTdGFjayA9IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW07XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudCA9IGZpYmVyO1xuICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudFBoYXNlKHBoYXNlKSB7XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UgPSBwaGFzZTtcbn1cblxudmFyIFJlYWN0RGVidWdDdXJyZW50RmliZXIgPSB7XG4gIGN1cnJlbnQ6IG51bGwsXG4gIHBoYXNlOiBudWxsLFxuICByZXNldEN1cnJlbnRGaWJlcjogcmVzZXRDdXJyZW50RmliZXIsXG4gIHNldEN1cnJlbnRGaWJlcjogc2V0Q3VycmVudEZpYmVyLFxuICBzZXRDdXJyZW50UGhhc2U6IHNldEN1cnJlbnRQaGFzZSxcbiAgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lOiBnZXRDdXJyZW50RmliZXJPd25lck5hbWUsXG4gIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW06IGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW1cbn07XG5cbi8vIFByZWZpeCBtZWFzdXJlbWVudHMgc28gdGhhdCBpdCdzIHBvc3NpYmxlIHRvIGZpbHRlciB0aGVtLlxuLy8gTG9uZ2VyIHByZWZpeGVzIGFyZSBoYXJkIHRvIHJlYWQgaW4gRGV2VG9vbHMuXG52YXIgcmVhY3RFbW9qaSA9IFwiXFx1MjY5QlwiO1xudmFyIHdhcm5pbmdFbW9qaSA9IFwiXFx1MjZENFwiO1xudmFyIHN1cHBvcnRzVXNlclRpbWluZyA9XG4gIHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICB0eXBlb2YgcGVyZm9ybWFuY2UubWFyayA9PT0gXCJmdW5jdGlvblwiICYmXG4gIHR5cGVvZiBwZXJmb3JtYW5jZS5jbGVhck1hcmtzID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgdHlwZW9mIHBlcmZvcm1hbmNlLm1lYXN1cmUgPT09IFwiZnVuY3Rpb25cIiAmJlxuICB0eXBlb2YgcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyA9PT0gXCJmdW5jdGlvblwiO1xuXG4vLyBLZWVwIHRyYWNrIG9mIGN1cnJlbnQgZmliZXIgc28gdGhhdCB3ZSBrbm93IHRoZSBwYXRoIHRvIHVud2luZCBvbiBwYXVzZS5cbi8vIFRPRE86IHRoaXMgbG9va3MgdGhlIHNhbWUgYXMgbmV4dFVuaXRPZldvcmsgaW4gc2NoZWR1bGVyLiBDYW4gd2UgdW5pZnkgdGhlbT9cbnZhciBjdXJyZW50RmliZXIgPSBudWxsO1xuLy8gSWYgd2UncmUgaW4gdGhlIG1pZGRsZSBvZiB1c2VyIGNvZGUsIHdoaWNoIGZpYmVyIGFuZCBtZXRob2QgaXMgaXQ/XG4vLyBSZXVzaW5nIGBjdXJyZW50RmliZXJgIHdvdWxkIGJlIGNvbmZ1c2luZyBmb3IgdGhpcyBiZWNhdXNlIHVzZXIgY29kZSBmaWJlclxuLy8gY2FuIGNoYW5nZSBkdXJpbmcgY29tbWl0IHBoYXNlIHRvbywgYnV0IHdlIGRvbid0IG5lZWQgdG8gdW53aW5kIGl0IChzaW5jZVxuLy8gbGlmZWN5Y2xlcyBpbiB0aGUgY29tbWl0IHBoYXNlIGRvbid0IHJlc2VtYmxlIGEgdHJlZSkuXG52YXIgY3VycmVudFBoYXNlID0gbnVsbDtcbnZhciBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4vLyBEaWQgbGlmZWN5Y2xlIGhvb2sgc2NoZWR1bGUgYW4gdXBkYXRlPyBUaGlzIGlzIG9mdGVuIGEgcGVyZm9ybWFuY2UgcHJvYmxlbSxcbi8vIHNvIHdlIHdpbGwga2VlcCB0cmFjayBvZiBpdCwgYW5kIGluY2x1ZGUgaXQgaW4gdGhlIHJlcG9ydC5cbi8vIFRyYWNrIGNvbW1pdHMgY2F1c2VkIGJ5IGNhc2NhZGluZyB1cGRhdGVzLlxudmFyIGlzQ29tbWl0dGluZyA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xudmFyIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gZmFsc2U7XG52YXIgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG52YXIgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xudmFyIGlzV2FpdGluZ0ZvckNhbGxiYWNrID0gZmFsc2U7XG4vLyBEdXJpbmcgY29tbWl0cywgd2Ugb25seSBzaG93IGEgbWVhc3VyZW1lbnQgb25jZSBwZXIgbWV0aG9kIG5hbWVcbi8vIHRvIGF2b2lkIHN0cmV0Y2ggdGhlIGNvbW1pdCBwaGFzZSB3aXRoIG1lYXN1cmVtZW50IG92ZXJoZWFkLlxudmFyIGxhYmVsc0luQ3VycmVudENvbW1pdCA9IG5ldyBTZXQoKTtcblxudmFyIGZvcm1hdE1hcmtOYW1lID0gZnVuY3Rpb24obWFya05hbWUpIHtcbiAgcmV0dXJuIHJlYWN0RW1vamkgKyBcIiBcIiArIG1hcmtOYW1lO1xufTtcblxudmFyIGZvcm1hdExhYmVsID0gZnVuY3Rpb24obGFiZWwsIHdhcm5pbmckJDEpIHtcbiAgdmFyIHByZWZpeCA9IHdhcm5pbmckJDEgPyB3YXJuaW5nRW1vamkgKyBcIiBcIiA6IHJlYWN0RW1vamkgKyBcIiBcIjtcbiAgdmFyIHN1ZmZpeCA9IHdhcm5pbmckJDEgPyBcIiBXYXJuaW5nOiBcIiArIHdhcm5pbmckJDEgOiBcIlwiO1xuICByZXR1cm4gXCJcIiArIHByZWZpeCArIGxhYmVsICsgc3VmZml4O1xufTtcblxudmFyIGJlZ2luTWFyayA9IGZ1bmN0aW9uKG1hcmtOYW1lKSB7XG4gIHBlcmZvcm1hbmNlLm1hcmsoZm9ybWF0TWFya05hbWUobWFya05hbWUpKTtcbn07XG5cbnZhciBjbGVhck1hcmsgPSBmdW5jdGlvbihtYXJrTmFtZSkge1xuICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKGZvcm1hdE1hcmtOYW1lKG1hcmtOYW1lKSk7XG59O1xuXG52YXIgZW5kTWFyayA9IGZ1bmN0aW9uKGxhYmVsLCBtYXJrTmFtZSwgd2FybmluZyQkMSkge1xuICB2YXIgZm9ybWF0dGVkTWFya05hbWUgPSBmb3JtYXRNYXJrTmFtZShtYXJrTmFtZSk7XG4gIHZhciBmb3JtYXR0ZWRMYWJlbCA9IGZvcm1hdExhYmVsKGxhYmVsLCB3YXJuaW5nJCQxKTtcbiAgdHJ5IHtcbiAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKGZvcm1hdHRlZExhYmVsLCBmb3JtYXR0ZWRNYXJrTmFtZSk7XG4gIH0gY2F0Y2ggKGVycikge31cbiAgLy8gSWYgcHJldmlvdXMgbWFyayB3YXMgbWlzc2luZyBmb3Igc29tZSByZWFzb24sIHRoaXMgd2lsbCB0aHJvdy5cbiAgLy8gVGhpcyBjb3VsZCBvbmx5IGhhcHBlbiBpZiBSZWFjdCBjcmFzaGVkIGluIGFuIHVuZXhwZWN0ZWQgcGxhY2UgZWFybGllci5cbiAgLy8gRG9uJ3QgcGlsZSBvbiB3aXRoIG1vcmUgZXJyb3JzLlxuXG4gIC8vIENsZWFyIG1hcmtzIGltbWVkaWF0ZWx5IHRvIGF2b2lkIGdyb3dpbmcgYnVmZmVyLlxuICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKGZvcm1hdHRlZE1hcmtOYW1lKTtcbiAgcGVyZm9ybWFuY2UuY2xlYXJNZWFzdXJlcyhmb3JtYXR0ZWRMYWJlbCk7XG59O1xuXG52YXIgZ2V0RmliZXJNYXJrTmFtZSA9IGZ1bmN0aW9uKGxhYmVsLCBkZWJ1Z0lEKSB7XG4gIHJldHVybiBsYWJlbCArIFwiICgjXCIgKyBkZWJ1Z0lEICsgXCIpXCI7XG59O1xuXG52YXIgZ2V0RmliZXJMYWJlbCA9IGZ1bmN0aW9uKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpIHtcbiAgaWYgKHBoYXNlID09PSBudWxsKSB7XG4gICAgLy8gVGhlc2UgYXJlIGNvbXBvc2l0ZSBjb21wb25lbnQgdG90YWwgdGltZSBtZWFzdXJlbWVudHMuXG4gICAgcmV0dXJuIGNvbXBvbmVudE5hbWUgKyBcIiBbXCIgKyAoaXNNb3VudGVkID8gXCJ1cGRhdGVcIiA6IFwibW91bnRcIikgKyBcIl1cIjtcbiAgfSBlbHNlIHtcbiAgICAvLyBDb21wb3NpdGUgY29tcG9uZW50IG1ldGhvZHMuXG4gICAgcmV0dXJuIGNvbXBvbmVudE5hbWUgKyBcIi5cIiArIHBoYXNlO1xuICB9XG59O1xuXG52YXIgYmVnaW5GaWJlck1hcmsgPSBmdW5jdGlvbihmaWJlciwgcGhhc2UpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIlVua25vd25cIjtcbiAgdmFyIGRlYnVnSUQgPSBmaWJlci5fZGVidWdJRDtcbiAgdmFyIGlzTW91bnRlZCA9IGZpYmVyLmFsdGVybmF0ZSAhPT0gbnVsbDtcbiAgdmFyIGxhYmVsID0gZ2V0RmliZXJMYWJlbChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKTtcblxuICBpZiAoaXNDb21taXR0aW5nICYmIGxhYmVsc0luQ3VycmVudENvbW1pdC5oYXMobGFiZWwpKSB7XG4gICAgLy8gRHVyaW5nIHRoZSBjb21taXQgcGhhc2UsIHdlIGRvbid0IHNob3cgZHVwbGljYXRlIGxhYmVscyBiZWNhdXNlXG4gICAgLy8gdGhlcmUgaXMgYSBmaXhlZCBvdmVyaGVhZCBmb3IgZXZlcnkgbWVhc3VyZW1lbnQsIGFuZCB3ZSBkb24ndFxuICAgIC8vIHdhbnQgdG8gc3RyZXRjaCB0aGUgY29tbWl0IHBoYXNlIGJleW9uZCBuZWNlc3NhcnkuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxhYmVsc0luQ3VycmVudENvbW1pdC5hZGQobGFiZWwpO1xuXG4gIHZhciBtYXJrTmFtZSA9IGdldEZpYmVyTWFya05hbWUobGFiZWwsIGRlYnVnSUQpO1xuICBiZWdpbk1hcmsobWFya05hbWUpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbnZhciBjbGVhckZpYmVyTWFyayA9IGZ1bmN0aW9uKGZpYmVyLCBwaGFzZSkge1xuICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoZmliZXIpIHx8IFwiVW5rbm93blwiO1xuICB2YXIgZGVidWdJRCA9IGZpYmVyLl9kZWJ1Z0lEO1xuICB2YXIgaXNNb3VudGVkID0gZmliZXIuYWx0ZXJuYXRlICE9PSBudWxsO1xuICB2YXIgbGFiZWwgPSBnZXRGaWJlckxhYmVsKGNvbXBvbmVudE5hbWUsIGlzTW91bnRlZCwgcGhhc2UpO1xuICB2YXIgbWFya05hbWUgPSBnZXRGaWJlck1hcmtOYW1lKGxhYmVsLCBkZWJ1Z0lEKTtcbiAgY2xlYXJNYXJrKG1hcmtOYW1lKTtcbn07XG5cbnZhciBlbmRGaWJlck1hcmsgPSBmdW5jdGlvbihmaWJlciwgcGhhc2UsIHdhcm5pbmckJDEpIHtcbiAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKGZpYmVyKSB8fCBcIlVua25vd25cIjtcbiAgdmFyIGRlYnVnSUQgPSBmaWJlci5fZGVidWdJRDtcbiAgdmFyIGlzTW91bnRlZCA9IGZpYmVyLmFsdGVybmF0ZSAhPT0gbnVsbDtcbiAgdmFyIGxhYmVsID0gZ2V0RmliZXJMYWJlbChjb21wb25lbnROYW1lLCBpc01vdW50ZWQsIHBoYXNlKTtcbiAgdmFyIG1hcmtOYW1lID0gZ2V0RmliZXJNYXJrTmFtZShsYWJlbCwgZGVidWdJRCk7XG4gIGVuZE1hcmsobGFiZWwsIG1hcmtOYW1lLCB3YXJuaW5nJCQxKTtcbn07XG5cbnZhciBzaG91bGRJZ25vcmVGaWJlciA9IGZ1bmN0aW9uKGZpYmVyKSB7XG4gIC8vIEhvc3QgY29tcG9uZW50cyBzaG91bGQgYmUgc2tpcHBlZCBpbiB0aGUgdGltZWxpbmUuXG4gIC8vIFdlIGNvdWxkIGNoZWNrIHR5cGVvZiBmaWJlci50eXBlLCBidXQgZG9lcyB0aGlzIHdvcmsgd2l0aCBSTj9cbiAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICBjYXNlIEhvc3RSb290OlxuICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICBjYXNlIEhvc3RUZXh0OlxuICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICBjYXNlIENhbGxDb21wb25lbnQ6XG4gICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgY2FzZSBGcmFnbWVudDpcbiAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBjbGVhclBlbmRpbmdQaGFzZU1lYXN1cmVtZW50ID0gZnVuY3Rpb24oKSB7XG4gIGlmIChjdXJyZW50UGhhc2UgIT09IG51bGwgJiYgY3VycmVudFBoYXNlRmliZXIgIT09IG51bGwpIHtcbiAgICBjbGVhckZpYmVyTWFyayhjdXJyZW50UGhhc2VGaWJlciwgY3VycmVudFBoYXNlKTtcbiAgfVxuICBjdXJyZW50UGhhc2VGaWJlciA9IG51bGw7XG4gIGN1cnJlbnRQaGFzZSA9IG51bGw7XG4gIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gZmFsc2U7XG59O1xuXG52YXIgcGF1c2VUaW1lcnMgPSBmdW5jdGlvbigpIHtcbiAgLy8gU3RvcHMgYWxsIGN1cnJlbnRseSBhY3RpdmUgbWVhc3VyZW1lbnRzIHNvIHRoYXQgdGhleSBjYW4gYmUgcmVzdW1lZFxuICAvLyBpZiB3ZSBjb250aW51ZSBpbiBhIGxhdGVyIGRlZmVycmVkIGxvb3AgZnJvbSB0aGUgc2FtZSB1bml0IG9mIHdvcmsuXG4gIHZhciBmaWJlciA9IGN1cnJlbnRGaWJlcjtcbiAgd2hpbGUgKGZpYmVyKSB7XG4gICAgaWYgKGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgICBlbmRGaWJlck1hcmsoZmliZXIsIG51bGwsIG51bGwpO1xuICAgIH1cbiAgICBmaWJlciA9IGZpYmVyW1wicmV0dXJuXCJdO1xuICB9XG59O1xuXG52YXIgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkgPSBmdW5jdGlvbihmaWJlcikge1xuICBpZiAoZmliZXJbXCJyZXR1cm5cIl0gIT09IG51bGwpIHtcbiAgICByZXN1bWVUaW1lcnNSZWN1cnNpdmVseShmaWJlcltcInJldHVyblwiXSk7XG4gIH1cbiAgaWYgKGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nKSB7XG4gICAgYmVnaW5GaWJlck1hcmsoZmliZXIsIG51bGwpO1xuICB9XG59O1xuXG52YXIgcmVzdW1lVGltZXJzID0gZnVuY3Rpb24oKSB7XG4gIC8vIFJlc3VtZXMgYWxsIG1lYXN1cmVtZW50cyB0aGF0IHdlcmUgYWN0aXZlIGR1cmluZyB0aGUgbGFzdCBkZWZlcnJlZCBsb29wLlxuICBpZiAoY3VycmVudEZpYmVyICE9PSBudWxsKSB7XG4gICAgcmVzdW1lVGltZXJzUmVjdXJzaXZlbHkoY3VycmVudEZpYmVyKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVjb3JkRWZmZWN0KCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0Kys7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjb3JkU2NoZWR1bGVVcGRhdGUoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKGlzQ29tbWl0dGluZykge1xuICAgICAgaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgY3VycmVudFBoYXNlICE9PSBudWxsICYmXG4gICAgICBjdXJyZW50UGhhc2UgIT09IFwiY29tcG9uZW50V2lsbE1vdW50XCIgJiZcbiAgICAgIGN1cnJlbnRQaGFzZSAhPT0gXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCJcbiAgICApIHtcbiAgICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRSZXF1ZXN0Q2FsbGJhY2tUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoc3VwcG9ydHNVc2VyVGltaW5nICYmICFpc1dhaXRpbmdGb3JDYWxsYmFjaykge1xuICAgICAgaXNXYWl0aW5nRm9yQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgYmVnaW5NYXJrKFwiKFdhaXRpbmcgZm9yIGFzeW5jIGNhbGxiYWNrLi4uKVwiKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcFJlcXVlc3RDYWxsYmFja1RpbWVyKGRpZEV4cGlyZSwgZXhwaXJhdGlvblRpbWUpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICBpc1dhaXRpbmdGb3JDYWxsYmFjayA9IGZhbHNlO1xuICAgICAgdmFyIHdhcm5pbmckJDEgPSBkaWRFeHBpcmUgPyBcIlJlYWN0IHdhcyBibG9ja2VkIGJ5IG1haW4gdGhyZWFkXCIgOiBudWxsO1xuICAgICAgZW5kTWFyayhcbiAgICAgICAgXCIoV2FpdGluZyBmb3IgYXN5bmMgY2FsbGJhY2suLi4gd2lsbCBmb3JjZSBmbHVzaCBpbiBcIiArXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUgK1xuICAgICAgICAgIFwiIG1zKVwiLFxuICAgICAgICBcIihXYWl0aW5nIGZvciBhc3luYyBjYWxsYmFjay4uLilcIixcbiAgICAgICAgd2FybmluZyQkMVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIHRoaXMgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyO1xuICAgIGlmICghYmVnaW5GaWJlck1hcmsoZmliZXIsIG51bGwpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5jZWxXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVtZW1iZXIgd2Ugc2hvdWxkbid0IGNvbXBsZXRlIG1lYXN1cmVtZW50IGZvciB0aGlzIGZpYmVyLlxuICAgIC8vIE90aGVyd2lzZSBmbGFtZWNoYXJ0IHdpbGwgYmUgZGVlcCBldmVuIGZvciBzbWFsbCB1cGRhdGVzLlxuICAgIGZpYmVyLl9kZWJ1Z0lzQ3VycmVudGx5VGltaW5nID0gZmFsc2U7XG4gICAgY2xlYXJGaWJlck1hcmsoZmliZXIsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIGl0cyBwYXJlbnQgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyW1wicmV0dXJuXCJdO1xuICAgIGlmICghZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBmYWxzZTtcbiAgICBlbmRGaWJlck1hcmsoZmliZXIsIG51bGwsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BGYWlsZWRXb3JrVGltZXIoZmliZXIpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZyB8fCBzaG91bGRJZ25vcmVGaWJlcihmaWJlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gSWYgd2UgcGF1c2UsIGl0cyBwYXJlbnQgaXMgdGhlIGZpYmVyIHRvIHVud2luZCBmcm9tLlxuICAgIGN1cnJlbnRGaWJlciA9IGZpYmVyW1wicmV0dXJuXCJdO1xuICAgIGlmICghZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmliZXIuX2RlYnVnSXNDdXJyZW50bHlUaW1pbmcgPSBmYWxzZTtcbiAgICB2YXIgd2FybmluZyQkMSA9IFwiQW4gZXJyb3Igd2FzIHRocm93biBpbnNpZGUgdGhpcyBlcnJvciBib3VuZGFyeVwiO1xuICAgIGVuZEZpYmVyTWFyayhmaWJlciwgbnVsbCwgd2FybmluZyQkMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRQaGFzZVRpbWVyKGZpYmVyLCBwaGFzZSkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNsZWFyUGVuZGluZ1BoYXNlTWVhc3VyZW1lbnQoKTtcbiAgICBpZiAoIWJlZ2luRmliZXJNYXJrKGZpYmVyLCBwaGFzZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudFBoYXNlRmliZXIgPSBmaWJlcjtcbiAgICBjdXJyZW50UGhhc2UgPSBwaGFzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wUGhhc2VUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBoYXNlICE9PSBudWxsICYmIGN1cnJlbnRQaGFzZUZpYmVyICE9PSBudWxsKSB7XG4gICAgICB2YXIgd2FybmluZyQkMSA9IGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudFBoYXNlXG4gICAgICAgID8gXCJTY2hlZHVsZWQgYSBjYXNjYWRpbmcgdXBkYXRlXCJcbiAgICAgICAgOiBudWxsO1xuICAgICAgZW5kRmliZXJNYXJrKGN1cnJlbnRQaGFzZUZpYmVyLCBjdXJyZW50UGhhc2UsIHdhcm5pbmckJDEpO1xuICAgIH1cbiAgICBjdXJyZW50UGhhc2UgPSBudWxsO1xuICAgIGN1cnJlbnRQaGFzZUZpYmVyID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydFdvcmtMb29wVGltZXIobmV4dFVuaXRPZldvcmspIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBjdXJyZW50RmliZXIgPSBuZXh0VW5pdE9mV29yaztcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID0gMDtcbiAgICAvLyBUaGlzIGlzIHRvcCBsZXZlbCBjYWxsLlxuICAgIC8vIEFueSBvdGhlciBtZWFzdXJlbWVudHMgYXJlIHBlcmZvcm1lZCB3aXRoaW4uXG4gICAgYmVnaW5NYXJrKFwiKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb24pXCIpO1xuICAgIC8vIFJlc3VtZSBhbnkgbWVhc3VyZW1lbnRzIHRoYXQgd2VyZSBpbiBwcm9ncmVzcyBkdXJpbmcgdGhlIGxhc3QgbG9vcC5cbiAgICByZXN1bWVUaW1lcnMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgd2FybmluZyQkMSA9IG51bGw7XG4gICAgaWYgKGludGVycnVwdGVkQnkgIT09IG51bGwpIHtcbiAgICAgIGlmIChpbnRlcnJ1cHRlZEJ5LnRhZyA9PT0gSG9zdFJvb3QpIHtcbiAgICAgICAgd2FybmluZyQkMSA9IFwiQSB0b3AtbGV2ZWwgdXBkYXRlIGludGVycnVwdGVkIHRoZSBwcmV2aW91cyByZW5kZXJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShpbnRlcnJ1cHRlZEJ5KSB8fCBcIlVua25vd25cIjtcbiAgICAgICAgd2FybmluZyQkMSA9XG4gICAgICAgICAgXCJBbiB1cGRhdGUgdG8gXCIgKyBjb21wb25lbnROYW1lICsgXCIgaW50ZXJydXB0ZWQgdGhlIHByZXZpb3VzIHJlbmRlclwiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA+IDEpIHtcbiAgICAgIHdhcm5pbmckJDEgPSBcIlRoZXJlIHdlcmUgY2FzY2FkaW5nIHVwZGF0ZXNcIjtcbiAgICB9XG4gICAgY29tbWl0Q291bnRJbkN1cnJlbnRXb3JrTG9vcCA9IDA7XG4gICAgdmFyIGxhYmVsID0gZGlkQ29tcGxldGVSb290XG4gICAgICA/IFwiKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb246IENvbXBsZXRlZCBSb290KVwiXG4gICAgICA6IFwiKFJlYWN0IFRyZWUgUmVjb25jaWxpYXRpb246IFlpZWxkZWQpXCI7XG4gICAgLy8gUGF1c2UgYW55IG1lYXN1cmVtZW50cyB1bnRpbCB0aGUgbmV4dCBsb29wLlxuICAgIHBhdXNlVGltZXJzKCk7XG4gICAgZW5kTWFyayhsYWJlbCwgXCIoUmVhY3QgVHJlZSBSZWNvbmNpbGlhdGlvbilcIiwgd2FybmluZyQkMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc0NvbW1pdHRpbmcgPSB0cnVlO1xuICAgIGhhc1NjaGVkdWxlZFVwZGF0ZUluQ3VycmVudENvbW1pdCA9IGZhbHNlO1xuICAgIGxhYmVsc0luQ3VycmVudENvbW1pdC5jbGVhcigpO1xuICAgIGJlZ2luTWFyayhcIihDb21taXR0aW5nIENoYW5nZXMpXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3BDb21taXRUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3YXJuaW5nJCQxID0gbnVsbDtcbiAgICBpZiAoaGFzU2NoZWR1bGVkVXBkYXRlSW5DdXJyZW50Q29tbWl0KSB7XG4gICAgICB3YXJuaW5nJCQxID0gXCJMaWZlY3ljbGUgaG9vayBzY2hlZHVsZWQgYSBjYXNjYWRpbmcgdXBkYXRlXCI7XG4gICAgfSBlbHNlIGlmIChjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wID4gMCkge1xuICAgICAgd2FybmluZyQkMSA9IFwiQ2F1c2VkIGJ5IGEgY2FzY2FkaW5nIHVwZGF0ZSBpbiBlYXJsaWVyIGNvbW1pdFwiO1xuICAgIH1cbiAgICBoYXNTY2hlZHVsZWRVcGRhdGVJbkN1cnJlbnRDb21taXQgPSBmYWxzZTtcbiAgICBjb21taXRDb3VudEluQ3VycmVudFdvcmtMb29wKys7XG4gICAgaXNDb21taXR0aW5nID0gZmFsc2U7XG4gICAgbGFiZWxzSW5DdXJyZW50Q29tbWl0LmNsZWFyKCk7XG5cbiAgICBlbmRNYXJrKFwiKENvbW1pdHRpbmcgQ2hhbmdlcylcIiwgXCIoQ29tbWl0dGluZyBDaGFuZ2VzKVwiLCB3YXJuaW5nJCQxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydENvbW1pdFNuYXBzaG90RWZmZWN0c1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBiZWdpbk1hcmsoXCIoQ29tbWl0dGluZyBTbmFwc2hvdCBFZmZlY3RzKVwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKSB7XG4gIGlmIChlbmFibGVVc2VyVGltaW5nQVBJKSB7XG4gICAgaWYgKCFzdXBwb3J0c1VzZXJUaW1pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQ7XG4gICAgZWZmZWN0Q291bnRJbkN1cnJlbnRDb21taXQgPSAwO1xuICAgIGVuZE1hcmsoXG4gICAgICBcIihDb21taXR0aW5nIFNuYXBzaG90IEVmZmVjdHM6IFwiICsgY291bnQgKyBcIiBUb3RhbClcIixcbiAgICAgIFwiKENvbW1pdHRpbmcgU25hcHNob3QgRWZmZWN0cylcIixcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgYmVnaW5NYXJrKFwiKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzKVwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wQ29tbWl0SG9zdEVmZmVjdHNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyayhcbiAgICAgIFwiKENvbW1pdHRpbmcgSG9zdCBFZmZlY3RzOiBcIiArIGNvdW50ICsgXCIgVG90YWwpXCIsXG4gICAgICBcIihDb21taXR0aW5nIEhvc3QgRWZmZWN0cylcIixcbiAgICAgIG51bGxcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0Q29tbWl0TGlmZUN5Y2xlc1RpbWVyKCkge1xuICBpZiAoZW5hYmxlVXNlclRpbWluZ0FQSSkge1xuICAgIGlmICghc3VwcG9ydHNVc2VyVGltaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVmZmVjdENvdW50SW5DdXJyZW50Q29tbWl0ID0gMDtcbiAgICBiZWdpbk1hcmsoXCIoQ2FsbGluZyBMaWZlY3ljbGUgTWV0aG9kcylcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcENvbW1pdExpZmVDeWNsZXNUaW1lcigpIHtcbiAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkpIHtcbiAgICBpZiAoIXN1cHBvcnRzVXNlclRpbWluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY291bnQgPSBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdDtcbiAgICBlZmZlY3RDb3VudEluQ3VycmVudENvbW1pdCA9IDA7XG4gICAgZW5kTWFyayhcbiAgICAgIFwiKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHM6IFwiICsgY291bnQgKyBcIiBUb3RhbClcIixcbiAgICAgIFwiKENhbGxpbmcgTGlmZWN5Y2xlIE1ldGhvZHMpXCIsXG4gICAgICBudWxsXG4gICAgKTtcbiAgfVxufVxuXG52YXIgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gZmFsc2U7XG59XG5cbi8vIENhbGxiYWNrcyBhcmUgbm90IHZhbGlkYXRlZCB1bnRpbCBpbnZvY2F0aW9uXG5cbi8vIFNpbmdseSBsaW5rZWQtbGlzdCBvZiB1cGRhdGVzLiBXaGVuIGFuIHVwZGF0ZSBpcyBzY2hlZHVsZWQsIGl0IGlzIGFkZGVkIHRvXG4vLyB0aGUgcXVldWUgb2YgdGhlIGN1cnJlbnQgZmliZXIgYW5kIHRoZSB3b3JrLWluLXByb2dyZXNzIGZpYmVyLiBUaGUgdHdvIHF1ZXVlc1xuLy8gYXJlIHNlcGFyYXRlIGJ1dCB0aGV5IHNoYXJlIGEgcGVyc2lzdGVudCBzdHJ1Y3R1cmUuXG4vL1xuLy8gRHVyaW5nIHJlY29uY2lsaWF0aW9uLCB1cGRhdGVzIGFyZSByZW1vdmVkIGZyb20gdGhlIHdvcmstaW4tcHJvZ3Jlc3MgZmliZXIsXG4vLyBidXQgdGhleSByZW1haW4gb24gdGhlIGN1cnJlbnQgZmliZXIuIFRoYXQgZW5zdXJlcyB0aGF0IGlmIGEgd29yay1pbi1wcm9ncmVzc1xuLy8gaXMgYWJvcnRlZCwgdGhlIGFib3J0ZWQgdXBkYXRlcyBhcmUgcmVjb3ZlcmVkIGJ5IGNsb25pbmcgZnJvbSBjdXJyZW50LlxuLy9cbi8vIFRoZSB3b3JrLWluLXByb2dyZXNzIHF1ZXVlIGlzIGFsd2F5cyBhIHN1YnNldCBvZiB0aGUgY3VycmVudCBxdWV1ZS5cbi8vXG4vLyBXaGVuIHRoZSB0cmVlIGlzIGNvbW1pdHRlZCwgdGhlIHdvcmstaW4tcHJvZ3Jlc3MgYmVjb21lcyB0aGUgY3VycmVudC5cblxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlUXVldWUoYmFzZVN0YXRlKSB7XG4gIHZhciBxdWV1ZSA9IHtcbiAgICBiYXNlU3RhdGU6IGJhc2VTdGF0ZSxcbiAgICBleHBpcmF0aW9uVGltZTogTm9Xb3JrLFxuICAgIGZpcnN0OiBudWxsLFxuICAgIGxhc3Q6IG51bGwsXG4gICAgY2FsbGJhY2tMaXN0OiBudWxsLFxuICAgIGhhc0ZvcmNlVXBkYXRlOiBmYWxzZSxcbiAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICBjYXB0dXJlZFZhbHVlczogbnVsbFxuICB9O1xuICB7XG4gICAgcXVldWUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHF1ZXVlO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUsIHVwZGF0ZSkge1xuICAvLyBBcHBlbmQgdGhlIHVwZGF0ZSB0byB0aGUgZW5kIG9mIHRoZSBsaXN0LlxuICBpZiAocXVldWUubGFzdCA9PT0gbnVsbCkge1xuICAgIC8vIFF1ZXVlIGlzIGVtcHR5XG4gICAgcXVldWUuZmlyc3QgPSBxdWV1ZS5sYXN0ID0gdXBkYXRlO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlLmxhc3QubmV4dCA9IHVwZGF0ZTtcbiAgICBxdWV1ZS5sYXN0ID0gdXBkYXRlO1xuICB9XG4gIGlmIChcbiAgICBxdWV1ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgcXVldWUuZXhwaXJhdGlvblRpbWUgPiB1cGRhdGUuZXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgcXVldWUuZXhwaXJhdGlvblRpbWUgPSB1cGRhdGUuZXhwaXJhdGlvblRpbWU7XG4gIH1cbn1cblxudmFyIHExID0gdm9pZCAwO1xudmFyIHEyID0gdm9pZCAwO1xuZnVuY3Rpb24gZW5zdXJlVXBkYXRlUXVldWVzKGZpYmVyKSB7XG4gIHExID0gcTIgPSBudWxsO1xuICAvLyBXZSdsbCBoYXZlIGF0IGxlYXN0IG9uZSBhbmQgYXQgbW9zdCB0d28gZGlzdGluY3QgdXBkYXRlIHF1ZXVlcy5cbiAgdmFyIGFsdGVybmF0ZUZpYmVyID0gZmliZXIuYWx0ZXJuYXRlO1xuICB2YXIgcXVldWUxID0gZmliZXIudXBkYXRlUXVldWU7XG4gIGlmIChxdWV1ZTEgPT09IG51bGwpIHtcbiAgICAvLyBUT0RPOiBXZSBkb24ndCBrbm93IHdoYXQgdGhlIGJhc2Ugc3RhdGUgd2lsbCBiZSB1bnRpbCB3ZSBiZWdpbiB3b3JrLlxuICAgIC8vIEl0IGRlcGVuZHMgb24gd2hpY2ggZmliZXIgaXMgdGhlIG5leHQgY3VycmVudC4gSW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5XG4gICAgLy8gYmFzZSBzdGF0ZSwgdGhlbiBzZXQgdG8gdGhlIG1lbW9pemVkU3RhdGUgd2hlbiByZW5kZXJpbmcuIE5vdCBzdXBlclxuICAgIC8vIGhhcHB5IHdpdGggdGhpcyBhcHByb2FjaC5cbiAgICBxdWV1ZTEgPSBmaWJlci51cGRhdGVRdWV1ZSA9IGNyZWF0ZVVwZGF0ZVF1ZXVlKG51bGwpO1xuICB9XG5cbiAgdmFyIHF1ZXVlMiA9IHZvaWQgMDtcbiAgaWYgKGFsdGVybmF0ZUZpYmVyICE9PSBudWxsKSB7XG4gICAgcXVldWUyID0gYWx0ZXJuYXRlRmliZXIudXBkYXRlUXVldWU7XG4gICAgaWYgKHF1ZXVlMiA9PT0gbnVsbCkge1xuICAgICAgcXVldWUyID0gYWx0ZXJuYXRlRmliZXIudXBkYXRlUXVldWUgPSBjcmVhdGVVcGRhdGVRdWV1ZShudWxsKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWUyID0gbnVsbDtcbiAgfVxuICBxdWV1ZTIgPSBxdWV1ZTIgIT09IHF1ZXVlMSA/IHF1ZXVlMiA6IG51bGw7XG5cbiAgLy8gVXNlIG1vZHVsZSB2YXJpYWJsZXMgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSB0dXBsZVxuICBxMSA9IHF1ZXVlMTtcbiAgcTIgPSBxdWV1ZTI7XG59XG5cbmZ1bmN0aW9uIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKSB7XG4gIGVuc3VyZVVwZGF0ZVF1ZXVlcyhmaWJlcik7XG4gIHZhciBxdWV1ZTEgPSBxMTtcbiAgdmFyIHF1ZXVlMiA9IHEyO1xuXG4gIC8vIFdhcm4gaWYgYW4gdXBkYXRlIGlzIHNjaGVkdWxlZCBmcm9tIGluc2lkZSBhbiB1cGRhdGVyIGZ1bmN0aW9uLlxuICB7XG4gICAgaWYgKFxuICAgICAgKHF1ZXVlMS5pc1Byb2Nlc3NpbmcgfHwgKHF1ZXVlMiAhPT0gbnVsbCAmJiBxdWV1ZTIuaXNQcm9jZXNzaW5nKSkgJiZcbiAgICAgICFkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlXG4gICAgKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgXCJBbiB1cGRhdGUgKHNldFN0YXRlLCByZXBsYWNlU3RhdGUsIG9yIGZvcmNlVXBkYXRlKSB3YXMgc2NoZWR1bGVkIFwiICtcbiAgICAgICAgICBcImZyb20gaW5zaWRlIGFuIHVwZGF0ZSBmdW5jdGlvbi4gVXBkYXRlIGZ1bmN0aW9ucyBzaG91bGQgYmUgcHVyZSwgXCIgK1xuICAgICAgICAgIFwid2l0aCB6ZXJvIHNpZGUtZWZmZWN0cy4gQ29uc2lkZXIgdXNpbmcgY29tcG9uZW50RGlkVXBkYXRlIG9yIGEgXCIgK1xuICAgICAgICAgIFwiY2FsbGJhY2suXCJcbiAgICAgICk7XG4gICAgICBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGVyZSdzIG9ubHkgb25lIHF1ZXVlLCBhZGQgdGhlIHVwZGF0ZSB0byB0aGF0IHF1ZXVlIGFuZCBleGl0LlxuICBpZiAocXVldWUyID09PSBudWxsKSB7XG4gICAgaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlMSwgdXBkYXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBlaXRoZXIgcXVldWUgaXMgZW1wdHksIHdlIG5lZWQgdG8gYWRkIHRvIGJvdGggcXVldWVzLlxuICBpZiAocXVldWUxLmxhc3QgPT09IG51bGwgfHwgcXVldWUyLmxhc3QgPT09IG51bGwpIHtcbiAgICBpbnNlcnRVcGRhdGVJbnRvUXVldWUocXVldWUxLCB1cGRhdGUpO1xuICAgIGluc2VydFVwZGF0ZUludG9RdWV1ZShxdWV1ZTIsIHVwZGF0ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgYm90aCBsaXN0cyBhcmUgbm90IGVtcHR5LCB0aGUgbGFzdCB1cGRhdGUgaXMgdGhlIHNhbWUgZm9yIGJvdGggbGlzdHNcbiAgLy8gYmVjYXVzZSBvZiBzdHJ1Y3R1cmFsIHNoYXJpbmcuIFNvLCB3ZSBzaG91bGQgb25seSBhcHBlbmQgdG8gb25lIG9mXG4gIC8vIHRoZSBsaXN0cy5cbiAgaW5zZXJ0VXBkYXRlSW50b1F1ZXVlKHF1ZXVlMSwgdXBkYXRlKTtcbiAgLy8gQnV0IHdlIHN0aWxsIG5lZWQgdG8gdXBkYXRlIHRoZSBgbGFzdGAgcG9pbnRlciBvZiBxdWV1ZTIuXG4gIHF1ZXVlMi5sYXN0ID0gdXBkYXRlO1xufVxuXG5mdW5jdGlvbiBnZXRVcGRhdGVFeHBpcmF0aW9uVGltZShmaWJlcikge1xuICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKHVwZGF0ZVF1ZXVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBOb1dvcms7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlUXVldWUuZXhwaXJhdGlvblRpbWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBOb1dvcms7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHByZXZTdGF0ZSwgcHJvcHMpIHtcbiAgdmFyIHBhcnRpYWxTdGF0ZSA9IHVwZGF0ZS5wYXJ0aWFsU3RhdGU7XG4gIGlmICh0eXBlb2YgcGFydGlhbFN0YXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcGFydGlhbFN0YXRlLmNhbGwoaW5zdGFuY2UsIHByZXZTdGF0ZSwgcHJvcHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXJ0aWFsU3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1VwZGF0ZVF1ZXVlKFxuICBjdXJyZW50LFxuICB3b3JrSW5Qcm9ncmVzcyxcbiAgcXVldWUsXG4gIGluc3RhbmNlLFxuICBwcm9wcyxcbiAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbikge1xuICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiBjdXJyZW50LnVwZGF0ZVF1ZXVlID09PSBxdWV1ZSkge1xuICAgIC8vIFdlIG5lZWQgdG8gY3JlYXRlIGEgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSwgYnkgY2xvbmluZyB0aGUgY3VycmVudCBxdWV1ZS5cbiAgICB2YXIgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHtcbiAgICAgIGJhc2VTdGF0ZTogY3VycmVudFF1ZXVlLmJhc2VTdGF0ZSxcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBjdXJyZW50UXVldWUuZXhwaXJhdGlvblRpbWUsXG4gICAgICBmaXJzdDogY3VycmVudFF1ZXVlLmZpcnN0LFxuICAgICAgbGFzdDogY3VycmVudFF1ZXVlLmxhc3QsXG4gICAgICBpc0luaXRpYWxpemVkOiBjdXJyZW50UXVldWUuaXNJbml0aWFsaXplZCxcbiAgICAgIGNhcHR1cmVkVmFsdWVzOiBjdXJyZW50UXVldWUuY2FwdHVyZWRWYWx1ZXMsXG4gICAgICAvLyBUaGVzZSBmaWVsZHMgYXJlIG5vIGxvbmdlciB2YWxpZCBiZWNhdXNlIHRoZXkgd2VyZSBhbHJlYWR5IGNvbW1pdHRlZC5cbiAgICAgIC8vIFJlc2V0IHRoZW0uXG4gICAgICBjYWxsYmFja0xpc3Q6IG51bGwsXG4gICAgICBoYXNGb3JjZVVwZGF0ZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFNldCB0aGlzIGZsYWcgc28gd2UgY2FuIHdhcm4gaWYgc2V0U3RhdGUgaXMgY2FsbGVkIGluc2lkZSB0aGUgdXBkYXRlXG4gICAgLy8gZnVuY3Rpb24gb2YgYW5vdGhlciBzZXRTdGF0ZS5cbiAgICBxdWV1ZS5pc1Byb2Nlc3NpbmcgPSB0cnVlO1xuICB9XG5cbiAgLy8gUmVzZXQgdGhlIHJlbWFpbmluZyBleHBpcmF0aW9uIHRpbWUuIElmIHdlIHNraXAgb3ZlciBhbnkgdXBkYXRlcywgd2UnbGxcbiAgLy8gaW5jcmVhc2UgdGhpcyBhY2NvcmRpbmdseS5cbiAgcXVldWUuZXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG5cbiAgLy8gVE9ETzogV2UgZG9uJ3Qga25vdyB3aGF0IHRoZSBiYXNlIHN0YXRlIHdpbGwgYmUgdW50aWwgd2UgYmVnaW4gd29yay5cbiAgLy8gSXQgZGVwZW5kcyBvbiB3aGljaCBmaWJlciBpcyB0aGUgbmV4dCBjdXJyZW50LiBJbml0aWFsaXplIHdpdGggYW4gZW1wdHlcbiAgLy8gYmFzZSBzdGF0ZSwgdGhlbiBzZXQgdG8gdGhlIG1lbW9pemVkU3RhdGUgd2hlbiByZW5kZXJpbmcuIE5vdCBzdXBlclxuICAvLyBoYXBweSB3aXRoIHRoaXMgYXBwcm9hY2guXG4gIHZhciBzdGF0ZSA9IHZvaWQgMDtcbiAgaWYgKHF1ZXVlLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICBzdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgcXVldWUuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gIH1cbiAgdmFyIGRvbnRNdXRhdGVQcmV2U3RhdGUgPSB0cnVlO1xuICB2YXIgdXBkYXRlID0gcXVldWUuZmlyc3Q7XG4gIHZhciBkaWRTa2lwID0gZmFsc2U7XG4gIHdoaWxlICh1cGRhdGUgIT09IG51bGwpIHtcbiAgICB2YXIgdXBkYXRlRXhwaXJhdGlvblRpbWUgPSB1cGRhdGUuZXhwaXJhdGlvblRpbWU7XG4gICAgaWYgKHVwZGF0ZUV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIC8vIFRoaXMgdXBkYXRlIGRvZXMgbm90IGhhdmUgc3VmZmljaWVudCBwcmlvcml0eS4gU2tpcCBpdC5cbiAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHF1ZXVlLmV4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKFxuICAgICAgICByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID4gdXBkYXRlRXhwaXJhdGlvblRpbWVcbiAgICAgICkge1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmluZyBleHBpcmF0aW9uIHRpbWUuXG4gICAgICAgIHF1ZXVlLmV4cGlyYXRpb25UaW1lID0gdXBkYXRlRXhwaXJhdGlvblRpbWU7XG4gICAgICB9XG4gICAgICBpZiAoIWRpZFNraXApIHtcbiAgICAgICAgZGlkU2tpcCA9IHRydWU7XG4gICAgICAgIHF1ZXVlLmJhc2VTdGF0ZSA9IHN0YXRlO1xuICAgICAgfVxuICAgICAgLy8gQ29udGludWUgdG8gdGhlIG5leHQgdXBkYXRlLlxuICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHVwZGF0ZSBkb2VzIGhhdmUgc3VmZmljaWVudCBwcmlvcml0eS5cblxuICAgIC8vIElmIG5vIHByZXZpb3VzIHVwZGF0ZXMgd2VyZSBza2lwcGVkLCBkcm9wIHRoaXMgdXBkYXRlIGZyb20gdGhlIHF1ZXVlIGJ5XG4gICAgLy8gYWR2YW5jaW5nIHRoZSBoZWFkIG9mIHRoZSBsaXN0LlxuICAgIGlmICghZGlkU2tpcCkge1xuICAgICAgcXVldWUuZmlyc3QgPSB1cGRhdGUubmV4dDtcbiAgICAgIGlmIChxdWV1ZS5maXJzdCA9PT0gbnVsbCkge1xuICAgICAgICBxdWV1ZS5sYXN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbnZva2Ugc2V0U3RhdGUgY2FsbGJhY2sgYW4gZXh0cmEgdGltZSB0byBoZWxwIGRldGVjdCBzaWRlLWVmZmVjdHMuXG4gICAgLy8gSWdub3JlIHRoZSByZXR1cm4gdmFsdWUgaW4gdGhpcyBjYXNlLlxuICAgIGlmIChcbiAgICAgIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fFxuICAgICAgKGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0c0ZvclN0cmljdE1vZGUgJiZcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdE1vZGUpXG4gICAgKSB7XG4gICAgICBnZXRTdGF0ZUZyb21VcGRhdGUodXBkYXRlLCBpbnN0YW5jZSwgc3RhdGUsIHByb3BzKTtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIHRoZSB1cGRhdGVcbiAgICB2YXIgX3BhcnRpYWxTdGF0ZSA9IHZvaWQgMDtcbiAgICBpZiAodXBkYXRlLmlzUmVwbGFjZSkge1xuICAgICAgc3RhdGUgPSBnZXRTdGF0ZUZyb21VcGRhdGUodXBkYXRlLCBpbnN0YW5jZSwgc3RhdGUsIHByb3BzKTtcbiAgICAgIGRvbnRNdXRhdGVQcmV2U3RhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBfcGFydGlhbFN0YXRlID0gZ2V0U3RhdGVGcm9tVXBkYXRlKHVwZGF0ZSwgaW5zdGFuY2UsIHN0YXRlLCBwcm9wcyk7XG4gICAgICBpZiAoX3BhcnRpYWxTdGF0ZSkge1xuICAgICAgICBpZiAoZG9udE11dGF0ZVByZXZTdGF0ZSkge1xuICAgICAgICAgIC8vICRGbG93Rml4TWU6IElkayBob3cgdG8gdHlwZSB0aGlzIHByb3Blcmx5LlxuICAgICAgICAgIHN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIF9wYXJ0aWFsU3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlID0gT2JqZWN0LmFzc2lnbihzdGF0ZSwgX3BhcnRpYWxTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9udE11dGF0ZVByZXZTdGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodXBkYXRlLmlzRm9yY2VkKSB7XG4gICAgICBxdWV1ZS5oYXNGb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh1cGRhdGUuY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIC8vIEFwcGVuZCB0byBsaXN0IG9mIGNhbGxiYWNrcy5cbiAgICAgIHZhciBfY2FsbGJhY2tMaXN0ID0gcXVldWUuY2FsbGJhY2tMaXN0O1xuICAgICAgaWYgKF9jYWxsYmFja0xpc3QgPT09IG51bGwpIHtcbiAgICAgICAgX2NhbGxiYWNrTGlzdCA9IHF1ZXVlLmNhbGxiYWNrTGlzdCA9IFtdO1xuICAgICAgfVxuICAgICAgX2NhbGxiYWNrTGlzdC5wdXNoKHVwZGF0ZSk7XG4gICAgfVxuICAgIGlmICh1cGRhdGUuY2FwdHVyZWRWYWx1ZSAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9jYXB0dXJlZFZhbHVlcyA9IHF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgaWYgKF9jYXB0dXJlZFZhbHVlcyA9PT0gbnVsbCkge1xuICAgICAgICBxdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IFt1cGRhdGUuY2FwdHVyZWRWYWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY2FwdHVyZWRWYWx1ZXMucHVzaCh1cGRhdGUuY2FwdHVyZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSA9IHVwZGF0ZS5uZXh0O1xuICB9XG5cbiAgaWYgKHF1ZXVlLmNhbGxiYWNrTGlzdCAhPT0gbnVsbCkge1xuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBDYWxsYmFjaztcbiAgfSBlbHNlIGlmIChcbiAgICBxdWV1ZS5maXJzdCA9PT0gbnVsbCAmJlxuICAgICFxdWV1ZS5oYXNGb3JjZVVwZGF0ZSAmJlxuICAgIHF1ZXVlLmNhcHR1cmVkVmFsdWVzID09PSBudWxsXG4gICkge1xuICAgIC8vIFRoZSBxdWV1ZSBpcyBlbXB0eS4gV2UgY2FuIHJlc2V0IGl0LlxuICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgfVxuXG4gIGlmICghZGlkU2tpcCkge1xuICAgIGRpZFNraXAgPSB0cnVlO1xuICAgIHF1ZXVlLmJhc2VTdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAge1xuICAgIC8vIE5vIGxvbmdlciBwcm9jZXNzaW5nLlxuICAgIHF1ZXVlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiBjb21taXRDYWxsYmFja3MocXVldWUsIGNvbnRleHQpIHtcbiAgdmFyIGNhbGxiYWNrTGlzdCA9IHF1ZXVlLmNhbGxiYWNrTGlzdDtcbiAgaWYgKGNhbGxiYWNrTGlzdCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBTZXQgdGhlIGxpc3QgdG8gbnVsbCB0byBtYWtlIHN1cmUgdGhleSBkb24ndCBnZXQgY2FsbGVkIG1vcmUgdGhhbiBvbmNlLlxuICBxdWV1ZS5jYWxsYmFja0xpc3QgPSBudWxsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrTGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciB1cGRhdGUgPSBjYWxsYmFja0xpc3RbaV07XG4gICAgdmFyIF9jYWxsYmFjayA9IHVwZGF0ZS5jYWxsYmFjaztcbiAgICAvLyBUaGlzIHVwZGF0ZSBtaWdodCBiZSBwcm9jZXNzZWQgYWdhaW4uIENsZWFyIHRoZSBjYWxsYmFjayBzbyBpdCdzIG9ubHlcbiAgICAvLyBjYWxsZWQgb25jZS5cbiAgICB1cGRhdGUuY2FsbGJhY2sgPSBudWxsO1xuICAgIGludmFyaWFudChcbiAgICAgIHR5cGVvZiBfY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIixcbiAgICAgIFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgYXMgY2FsbGJhY2suIEV4cGVjdGVkIGEgZnVuY3Rpb24uIEluc3RlYWQgXCIgK1xuICAgICAgICBcInJlY2VpdmVkOiAlc1wiLFxuICAgICAgX2NhbGxiYWNrXG4gICAgKTtcbiAgICBfY2FsbGJhY2suY2FsbChjb250ZXh0KTtcbiAgfVxufVxuXG52YXIgZmFrZUludGVybmFsSW5zdGFuY2UgPSB7fTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxudmFyIGRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudCA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZSA9IHZvaWQgMDtcbnZhciBkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlID0gdm9pZCAwO1xudmFyIHdhcm5PbkludmFsaWRDYWxsYmFjayA9IHZvaWQgMDtcblxue1xuICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlID0gbmV3IFNldCgpO1xuICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSBuZXcgU2V0KCk7XG4gIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG5cbiAgdmFyIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjayA9IG5ldyBTZXQoKTtcblxuICB3YXJuT25JbnZhbGlkQ2FsbGJhY2sgPSBmdW5jdGlvbihjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIGlmIChjYWxsYmFjayA9PT0gbnVsbCB8fCB0eXBlb2YgY2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIga2V5ID0gY2FsbGVyTmFtZSArIFwiX1wiICsgY2FsbGJhY2s7XG4gICAgaWYgKCFkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2suaGFzKGtleSkpIHtcbiAgICAgIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5hZGQoa2V5KTtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBcIiVzKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSBcIiArXG4gICAgICAgICAgXCJmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgIGNhbGxlck5hbWUsXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvLyBUaGlzIGlzIHNvIGdyb3NzIGJ1dCBpdCdzIGF0IGxlYXN0IG5vbi1jcml0aWNhbCBhbmQgY2FuIGJlIHJlbW92ZWQgaWZcbiAgLy8gaXQgY2F1c2VzIHByb2JsZW1zLiBUaGlzIGlzIG1lYW50IHRvIGdpdmUgYSBuaWNlciBlcnJvciBtZXNzYWdlIGZvclxuICAvLyBSZWFjdERPTTE1LnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHJlYWN0RE9NMTZDb21wb25lbnQsXG4gIC8vIC4uLikpIHdoaWNoIG90aGVyd2lzZSB0aHJvd3MgYSBcIl9wcm9jZXNzQ2hpbGRDb250ZXh0IGlzIG5vdCBhIGZ1bmN0aW9uXCJcbiAgLy8gZXhjZXB0aW9uLlxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmFrZUludGVybmFsSW5zdGFuY2UsIFwiX3Byb2Nlc3NDaGlsZENvbnRleHRcIiwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFwiX3Byb2Nlc3NDaGlsZENvbnRleHQgaXMgbm90IGF2YWlsYWJsZSBpbiBSZWFjdCAxNisuIFRoaXMgbGlrZWx5IFwiICtcbiAgICAgICAgICBcIm1lYW5zIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBhbmQgYXJlIGF0dGVtcHRpbmcgdG8gbmVzdCBcIiArXG4gICAgICAgICAgXCJhIFJlYWN0IDE1IHRyZWUgaW5zaWRlIGEgUmVhY3QgMTYgdHJlZSB1c2luZyBcIiArXG4gICAgICAgICAgXCJ1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciwgd2hpY2ggaXNuJ3Qgc3VwcG9ydGVkLiBUcnkgXCIgK1xuICAgICAgICAgIFwidG8gbWFrZSBzdXJlIHlvdSBoYXZlIG9ubHkgb25lIGNvcHkgb2YgUmVhY3QgKGFuZCBpZGVhbGx5LCBzd2l0Y2ggXCIgK1xuICAgICAgICAgIFwidG8gUmVhY3RET00uY3JlYXRlUG9ydGFsKS5cIlxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZnJlZXplKGZha2VJbnRlcm5hbEluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2goY3RvciwgY2FwdHVyZWRWYWx1ZXMpIHtcbiAgdmFyIHJlc3VsdFN0YXRlID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FwdHVyZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2FwdHVyZWRWYWx1ZSA9IGNhcHR1cmVkVmFsdWVzW2ldO1xuICAgIHZhciBlcnJvciA9IGNhcHR1cmVkVmFsdWUudmFsdWU7XG4gICAgdmFyIHBhcnRpYWxTdGF0ZSA9IGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoLmNhbGwobnVsbCwgZXJyb3IpO1xuICAgIGlmIChwYXJ0aWFsU3RhdGUgIT09IG51bGwgJiYgcGFydGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0U3RhdGUsIHBhcnRpYWxTdGF0ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRTdGF0ZTtcbn1cblxudmFyIFJlYWN0RmliZXJDbGFzc0NvbXBvbmVudCA9IGZ1bmN0aW9uKFxuICBsZWdhY3lDb250ZXh0LFxuICBzY2hlZHVsZVdvcmssXG4gIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIsXG4gIG1lbW9pemVQcm9wcyxcbiAgbWVtb2l6ZVN0YXRlXG4pIHtcbiAgdmFyIGNhY2hlQ29udGV4dCA9IGxlZ2FjeUNvbnRleHQuY2FjaGVDb250ZXh0LFxuICAgIGdldE1hc2tlZENvbnRleHQgPSBsZWdhY3lDb250ZXh0LmdldE1hc2tlZENvbnRleHQsXG4gICAgZ2V0VW5tYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRVbm1hc2tlZENvbnRleHQsXG4gICAgaXNDb250ZXh0Q29uc3VtZXIgPSBsZWdhY3lDb250ZXh0LmlzQ29udGV4dENvbnN1bWVyLFxuICAgIGhhc0NvbnRleHRDaGFuZ2VkID0gbGVnYWN5Q29udGV4dC5oYXNDb250ZXh0Q2hhbmdlZDtcblxuICAvLyBDbGFzcyBjb21wb25lbnQgc3RhdGUgdXBkYXRlclxuXG4gIHZhciB1cGRhdGVyID0ge1xuICAgIGlzTW91bnRlZDogaXNNb3VudGVkLFxuICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24oaW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgXCJzZXRTdGF0ZVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoZmliZXIpO1xuICAgICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBwYXJ0aWFsU3RhdGU6IHBhcnRpYWxTdGF0ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IGZhbHNlLFxuICAgICAgICBpc0ZvcmNlZDogZmFsc2UsXG4gICAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSk7XG4gICAgICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9LFxuICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKGluc3RhbmNlLCBzdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgXCJyZXBsYWNlU3RhdGVcIik7XG4gICAgICB9XG4gICAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyKGZpYmVyKTtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgcGFydGlhbFN0YXRlOiBzdGF0ZSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBpc1JlcGxhY2U6IHRydWUsXG4gICAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgICAgY2FwdHVyZWRWYWx1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGluc2VydFVwZGF0ZUludG9GaWJlcihmaWJlciwgdXBkYXRlKTtcbiAgICAgIHNjaGVkdWxlV29yayhmaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH0sXG4gICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbihpbnN0YW5jZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBmaWJlciA9IGdldChpbnN0YW5jZSk7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICB7XG4gICAgICAgIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaywgXCJmb3JjZVVwZGF0ZVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoZmliZXIpO1xuICAgICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBwYXJ0aWFsU3RhdGU6IG51bGwsXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgaXNSZXBsYWNlOiBmYWxzZSxcbiAgICAgICAgaXNGb3JjZWQ6IHRydWUsXG4gICAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoZmliZXIsIHVwZGF0ZSk7XG4gICAgICBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgb2xkUHJvcHMsXG4gICAgbmV3UHJvcHMsXG4gICAgb2xkU3RhdGUsXG4gICAgbmV3U3RhdGUsXG4gICAgbmV3Q29udGV4dFxuICApIHtcbiAgICBpZiAoXG4gICAgICBvbGRQcm9wcyA9PT0gbnVsbCB8fFxuICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsICYmXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmhhc0ZvcmNlVXBkYXRlKVxuICAgICkge1xuICAgICAgLy8gSWYgdGhlIHdvcmtJblByb2dyZXNzIGFscmVhZHkgaGFzIGFuIFVwZGF0ZSBlZmZlY3QsIHJldHVybiB0cnVlXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgdmFyIGN0b3IgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIGlmICh0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgXCJzaG91bGRDb21wb25lbnRVcGRhdGVcIik7XG4gICAgICB2YXIgc2hvdWxkVXBkYXRlID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgIG5ld0NvbnRleHRcbiAgICAgICk7XG4gICAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgICB7XG4gICAgICAgICEoc2hvdWxkVXBkYXRlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCIlcy5zaG91bGRDb21wb25lbnRVcGRhdGUoKTogUmV0dXJuZWQgdW5kZWZpbmVkIGluc3RlYWQgb2YgYSBcIiArXG4gICAgICAgICAgICAgICAgXCJib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgICB9XG5cbiAgICBpZiAoY3Rvci5wcm90b3R5cGUgJiYgY3Rvci5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICFzaGFsbG93RXF1YWwob2xkUHJvcHMsIG5ld1Byb3BzKSB8fCAhc2hhbGxvd0VxdWFsKG9sZFN0YXRlLCBuZXdTdGF0ZSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0NsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgIHZhciByZW5kZXJQcmVzZW50ID0gaW5zdGFuY2UucmVuZGVyO1xuXG4gICAgICBpZiAoIXJlbmRlclByZXNlbnQpIHtcbiAgICAgICAgaWYgKHR5cGUucHJvdG90eXBlICYmIHR5cGVvZiB0eXBlLnByb3RvdHlwZS5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMoLi4uKTogTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSByZXR1cm5lZCBjb21wb25lbnQgXCIgK1xuICAgICAgICAgICAgICBcImluc3RhbmNlOiBkaWQgeW91IGFjY2lkZW50YWxseSByZXR1cm4gYW4gb2JqZWN0IGZyb20gdGhlIGNvbnN0cnVjdG9yP1wiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCIlcyguLi4pOiBObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlIHJldHVybmVkIGNvbXBvbmVudCBcIiArXG4gICAgICAgICAgICAgIFwiaW5zdGFuY2U6IHlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gZGVmaW5lIGByZW5kZXJgLlwiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG5vR2V0SW5pdGlhbFN0YXRlT25FUzYgPVxuICAgICAgICAhaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlIHx8XG4gICAgICAgIGluc3RhbmNlLmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCB8fFxuICAgICAgICBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgICFub0dldEluaXRpYWxTdGF0ZU9uRVM2XG4gICAgICAgID8gd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCJnZXRJbml0aWFsU3RhdGUgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gXCIgK1xuICAgICAgICAgICAgICBcIlRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gXCIgK1xuICAgICAgICAgICAgICBcIkRpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkP1wiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgOiB2b2lkIDA7XG4gICAgICB2YXIgbm9HZXREZWZhdWx0UHJvcHNPbkVTNiA9XG4gICAgICAgICFpbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkO1xuICAgICAgIW5vR2V0RGVmYXVsdFByb3BzT25FUzZcbiAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcImdldERlZmF1bHRQcm9wcyB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiBcIiArXG4gICAgICAgICAgICAgIFwiVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiBcIiArXG4gICAgICAgICAgICAgIFwiVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBkZWZhdWx0UHJvcHMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICApXG4gICAgICAgIDogdm9pZCAwO1xuICAgICAgdmFyIG5vSW5zdGFuY2VQcm9wVHlwZXMgPSAhaW5zdGFuY2UucHJvcFR5cGVzO1xuICAgICAgIW5vSW5zdGFuY2VQcm9wVHlwZXNcbiAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcInByb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljIFwiICtcbiAgICAgICAgICAgICAgXCJwcm9wZXJ0eSB0byBkZWZpbmUgcHJvcFR5cGVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICAgIHZhciBub0luc3RhbmNlQ29udGV4dFR5cGVzID0gIWluc3RhbmNlLmNvbnRleHRUeXBlcztcbiAgICAgICFub0luc3RhbmNlQ29udGV4dFR5cGVzXG4gICAgICAgID8gd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCJjb250ZXh0VHlwZXMgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyBcIiArXG4gICAgICAgICAgICAgIFwicHJvcGVydHkgdG8gZGVmaW5lIGNvbnRleHRUeXBlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgOiB2b2lkIDA7XG4gICAgICB2YXIgbm9Db21wb25lbnRTaG91bGRVcGRhdGUgPVxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50U2hvdWxkVXBkYXRlICE9PSBcImZ1bmN0aW9uXCI7XG4gICAgICAhbm9Db21wb25lbnRTaG91bGRVcGRhdGVcbiAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgXCIgK1xuICAgICAgICAgICAgICBcImNvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/IFwiICtcbiAgICAgICAgICAgICAgXCJUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgXCIgK1xuICAgICAgICAgICAgICBcImV4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLlwiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgOiB2b2lkIDA7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGUucHJvdG90eXBlICYmXG4gICAgICAgIHR5cGUucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ICYmXG4gICAgICAgIHR5cGVvZiBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBzaG91bGRDb21wb25lbnRVcGRhdGUoKS4gXCIgK1xuICAgICAgICAgICAgXCJzaG91bGRDb21wb25lbnRVcGRhdGUgc2hvdWxkIG5vdCBiZSB1c2VkIHdoZW4gZXh0ZW5kaW5nIFJlYWN0LlB1cmVDb21wb25lbnQuIFwiICtcbiAgICAgICAgICAgIFwiUGxlYXNlIGV4dGVuZCBSZWFjdC5Db21wb25lbnQgaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIGlzIHVzZWQuXCIsXG4gICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJBIHB1cmUgY29tcG9uZW50XCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhciBub0NvbXBvbmVudERpZFVubW91bnQgPVxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVW5tb3VudCAhPT0gXCJmdW5jdGlvblwiO1xuICAgICAgIW5vQ29tcG9uZW50RGlkVW5tb3VudFxuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBcIiArXG4gICAgICAgICAgICAgIFwiY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiBcIiArXG4gICAgICAgICAgICAgIFwiRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxVbm1vdW50KCk/XCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICAgIHZhciBub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wcyA9XG4gICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRSZWNlaXZlUHJvcHMgIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICFub0NvbXBvbmVudERpZFJlY2VpdmVQcm9wc1xuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBcIiArXG4gICAgICAgICAgICAgIFwiY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzKCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuIFwiICtcbiAgICAgICAgICAgICAgXCJJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgXCIgK1xuICAgICAgICAgICAgICBcInVzZSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCkuIElmIHlvdSBtZWFudCB0byBmZXRjaCBkYXRhIG9yIFwiICtcbiAgICAgICAgICAgICAgXCJydW4gc2lkZS1lZmZlY3RzIG9yIG11dGF0aW9ucyBhZnRlciBSZWFjdCBoYXMgdXBkYXRlZCB0aGUgVUksIHVzZSBjb21wb25lbnREaWRVcGRhdGUoKS5cIixcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICApXG4gICAgICAgIDogdm9pZCAwO1xuICAgICAgdmFyIG5vQ29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyA9XG4gICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICE9PSBcImZ1bmN0aW9uXCI7XG4gICAgICAhbm9Db21wb25lbnRXaWxsUmVjaWV2ZVByb3BzXG4gICAgICAgID8gd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIFwiICtcbiAgICAgICAgICAgICAgXCJjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/XCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICAgIHZhciBub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgPVxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICFub1Vuc2FmZUNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHNcbiAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgXCIgK1xuICAgICAgICAgICAgICBcIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpP1wiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgOiB2b2lkIDA7XG4gICAgICB2YXIgaGFzTXV0YXRlZFByb3BzID0gaW5zdGFuY2UucHJvcHMgIT09IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgICEoaW5zdGFuY2UucHJvcHMgPT09IHVuZGVmaW5lZCB8fCAhaGFzTXV0YXRlZFByb3BzKVxuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMoLi4uKTogV2hlbiBjYWxsaW5nIHN1cGVyKCkgaW4gYCVzYCwgbWFrZSBzdXJlIHRvIHBhc3MgXCIgK1xuICAgICAgICAgICAgICBcInVwIHRoZSBzYW1lIHByb3BzIHRoYXQgeW91ciBjb21wb25lbnQncyBjb25zdHJ1Y3RvciB3YXMgcGFzc2VkLlwiLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICApXG4gICAgICAgIDogdm9pZCAwO1xuICAgICAgdmFyIG5vSW5zdGFuY2VEZWZhdWx0UHJvcHMgPSAhaW5zdGFuY2UuZGVmYXVsdFByb3BzO1xuICAgICAgIW5vSW5zdGFuY2VEZWZhdWx0UHJvcHNcbiAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIlNldHRpbmcgZGVmYXVsdFByb3BzIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgYmUgaWdub3JlZC5cIiArXG4gICAgICAgICAgICAgIFwiIEluc3RlYWQsIGRlZmluZSBkZWZhdWx0UHJvcHMgYXMgYSBzdGF0aWMgcHJvcGVydHkgb24gJXMuXCIsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgOiB2b2lkIDA7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgIT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAhZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmhhcyh0eXBlKVxuICAgICAgKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5hZGQodHlwZSk7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCIlczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBzaG91bGQgYmUgdXNlZCB3aXRoIGNvbXBvbmVudERpZFVwZGF0ZSgpLiBcIiArXG4gICAgICAgICAgICBcIlRoaXMgY29tcG9uZW50IGRlZmluZXMgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBvbmx5LlwiLFxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWUod29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID1cbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gXCJmdW5jdGlvblwiO1xuICAgICAgIW5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcbiAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIiVzOiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCBcIiArXG4gICAgICAgICAgICAgIFwiYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuXCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICAgIHZhciBub0luc3RhbmNlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoID1cbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAhPT0gXCJmdW5jdGlvblwiO1xuICAgICAgIW5vSW5zdGFuY2VHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2hcbiAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIiVzOiBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2goKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCBcIiArXG4gICAgICAgICAgICAgIFwiYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuXCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICAgIHZhciBub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlID1cbiAgICAgICAgdHlwZW9mIHR5cGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICFub1N0YXRpY0dldFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgID8gd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCIlczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBpcyBkZWZpbmVkIGFzIGEgc3RhdGljIG1ldGhvZCBcIiArXG4gICAgICAgICAgICAgIFwiYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhbiBpbnN0YW5jZSBtZXRob2QuXCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICAgIHZhciBfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgIGlmIChfc3RhdGUgJiYgKHR5cGVvZiBfc3RhdGUgIT09IFwib2JqZWN0XCIgfHwgaXNBcnJheShfc3RhdGUpKSkge1xuICAgICAgICB3YXJuaW5nKGZhbHNlLCBcIiVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbFwiLCBuYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgISh0eXBlb2YgdHlwZS5jaGlsZENvbnRleHRUeXBlcyA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBcIiVzLmdldENoaWxkQ29udGV4dCgpOiBjaGlsZENvbnRleHRUeXBlcyBtdXN0IGJlIGRlZmluZWQgaW4gb3JkZXIgdG8gXCIgK1xuICAgICAgICAgICAgICAgIFwidXNlIGdldENoaWxkQ29udGV4dCgpLlwiLFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRJbnB1dFBvaW50ZXJzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICAgIGluc3RhbmNlLnByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBhZG9wdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlKSB7XG4gICAgaW5zdGFuY2UudXBkYXRlciA9IHVwZGF0ZXI7XG4gICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gICAgLy8gVGhlIGluc3RhbmNlIG5lZWRzIGFjY2VzcyB0byB0aGUgZmliZXIgc28gdGhhdCBpdCBjYW4gc2NoZWR1bGUgdXBkYXRlc1xuICAgIHNldChpbnN0YW5jZSwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHtcbiAgICAgIGluc3RhbmNlLl9yZWFjdEludGVybmFsSW5zdGFuY2UgPSBmYWtlSW50ZXJuYWxJbnN0YW5jZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb25zdHJ1Y3RDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBwcm9wcykge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgbmVlZHNDb250ZXh0ID0gaXNDb250ZXh0Q29uc3VtZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBjb250ZXh0ID0gbmVlZHNDb250ZXh0XG4gICAgICA/IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dClcbiAgICAgIDogZW1wdHlPYmplY3Q7XG5cbiAgICAvLyBJbnN0YW50aWF0ZSB0d2ljZSB0byBoZWxwIGRldGVjdCBzaWRlLWVmZmVjdHMuXG4gICAgaWYgKFxuICAgICAgZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzIHx8XG4gICAgICAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSlcbiAgICApIHtcbiAgICAgIG5ldyBjdG9yKHByb3BzLCBjb250ZXh0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSBuZXcgY3Rvcihwcm9wcywgY29udGV4dCk7XG4gICAgdmFyIHN0YXRlID1cbiAgICAgIGluc3RhbmNlLnN0YXRlICE9PSBudWxsICYmIGluc3RhbmNlLnN0YXRlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBpbnN0YW5jZS5zdGF0ZVxuICAgICAgICA6IG51bGw7XG4gICAgYWRvcHRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG5cbiAgICB7XG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIHN0YXRlID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5oYXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUuYWRkKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXM6IERpZCBub3QgcHJvcGVybHkgaW5pdGlhbGl6ZSBzdGF0ZSBkdXJpbmcgY29uc3RydWN0aW9uLiBcIiArXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgc3RhdGUgdG8gYmUgYW4gb2JqZWN0LCBidXQgaXQgd2FzICVzLlwiLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgIGluc3RhbmNlLnN0YXRlID09PSBudWxsID8gXCJudWxsXCIgOiBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBuZXcgY29tcG9uZW50IEFQSXMgYXJlIGRlZmluZWQsIFwidW5zYWZlXCIgbGlmZWN5Y2xlcyB3b24ndCBiZSBjYWxsZWQuXG4gICAgICAvLyBXYXJuIGFib3V0IHRoZXNlIGxpZmVjeWNsZXMgaWYgdGhleSBhcmUgcHJlc2VudC5cbiAgICAgIC8vIERvbid0IHdhcm4gYWJvdXQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBtZXRob2RzIHRob3VnaC5cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgICAgdHlwZW9mIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICkge1xuICAgICAgICB2YXIgZm91bmRXaWxsTW91bnROYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSBudWxsO1xuICAgICAgICB2YXIgZm91bmRXaWxsVXBkYXRlTmFtZSA9IG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT0gdHJ1ZVxuICAgICAgICApIHtcbiAgICAgICAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSBcImNvbXBvbmVudFdpbGxNb3VudFwiO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSBcIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAhPT1cbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICkge1xuICAgICAgICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSBcIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgIT09IHRydWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9IFwiY29tcG9uZW50V2lsbFVwZGF0ZVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9IFwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsIHx8XG4gICAgICAgICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbCB8fFxuICAgICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGxcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIF9jb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgICAgICB2YXIgbmV3QXBpTmFtZSA9XG4gICAgICAgICAgICB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICA/IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKClcIlxuICAgICAgICAgICAgICA6IFwiZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKVwiO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlLmhhcyhfY29tcG9uZW50TmFtZSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuYWRkKF9jb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBcIlVuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcblwiICtcbiAgICAgICAgICAgICAgICBcIiVzIHVzZXMgJXMgYnV0IGFsc28gY29udGFpbnMgdGhlIGZvbGxvd2luZyBsZWdhY3kgbGlmZWN5Y2xlczolcyVzJXNcXG5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCJUaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG5cIiArXG4gICAgICAgICAgICAgICAgXCJodHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3NcIixcbiAgICAgICAgICAgICAgX2NvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgIG5ld0FwaU5hbWUsXG4gICAgICAgICAgICAgIGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCA/IFwiXFxuICBcIiArIGZvdW5kV2lsbE1vdW50TmFtZSA6IFwiXCIsXG4gICAgICAgICAgICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFwiXFxuICBcIiArIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWVcbiAgICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGwgPyBcIlxcbiAgXCIgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogXCJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gc3RhdGU7XG5cbiAgICB2YXIgcGFydGlhbFN0YXRlID0gY2FsbEdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBwcm9wcyxcbiAgICAgIHN0YXRlXG4gICAgKTtcblxuICAgIGlmIChwYXJ0aWFsU3RhdGUgIT09IG51bGwgJiYgcGFydGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgcGFydGlhbFN0YXRlXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENhY2hlIHVubWFza2VkIGNvbnRleHQgc28gd2UgY2FuIGF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIG5lY2Vzc2FyeS5cbiAgICAvLyBSZWFjdEZpYmVyQ29udGV4dCB1c3VhbGx5IHVwZGF0ZXMgdGhpcyBjYWNoZSBidXQgY2FuJ3QgZm9yIG5ld2x5LWNyZWF0ZWQgaW5zdGFuY2VzLlxuICAgIGlmIChuZWVkc0NvbnRleHQpIHtcbiAgICAgIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbE1vdW50KHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSkge1xuICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgXCJjb21wb25lbnRXaWxsTW91bnRcIik7XG4gICAgdmFyIG9sZFN0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKTtcbiAgICB9XG5cbiAgICBzdG9wUGhhc2VUaW1lcigpO1xuXG4gICAgaWYgKG9sZFN0YXRlICE9PSBpbnN0YW5jZS5zdGF0ZSkge1xuICAgICAge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiJXMuY29tcG9uZW50V2lsbE1vdW50KCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byB0aGlzLnN0YXRlIGlzIFwiICtcbiAgICAgICAgICAgIFwiZGVwcmVjYXRlZCAoZXhjZXB0IGluc2lkZSBhIGNvbXBvbmVudCdzIFwiICtcbiAgICAgICAgICAgIFwiY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC5cIixcbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB1cGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoaW5zdGFuY2UsIGluc3RhbmNlLnN0YXRlLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhcbiAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICBpbnN0YW5jZSxcbiAgICBuZXdQcm9wcyxcbiAgICBuZXdDb250ZXh0XG4gICkge1xuICAgIHZhciBvbGRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICAgIHN0YXJ0UGhhc2VUaW1lcih3b3JrSW5Qcm9ncmVzcywgXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIpO1xuICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXdDb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV3Q29udGV4dCk7XG4gICAgfVxuICAgIHN0b3BQaGFzZVRpbWVyKCk7XG5cbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09IG9sZFN0YXRlKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuaGFzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50LmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIiVzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKTogQXNzaWduaW5nIGRpcmVjdGx5IHRvIFwiICtcbiAgICAgICAgICAgICAgXCJ0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBcIiArXG4gICAgICAgICAgICAgIFwiY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB1cGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoaW5zdGFuY2UsIGluc3RhbmNlLnN0YXRlLCBudWxsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIGluc3RhbmNlLFxuICAgIG5leHRQcm9wcyxcbiAgICBwcmV2U3RhdGVcbiAgKSB7XG4gICAgdmFyIHR5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuXG4gICAgaWYgKHR5cGVvZiB0eXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fFxuICAgICAgICAoZGVidWdSZW5kZXJQaGFzZVNpZGVFZmZlY3RzRm9yU3RyaWN0TW9kZSAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RNb2RlKVxuICAgICAgKSB7XG4gICAgICAgIC8vIEludm9rZSBtZXRob2QgYW4gZXh0cmEgdGltZSB0byBoZWxwIGRldGVjdCBzaWRlLWVmZmVjdHMuXG4gICAgICAgIHR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLmNhbGwobnVsbCwgbmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFydGlhbFN0YXRlID0gdHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuY2FsbChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICBwcmV2U3RhdGVcbiAgICAgICk7XG5cbiAgICAgIHtcbiAgICAgICAgaWYgKHBhcnRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgICAgIGlmICghZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmhhcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICAgICAgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmFkZChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBcIiVzLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpOiBBIHZhbGlkIHN0YXRlIG9iamVjdCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gXCIgK1xuICAgICAgICAgICAgICAgIFwiWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLlwiLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbFN0YXRlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEludm9rZXMgdGhlIG1vdW50IGxpZmUtY3ljbGVzIG9uIGEgcHJldmlvdXNseSBuZXZlciByZW5kZXJlZCBpbnN0YW5jZS5cbiAgZnVuY3Rpb24gbW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICAgIHtcbiAgICAgIGNoZWNrQ2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcblxuICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIGluc3RhbmNlLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSkge1xuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAod2FybkFib3V0RGVwcmVjYXRlZExpZmVjeWNsZXMpIHtcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkRGVwcmVjYXRpb25XYXJuaW5ncyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgKSB7XG4gICAgICBjYWxsQ29tcG9uZW50V2lsbE1vdW50KHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG4gICAgICAvLyBJZiB3ZSBoYWQgYWRkaXRpb25hbCBzdGF0ZSB1cGRhdGVzIGR1cmluZyB0aGlzIGxpZmUtY3ljbGUsIGxldCdzXG4gICAgICAvLyBwcm9jZXNzIHRoZW0gbm93LlxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgaW5zdGFuY2Uuc3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUoXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICB1cGRhdGVRdWV1ZSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzdW1lTW91bnRDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgcmVzZXRJbnB1dFBvaW50ZXJzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG5cbiAgICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgb2xkQ29udGV4dCA9IGluc3RhbmNlLmNvbnRleHQ7XG4gICAgdmFyIG5ld1VubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIG5ld0NvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBuZXdVbm1hc2tlZENvbnRleHQpO1xuXG4gICAgdmFyIGhhc05ld0xpZmVjeWNsZXMgPVxuICAgICAgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiO1xuXG4gICAgLy8gTm90ZTogRHVyaW5nIHRoZXNlIGxpZmUtY3ljbGVzLCBpbnN0YW5jZS5wcm9wcy9pbnN0YW5jZS5zdGF0ZSBhcmUgd2hhdFxuICAgIC8vIGV2ZXIgdGhlIHByZXZpb3VzbHkgYXR0ZW1wdGVkIHRvIHJlbmRlciAtIG5vdCB0aGUgXCJjdXJyZW50XCIuIEhvd2V2ZXIsXG4gICAgLy8gZHVyaW5nIGNvbXBvbmVudERpZFVwZGF0ZSB3ZSBwYXNzIHRoZSBcImN1cnJlbnRcIiBwcm9wcy5cblxuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKFxuICAgICAgIWhhc05ld0xpZmVjeWNsZXMgJiZcbiAgICAgICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICkge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyB8fCBvbGRDb250ZXh0ICE9PSBuZXdDb250ZXh0KSB7XG4gICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIG5ld0NvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIHRoZSBuZXh0IHN0YXRlIHVzaW5nIHRoZSBtZW1vaXplZCBzdGF0ZSBhbmQgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIC8vIFRPRE86IFByZXZpb3VzIHN0YXRlIGNhbiBiZSBudWxsLlxuICAgIHZhciBuZXdTdGF0ZSA9IHZvaWQgMDtcbiAgICB2YXIgZGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gdm9pZCAwO1xuICAgIGlmICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgbmV3U3RhdGUgPSBwcm9jZXNzVXBkYXRlUXVldWUoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIG5ld1Byb3BzLFxuICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgKTtcblxuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoXG4gICAgICAgIHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmXG4gICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsICYmXG4gICAgICAgIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCAmJlxuICAgICAgICB0eXBlb2YgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPT09IFwiZnVuY3Rpb25cIlxuICAgICAgKSB7XG4gICAgICAgIHZhciBjYXB0dXJlZFZhbHVlcyA9IHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICAvLyBEb24ndCByZW1vdmUgdGhlc2UgZnJvbSB0aGUgdXBkYXRlIHF1ZXVlIHlldC4gV2UgbmVlZCB0aGVtIGluXG4gICAgICAgIC8vIGZpbmlzaENsYXNzQ29tcG9uZW50LiBEbyB0aGUgcmVzZXQgdGhlcmUuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgaXMgYXdrd2FyZC4gUmVmYWN0b3IgY2xhc3MgY29tcG9uZW50cy5cbiAgICAgICAgLy8gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBudWxsO1xuICAgICAgICBkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoKFxuICAgICAgICAgIGN0b3IsXG4gICAgICAgICAgY2FwdHVyZWRWYWx1ZXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U3RhdGUgPSBvbGRTdGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgZGVyaXZlZFN0YXRlRnJvbVByb3BzID0gdm9pZCAwO1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIC8vIFRoZSBwcmV2U3RhdGUgcGFyYW1ldGVyIHNob3VsZCBiZSB0aGUgcGFydGlhbGx5IHVwZGF0ZWQgc3RhdGUuXG4gICAgICAvLyBPdGhlcndpc2UsIHNwcmVhZGluZyBzdGF0ZSBpbiByZXR1cm4gdmFsdWVzIGNvdWxkIG92ZXJyaWRlIHVwZGF0ZXMuXG4gICAgICBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIG5ld1Byb3BzLFxuICAgICAgICBuZXdTdGF0ZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSBudWxsICYmIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBSZW5kZXItcGhhc2UgdXBkYXRlcyAobGlrZSB0aGlzKSBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSB1cGRhdGUgcXVldWUsXG4gICAgICAvLyBTbyB0aGF0IG11bHRpcGxlIHJlbmRlciBwYXNzZXMgZG8gbm90IGVucXVldWUgbXVsdGlwbGUgdXBkYXRlcy5cbiAgICAgIC8vIEluc3RlYWQsIGp1c3Qgc3luY2hyb25vdXNseSBtZXJnZSB0aGUgcmV0dXJuZWQgc3RhdGUgaW50byB0aGUgaW5zdGFuY2UuXG4gICAgICBuZXdTdGF0ZSA9XG4gICAgICAgIG5ld1N0YXRlID09PSBudWxsIHx8IG5ld1N0YXRlID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IGRlcml2ZWRTdGF0ZUZyb21Qcm9wc1xuICAgICAgICAgIDogT2JqZWN0LmFzc2lnbih7fSwgbmV3U3RhdGUsIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyk7XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgYmFzZSBzdGF0ZSBvZiB0aGUgdXBkYXRlIHF1ZXVlLlxuICAgICAgLy8gRklYTUU6IFRoaXMgaXMgZ2V0dGluZyByaWRpY3Vsb3VzLiBSZWZhY3RvciBwbHohXG4gICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoX3VwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgIF91cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIF91cGRhdGVRdWV1ZS5iYXNlU3RhdGUsXG4gICAgICAgICAgZGVyaXZlZFN0YXRlRnJvbVByb3BzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID1cbiAgICAgICAgbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZGVyaXZlZFN0YXRlRnJvbUNhdGNoXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbUNhdGNoKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBiYXNlIHN0YXRlIG9mIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgICAvLyBGSVhNRTogVGhpcyBpcyBnZXR0aW5nIHJpZGljdWxvdXMuIFJlZmFjdG9yIHBseiFcbiAgICAgIHZhciBfdXBkYXRlUXVldWUyID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoX3VwZGF0ZVF1ZXVlMiAhPT0gbnVsbCkge1xuICAgICAgICBfdXBkYXRlUXVldWUyLmJhc2VTdGF0ZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sXG4gICAgICAgICAgX3VwZGF0ZVF1ZXVlMi5iYXNlU3RhdGUsXG4gICAgICAgICAgZGVyaXZlZFN0YXRlRnJvbUNhdGNoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgb2xkUHJvcHMgPT09IG5ld1Byb3BzICYmXG4gICAgICBvbGRTdGF0ZSA9PT0gbmV3U3RhdGUgJiZcbiAgICAgICFoYXNDb250ZXh0Q2hhbmdlZCgpICYmXG4gICAgICAhKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5oYXNGb3JjZVVwZGF0ZVxuICAgICAgKVxuICAgICkge1xuICAgICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBvbGRQcm9wcyxcbiAgICAgIG5ld1Byb3BzLFxuICAgICAgb2xkU3RhdGUsXG4gICAgICBuZXdTdGF0ZSxcbiAgICAgIG5ld0NvbnRleHRcbiAgICApO1xuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCByZWFjdC1saWZlY3ljbGVzLWNvbXBhdCBwb2x5ZmlsbGVkIGNvbXBvbmVudHMsXG4gICAgICAvLyBVbnNhZmUgbGlmZWN5Y2xlcyBzaG91bGQgbm90IGJlIGludm9rZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgdGhlIG5ldyBBUElzLlxuICAgICAgaWYgKFxuICAgICAgICAhaGFzTmV3TGlmZWN5Y2xlcyAmJlxuICAgICAgICAodHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICkge1xuICAgICAgICBzdGFydFBoYXNlVGltZXIod29ya0luUHJvZ3Jlc3MsIFwiY29tcG9uZW50V2lsbE1vdW50XCIpO1xuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gVXBkYXRlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBhbiB1cGRhdGUgd2FzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHdlIHNob3VsZCBzY2hlZHVsZSBhbiBVcGRhdGVcbiAgICAgIC8vIGVmZmVjdCBldmVuIHRob3VnaCB3ZSdyZSBiYWlsaW5nIG91dCwgc28gdGhhdCBjV1UvY0RVIGFyZSBjYWxsZWQuXG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIHJldHVybmVkIGZhbHNlLCB3ZSBzaG91bGQgc3RpbGwgdXBkYXRlIHRoZVxuICAgICAgLy8gbWVtb2l6ZWQgcHJvcHMvc3RhdGUgdG8gaW5kaWNhdGUgdGhhdCB0aGlzIHdvcmsgY2FuIGJlIHJldXNlZC5cbiAgICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV3UHJvcHMpO1xuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBpbnN0YW5jZSdzIHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgcG9pbnRlcnMgZXZlblxuICAgIC8vIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlLlxuICAgIGluc3RhbmNlLnByb3BzID0gbmV3UHJvcHM7XG4gICAgaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb250ZXh0ID0gbmV3Q29udGV4dDtcblxuICAgIHJldHVybiBzaG91bGRVcGRhdGU7XG4gIH1cblxuICAvLyBJbnZva2VzIHRoZSB1cGRhdGUgbGlmZS1jeWNsZXMgYW5kIHJldHVybnMgZmFsc2UgaWYgaXQgc2hvdWxkbid0IHJlcmVuZGVyLlxuICBmdW5jdGlvbiB1cGRhdGVDbGFzc0luc3RhbmNlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgcmVzZXRJbnB1dFBvaW50ZXJzKHdvcmtJblByb2dyZXNzLCBpbnN0YW5jZSk7XG5cbiAgICB2YXIgb2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgb2xkQ29udGV4dCA9IGluc3RhbmNlLmNvbnRleHQ7XG4gICAgdmFyIG5ld1VubWFza2VkQ29udGV4dCA9IGdldFVubWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgdmFyIG5ld0NvbnRleHQgPSBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCBuZXdVbm1hc2tlZENvbnRleHQpO1xuXG4gICAgdmFyIGhhc05ld0xpZmVjeWNsZXMgPVxuICAgICAgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAgIHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiO1xuXG4gICAgLy8gTm90ZTogRHVyaW5nIHRoZXNlIGxpZmUtY3ljbGVzLCBpbnN0YW5jZS5wcm9wcy9pbnN0YW5jZS5zdGF0ZSBhcmUgd2hhdFxuICAgIC8vIGV2ZXIgdGhlIHByZXZpb3VzbHkgYXR0ZW1wdGVkIHRvIHJlbmRlciAtIG5vdCB0aGUgXCJjdXJyZW50XCIuIEhvd2V2ZXIsXG4gICAgLy8gZHVyaW5nIGNvbXBvbmVudERpZFVwZGF0ZSB3ZSBwYXNzIHRoZSBcImN1cnJlbnRcIiBwcm9wcy5cblxuICAgIC8vIEluIG9yZGVyIHRvIHN1cHBvcnQgcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQgcG9seWZpbGxlZCBjb21wb25lbnRzLFxuICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgaWYgKFxuICAgICAgIWhhc05ld0xpZmVjeWNsZXMgJiZcbiAgICAgICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICkge1xuICAgICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyB8fCBvbGRDb250ZXh0ICE9PSBuZXdDb250ZXh0KSB7XG4gICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIG5ld0NvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIHRoZSBuZXh0IHN0YXRlIHVzaW5nIHRoZSBtZW1vaXplZCBzdGF0ZSBhbmQgdGhlIHVwZGF0ZSBxdWV1ZS5cbiAgICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgIC8vIFRPRE86IFByZXZpb3VzIHN0YXRlIGNhbiBiZSBudWxsLlxuICAgIHZhciBuZXdTdGF0ZSA9IHZvaWQgMDtcbiAgICB2YXIgZGVyaXZlZFN0YXRlRnJvbUNhdGNoID0gdm9pZCAwO1xuXG4gICAgaWYgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlICE9PSBudWxsKSB7XG4gICAgICBuZXdTdGF0ZSA9IHByb2Nlc3NVcGRhdGVRdWV1ZShcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuXG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChcbiAgICAgICAgdXBkYXRlUXVldWUgIT09IG51bGwgJiZcbiAgICAgICAgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwgJiZcbiAgICAgICAgZW5hYmxlR2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICYmXG4gICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNhcHR1cmVkVmFsdWVzID0gdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXM7XG4gICAgICAgIC8vIERvbid0IHJlbW92ZSB0aGVzZSBmcm9tIHRoZSB1cGRhdGUgcXVldWUgeWV0LiBXZSBuZWVkIHRoZW0gaW5cbiAgICAgICAgLy8gZmluaXNoQ2xhc3NDb21wb25lbnQuIERvIHRoZSByZXNldCB0aGVyZS5cbiAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhd2t3YXJkLiBSZWZhY3RvciBjbGFzcyBjb21wb25lbnRzLlxuICAgICAgICAvLyB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IG51bGw7XG4gICAgICAgIGRlcml2ZWRTdGF0ZUZyb21DYXRjaCA9IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2goXG4gICAgICAgICAgY3RvcixcbiAgICAgICAgICBjYXB0dXJlZFZhbHVlc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdGF0ZSA9IG9sZFN0YXRlO1xuICAgIH1cblxuICAgIHZhciBkZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSB2b2lkIDA7XG4gICAgaWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcykge1xuICAgICAgLy8gVGhlIHByZXZTdGF0ZSBwYXJhbWV0ZXIgc2hvdWxkIGJlIHRoZSBwYXJ0aWFsbHkgdXBkYXRlZCBzdGF0ZS5cbiAgICAgIC8vIE90aGVyd2lzZSwgc3ByZWFkaW5nIHN0YXRlIGluIHJldHVybiB2YWx1ZXMgY291bGQgb3ZlcnJpZGUgdXBkYXRlcy5cbiAgICAgIGRlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgIG5ld1N0YXRlXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID1cbiAgICAgICAgbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZGVyaXZlZFN0YXRlRnJvbVByb3BzXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbVByb3BzKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBiYXNlIHN0YXRlIG9mIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgICAvLyBGSVhNRTogVGhpcyBpcyBnZXR0aW5nIHJpZGljdWxvdXMuIFJlZmFjdG9yIHBseiFcbiAgICAgIHZhciBfdXBkYXRlUXVldWUzID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoX3VwZGF0ZVF1ZXVlMyAhPT0gbnVsbCkge1xuICAgICAgICBfdXBkYXRlUXVldWUzLmJhc2VTdGF0ZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sXG4gICAgICAgICAgX3VwZGF0ZVF1ZXVlMy5iYXNlU3RhdGUsXG4gICAgICAgICAgZGVyaXZlZFN0YXRlRnJvbVByb3BzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggIT09IG51bGwgJiYgZGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFJlbmRlci1waGFzZSB1cGRhdGVzIChsaWtlIHRoaXMpIHNob3VsZCBub3QgYmUgYWRkZWQgdG8gdGhlIHVwZGF0ZSBxdWV1ZSxcbiAgICAgIC8vIFNvIHRoYXQgbXVsdGlwbGUgcmVuZGVyIHBhc3NlcyBkbyBub3QgZW5xdWV1ZSBtdWx0aXBsZSB1cGRhdGVzLlxuICAgICAgLy8gSW5zdGVhZCwganVzdCBzeW5jaHJvbm91c2x5IG1lcmdlIHRoZSByZXR1cm5lZCBzdGF0ZSBpbnRvIHRoZSBpbnN0YW5jZS5cbiAgICAgIG5ld1N0YXRlID1cbiAgICAgICAgbmV3U3RhdGUgPT09IG51bGwgfHwgbmV3U3RhdGUgPT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZGVyaXZlZFN0YXRlRnJvbUNhdGNoXG4gICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBuZXdTdGF0ZSwgZGVyaXZlZFN0YXRlRnJvbUNhdGNoKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBiYXNlIHN0YXRlIG9mIHRoZSB1cGRhdGUgcXVldWUuXG4gICAgICAvLyBGSVhNRTogVGhpcyBpcyBnZXR0aW5nIHJpZGljdWxvdXMuIFJlZmFjdG9yIHBseiFcbiAgICAgIHZhciBfdXBkYXRlUXVldWU0ID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBpZiAoX3VwZGF0ZVF1ZXVlNCAhPT0gbnVsbCkge1xuICAgICAgICBfdXBkYXRlUXVldWU0LmJhc2VTdGF0ZSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge30sXG4gICAgICAgICAgX3VwZGF0ZVF1ZXVlNC5iYXNlU3RhdGUsXG4gICAgICAgICAgZGVyaXZlZFN0YXRlRnJvbUNhdGNoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgb2xkUHJvcHMgPT09IG5ld1Byb3BzICYmXG4gICAgICBvbGRTdGF0ZSA9PT0gbmV3U3RhdGUgJiZcbiAgICAgICFoYXNDb250ZXh0Q2hhbmdlZCgpICYmXG4gICAgICAhKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5oYXNGb3JjZVVwZGF0ZVxuICAgICAgKVxuICAgICkge1xuICAgICAgLy8gSWYgYW4gdXBkYXRlIHdhcyBhbHJlYWR5IGluIHByb2dyZXNzLCB3ZSBzaG91bGQgc2NoZWR1bGUgYW4gVXBkYXRlXG4gICAgICAvLyBlZmZlY3QgZXZlbiB0aG91Z2ggd2UncmUgYmFpbGluZyBvdXQsIHNvIHRoYXQgY1dVL2NEVSBhcmUgY2FsbGVkLlxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgb2xkUHJvcHMgIT09IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgIG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvbGRQcm9wcyAhPT0gY3VycmVudC5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgb2xkU3RhdGUgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZVxuICAgICAgICApIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG9sZFByb3BzLFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBvbGRTdGF0ZSxcbiAgICAgIG5ld1N0YXRlLFxuICAgICAgbmV3Q29udGV4dFxuICAgICk7XG5cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAvLyBJbiBvcmRlciB0byBzdXBwb3J0IHJlYWN0LWxpZmVjeWNsZXMtY29tcGF0IHBvbHlmaWxsZWQgY29tcG9uZW50cyxcbiAgICAgIC8vIFVuc2FmZSBsaWZlY3ljbGVzIHNob3VsZCBub3QgYmUgaW52b2tlZCBmb3IgY29tcG9uZW50cyB1c2luZyB0aGUgbmV3IEFQSXMuXG4gICAgICBpZiAoXG4gICAgICAgICFoYXNOZXdMaWZlY3ljbGVzICYmXG4gICAgICAgICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIiB8fFxuICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICApIHtcbiAgICAgICAgc3RhcnRQaGFzZVRpbWVyKHdvcmtJblByb2dyZXNzLCBcImNvbXBvbmVudFdpbGxVcGRhdGVcIik7XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgbmV3U3RhdGUsIG5ld0NvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKG5ld1Byb3BzLCBuZXdTdGF0ZSwgbmV3Q29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFVwZGF0ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU25hcHNob3Q7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIGFuIHVwZGF0ZSB3YXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgd2Ugc2hvdWxkIHNjaGVkdWxlIGFuIFVwZGF0ZVxuICAgICAgLy8gZWZmZWN0IGV2ZW4gdGhvdWdoIHdlJ3JlIGJhaWxpbmcgb3V0LCBzbyB0aGF0IGNXVS9jRFUgYXJlIGNhbGxlZC5cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG9sZFByb3BzICE9PSBjdXJyZW50Lm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgICBvbGRTdGF0ZSAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgb2xkUHJvcHMgIT09IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgIG9sZFN0YXRlICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNuYXBzaG90O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5lZCBmYWxzZSwgd2Ugc2hvdWxkIHN0aWxsIHVwZGF0ZSB0aGVcbiAgICAgIC8vIG1lbW9pemVkIHByb3BzL3N0YXRlIHRvIGluZGljYXRlIHRoYXQgdGhpcyB3b3JrIGNhbiBiZSByZXVzZWQuXG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5ld1Byb3BzKTtcbiAgICAgIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV3U3RhdGUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UncyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHBvaW50ZXJzIGV2ZW5cbiAgICAvLyBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgcmV0dXJucyBmYWxzZS5cbiAgICBpbnN0YW5jZS5wcm9wcyA9IG5ld1Byb3BzO1xuICAgIGluc3RhbmNlLnN0YXRlID0gbmV3U3RhdGU7XG4gICAgaW5zdGFuY2UuY29udGV4dCA9IG5ld0NvbnRleHQ7XG5cbiAgICByZXR1cm4gc2hvdWxkVXBkYXRlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZG9wdENsYXNzSW5zdGFuY2U6IGFkb3B0Q2xhc3NJbnN0YW5jZSxcbiAgICBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFxuICAgIGNvbnN0cnVjdENsYXNzSW5zdGFuY2U6IGNvbnN0cnVjdENsYXNzSW5zdGFuY2UsXG4gICAgbW91bnRDbGFzc0luc3RhbmNlOiBtb3VudENsYXNzSW5zdGFuY2UsXG4gICAgcmVzdW1lTW91bnRDbGFzc0luc3RhbmNlOiByZXN1bWVNb3VudENsYXNzSW5zdGFuY2UsXG4gICAgdXBkYXRlQ2xhc3NJbnN0YW5jZTogdXBkYXRlQ2xhc3NJbnN0YW5jZVxuICB9O1xufTtcblxudmFyIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSA9XG4gIFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bTtcblxudmFyIGRpZFdhcm5BYm91dE1hcHMgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0U3RyaW5nUmVmSW5TdHJpY3RNb2RlID0gdm9pZCAwO1xudmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHZvaWQgMDtcbnZhciBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmcgPSB2b2lkIDA7XG52YXIgd2FybkZvck1pc3NpbmdLZXkgPSBmdW5jdGlvbihjaGlsZCkge307XG5cbntcbiAgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZJblN0cmljdE1vZGUgPSB7fTtcblxuICAvKipcbiAgICogV2FybiBpZiB0aGVyZSdzIG5vIGtleSBleHBsaWNpdGx5IHNldCBvbiBkeW5hbWljIGFycmF5cyBvZiBjaGlsZHJlbiBvclxuICAgKiBvYmplY3Qga2V5cyBhcmUgbm90IHZhbGlkLiBUaGlzIGFsbG93cyB1cyB0byBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuIGJldHdlZW5cbiAgICogdXBkYXRlcy5cbiAgICovXG4gIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmcgPSB7fTtcblxuICB3YXJuRm9yTWlzc2luZ0tleSA9IGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkID09PSBudWxsIHx8IHR5cGVvZiBjaGlsZCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWNoaWxkLl9zdG9yZSB8fCBjaGlsZC5fc3RvcmUudmFsaWRhdGVkIHx8IGNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIHR5cGVvZiBjaGlsZC5fc3RvcmUgPT09IFwib2JqZWN0XCIsXG4gICAgICBcIlJlYWN0IENvbXBvbmVudCBpbiB3YXJuRm9yTWlzc2luZ0tleSBzaG91bGQgaGF2ZSBhIF9zdG9yZS4gXCIgK1xuICAgICAgICBcIlRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuICAgIGNoaWxkLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuXG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPVxuICAgICAgXCJFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlIFwiICtcbiAgICAgICdcImtleVwiIHByb3AuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgJyArXG4gICAgICBcIm1vcmUgaW5mb3JtYXRpb24uXCIgK1xuICAgICAgKGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSgpIHx8IFwiXCIpO1xuICAgIGlmIChvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTtcblxuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIFwiRWFjaCBjaGlsZCBpbiBhbiBhcnJheSBvciBpdGVyYXRvciBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcIiArXG4gICAgICAgICdcImtleVwiIHByb3AuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmcta2V5cyBmb3IgJyArXG4gICAgICAgIFwibW9yZSBpbmZvcm1hdGlvbi4lc1wiLFxuICAgICAgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxKClcbiAgICApO1xuICB9O1xufVxuXG52YXIgaXNBcnJheSQxID0gQXJyYXkuaXNBcnJheTtcblxuZnVuY3Rpb24gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50KSB7XG4gIHZhciBtaXhlZFJlZiA9IGVsZW1lbnQucmVmO1xuICBpZiAoXG4gICAgbWl4ZWRSZWYgIT09IG51bGwgJiZcbiAgICB0eXBlb2YgbWl4ZWRSZWYgIT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHR5cGVvZiBtaXhlZFJlZiAhPT0gXCJvYmplY3RcIlxuICApIHtcbiAgICB7XG4gICAgICBpZiAocmV0dXJuRmliZXIubW9kZSAmIFN0cmljdE1vZGUpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHJldHVybkZpYmVyKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZVtjb21wb25lbnROYW1lXSkge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICdBIHN0cmluZyByZWYsIFwiJXNcIizCoGhhcyBiZWVuIGZvdW5kIHdpdGhpbiBhIHN0cmljdCBtb2RlIHRyZWUuICcgK1xuICAgICAgICAgICAgICBcIlN0cmluZyByZWZzIGFyZSBhIHNvdXJjZSBvZiBwb3RlbnRpYWwgYnVncyBhbmQgc2hvdWxkIGJlIGF2b2lkZWQuIFwiICtcbiAgICAgICAgICAgICAgXCJXZSByZWNvbW1lbmQgdXNpbmcgY3JlYXRlUmVmKCkgaW5zdGVhZC5cIiArXG4gICAgICAgICAgICAgIFwiXFxuJXNcIiArXG4gICAgICAgICAgICAgIFwiXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOlwiICtcbiAgICAgICAgICAgICAgXCJcXG5odHRwczovL2ZiLm1lL3JlYWN0LXN0cmljdC1tb2RlLXN0cmluZy1yZWZcIixcbiAgICAgICAgICAgIG1peGVkUmVmLFxuICAgICAgICAgICAgZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihyZXR1cm5GaWJlcilcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFN0cmluZ1JlZkluU3RyaWN0TW9kZVtjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5fb3duZXIpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIGluc3QgPSB2b2lkIDA7XG4gICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgdmFyIG93bmVyRmliZXIgPSBvd25lcjtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIG93bmVyRmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCxcbiAgICAgICAgICBcIlN0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBoYXZlIHJlZnMuXCJcbiAgICAgICAgKTtcbiAgICAgICAgaW5zdCA9IG93bmVyRmliZXIuc3RhdGVOb2RlO1xuICAgICAgfVxuICAgICAgaW52YXJpYW50KFxuICAgICAgICBpbnN0LFxuICAgICAgICBcIk1pc3Npbmcgb3duZXIgZm9yIHN0cmluZyByZWYgJXMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIFwiICtcbiAgICAgICAgICBcImJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgIG1peGVkUmVmXG4gICAgICApO1xuICAgICAgdmFyIHN0cmluZ1JlZiA9IFwiXCIgKyBtaXhlZFJlZjtcbiAgICAgIC8vIENoZWNrIGlmIHByZXZpb3VzIHN0cmluZyByZWYgbWF0Y2hlcyBuZXcgc3RyaW5nIHJlZlxuICAgICAgaWYgKFxuICAgICAgICBjdXJyZW50ICE9PSBudWxsICYmXG4gICAgICAgIGN1cnJlbnQucmVmICE9PSBudWxsICYmXG4gICAgICAgIGN1cnJlbnQucmVmLl9zdHJpbmdSZWYgPT09IHN0cmluZ1JlZlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50LnJlZjtcbiAgICAgIH1cbiAgICAgIHZhciByZWYgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVmcyA9IGluc3QucmVmcyA9PT0gZW1wdHlPYmplY3QgPyAoaW5zdC5yZWZzID0ge30pIDogaW5zdC5yZWZzO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgcmVmc1tzdHJpbmdSZWZdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnNbc3RyaW5nUmVmXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVmLl9zdHJpbmdSZWYgPSBzdHJpbmdSZWY7XG4gICAgICByZXR1cm4gcmVmO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBtaXhlZFJlZiA9PT0gXCJzdHJpbmdcIixcbiAgICAgICAgXCJFeHBlY3RlZCByZWYgdG8gYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZy5cIlxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgZWxlbWVudC5fb3duZXIsXG4gICAgICAgIFwiRWxlbWVudCByZWYgd2FzIHNwZWNpZmllZCBhcyBhIHN0cmluZyAoJXMpIGJ1dCBubyBvd25lciB3YXMgc2V0LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mXCIgK1xuICAgICAgICAgIFwiIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG5cIiArXG4gICAgICAgICAgXCIxLiBZb3UgbWF5IGJlIGFkZGluZyBhIHJlZiB0byBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XFxuXCIgK1xuICAgICAgICAgIFwiMi4gWW91IG1heSBiZSBhZGRpbmcgYSByZWYgdG8gYSBjb21wb25lbnQgdGhhdCB3YXMgbm90IGNyZWF0ZWQgaW5zaWRlIGEgY29tcG9uZW50J3MgcmVuZGVyIG1ldGhvZFxcblwiICtcbiAgICAgICAgICBcIjMuIFlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWRcXG5cIiArXG4gICAgICAgICAgXCJTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lciBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIixcbiAgICAgICAgbWl4ZWRSZWZcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtaXhlZFJlZjtcbn1cblxuZnVuY3Rpb24gdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCkge1xuICBpZiAocmV0dXJuRmliZXIudHlwZSAhPT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgdmFyIGFkZGVuZHVtID0gXCJcIjtcbiAgICB7XG4gICAgICBhZGRlbmR1bSA9XG4gICAgICAgIFwiIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgXCIgK1xuICAgICAgICBcImluc3RlYWQuXCIgK1xuICAgICAgICAoZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxKCkgfHwgXCJcIik7XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGZhbHNlLFxuICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6ICVzKS4lc1wiLFxuICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0NoaWxkKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAgICA/IFwib2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhuZXdDaGlsZCkuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgOiBuZXdDaGlsZCxcbiAgICAgIGFkZGVuZHVtXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXJuT25GdW5jdGlvblR5cGUoKSB7XG4gIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID1cbiAgICBcIkZ1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiBcIiArXG4gICAgXCJ5b3UgcmV0dXJuIGEgQ29tcG9uZW50IGluc3RlYWQgb2YgPENvbXBvbmVudCAvPiBmcm9tIHJlbmRlci4gXCIgK1xuICAgIFwiT3IgbWF5YmUgeW91IG1lYW50IHRvIGNhbGwgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZXR1cm4gaXQuXCIgK1xuICAgIChnZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtJDEoKSB8fCBcIlwiKTtcblxuICBpZiAob3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7XG5cbiAgd2FybmluZyhcbiAgICBmYWxzZSxcbiAgICBcIkZ1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiBcIiArXG4gICAgICBcInlvdSByZXR1cm4gYSBDb21wb25lbnQgaW5zdGVhZCBvZiA8Q29tcG9uZW50IC8+IGZyb20gcmVuZGVyLiBcIiArXG4gICAgICBcIk9yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LiVzXCIsXG4gICAgZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSQxKCkgfHwgXCJcIlxuICApO1xufVxuXG4vLyBUaGlzIHdyYXBwZXIgZnVuY3Rpb24gZXhpc3RzIGJlY2F1c2UgSSBleHBlY3QgdG8gY2xvbmUgdGhlIGNvZGUgaW4gZWFjaCBwYXRoXG4vLyB0byBiZSBhYmxlIHRvIG9wdGltaXplIGVhY2ggcGF0aCBpbmRpdmlkdWFsbHkgYnkgYnJhbmNoaW5nIGVhcmx5LiBUaGlzIG5lZWRzXG4vLyBhIGNvbXBpbGVyIG9yIHdlIGNhbiBkbyBpdCBtYW51YWxseS4gSGVscGVycyB0aGF0IGRvbid0IG5lZWQgdGhpcyBicmFuY2hpbmdcbi8vIGxpdmUgb3V0c2lkZSBvZiB0aGlzIGZ1bmN0aW9uLlxuZnVuY3Rpb24gQ2hpbGRSZWNvbmNpbGVyKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgZnVuY3Rpb24gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpIHtcbiAgICBpZiAoIXNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIE5vb3AuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIERlbGV0aW9ucyBhcmUgYWRkZWQgaW4gcmV2ZXJzZWQgb3JkZXIgc28gd2UgYWRkIGl0IHRvIHRoZSBmcm9udC5cbiAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgcmV0dXJuIGZpYmVyJ3MgZWZmZWN0IGxpc3QgaXMgZW1wdHkgZXhjZXB0IGZvclxuICAgIC8vIGRlbGV0aW9ucywgc28gd2UgY2FuIGp1c3QgYXBwZW5kIHRoZSBkZWxldGlvbiB0byB0aGUgbGlzdC4gVGhlIHJlbWFpbmluZ1xuICAgIC8vIGVmZmVjdHMgYXJlbid0IGFkZGVkIHVudGlsIHRoZSBjb21wbGV0ZSBwaGFzZS4gT25jZSB3ZSBpbXBsZW1lbnRcbiAgICAvLyByZXN1bWluZywgdGhpcyBtYXkgbm90IGJlIHRydWUuXG4gICAgdmFyIGxhc3QgPSByZXR1cm5GaWJlci5sYXN0RWZmZWN0O1xuICAgIGlmIChsYXN0ICE9PSBudWxsKSB7XG4gICAgICBsYXN0Lm5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gcmV0dXJuRmliZXIubGFzdEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgfVxuICAgIGNoaWxkVG9EZWxldGUubmV4dEVmZmVjdCA9IG51bGw7XG4gICAgY2hpbGRUb0RlbGV0ZS5lZmZlY3RUYWcgPSBEZWxldGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFRPRE86IEZvciB0aGUgc2hvdWxkQ2xvbmUgY2FzZSwgdGhpcyBjb3VsZCBiZSBtaWNyby1vcHRpbWl6ZWQgYSBiaXQgYnlcbiAgICAvLyBhc3N1bWluZyB0aGF0IGFmdGVyIHRoZSBmaXJzdCBjaGlsZCB3ZSd2ZSBhbHJlYWR5IGFkZGVkIGV2ZXJ5dGhpbmcuXG4gICAgdmFyIGNoaWxkVG9EZWxldGUgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGRUb0RlbGV0ZSAhPT0gbnVsbCkge1xuICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpO1xuICAgICAgY2hpbGRUb0RlbGV0ZSA9IGNoaWxkVG9EZWxldGUuc2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBtYXBSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICAvLyBBZGQgdGhlIHJlbWFpbmluZyBjaGlsZHJlbiB0byBhIHRlbXBvcmFyeSBtYXAgc28gdGhhdCB3ZSBjYW4gZmluZCB0aGVtIGJ5XG4gICAgLy8ga2V5cyBxdWlja2x5LiBJbXBsaWNpdCAobnVsbCkga2V5cyBnZXQgYWRkZWQgdG8gdGhpcyBzZXQgd2l0aCB0aGVpciBpbmRleFxuICAgIHZhciBleGlzdGluZ0NoaWxkcmVuID0gbmV3IE1hcCgpO1xuXG4gICAgdmFyIGV4aXN0aW5nQ2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoZXhpc3RpbmdDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGV4aXN0aW5nQ2hpbGQua2V5ICE9PSBudWxsKSB7XG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGV4aXN0aW5nQ2hpbGQua2V5LCBleGlzdGluZ0NoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGV4aXN0aW5nQ2hpbGQuaW5kZXgsIGV4aXN0aW5nQ2hpbGQpO1xuICAgICAgfVxuICAgICAgZXhpc3RpbmdDaGlsZCA9IGV4aXN0aW5nQ2hpbGQuc2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGRyZW47XG4gIH1cblxuICBmdW5jdGlvbiB1c2VGaWJlcihmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFdlIGN1cnJlbnRseSBzZXQgc2libGluZyB0byBudWxsIGFuZCBpbmRleCB0byAwIGhlcmUgYmVjYXVzZSBpdCBpcyBlYXN5XG4gICAgLy8gdG8gZm9yZ2V0IHRvIGRvIGJlZm9yZSByZXR1cm5pbmcgaXQuIEUuZy4gZm9yIHRoZSBzaW5nbGUgY2hpbGQgY2FzZS5cbiAgICB2YXIgY2xvbmUgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhmaWJlciwgcGVuZGluZ1Byb3BzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgY2xvbmUuaW5kZXggPSAwO1xuICAgIGNsb25lLnNpYmxpbmcgPSBudWxsO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICBuZXdGaWJlci5pbmRleCA9IG5ld0luZGV4O1xuICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgLy8gTm9vcC5cbiAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgfVxuICAgIHZhciBjdXJyZW50ID0gbmV3RmliZXIuYWx0ZXJuYXRlO1xuICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICB2YXIgb2xkSW5kZXggPSBjdXJyZW50LmluZGV4O1xuICAgICAgaWYgKG9sZEluZGV4IDwgbGFzdFBsYWNlZEluZGV4KSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBtb3ZlLlxuICAgICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGl0ZW0gY2FuIHN0YXkgaW4gcGxhY2UuXG4gICAgICAgIHJldHVybiBvbGRJbmRleDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyBhbiBpbnNlcnRpb24uXG4gICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgICByZXR1cm4gbGFzdFBsYWNlZEluZGV4O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYWNlU2luZ2xlQ2hpbGQobmV3RmliZXIpIHtcbiAgICAvLyBUaGlzIGlzIHNpbXBsZXIgZm9yIHRoZSBzaW5nbGUgY2hpbGQgY2FzZS4gV2Ugb25seSBuZWVkIHRvIGRvIGFcbiAgICAvLyBwbGFjZW1lbnQgZm9yIGluc2VydGluZyBuZXcgY2hpbGRyZW4uXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiYgbmV3RmliZXIuYWx0ZXJuYXRlID09PSBudWxsKSB7XG4gICAgICBuZXdGaWJlci5lZmZlY3RUYWcgPSBQbGFjZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBuZXdGaWJlcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50LCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LnRhZyAhPT0gSG9zdFRleHQpIHtcbiAgICAgIC8vIEluc2VydFxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgICB0ZXh0Q29udGVudCxcbiAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBjcmVhdGVkW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCB0ZXh0Q29udGVudCwgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgZXhpc3RpbmdbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50LCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQudHlwZSA9PT0gZWxlbWVudC50eXBlKSB7XG4gICAgICAvLyBNb3ZlIGJhc2VkIG9uIGluZGV4XG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCBlbGVtZW50LnByb3BzLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICBleGlzdGluZy5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGN1cnJlbnQsIGVsZW1lbnQpO1xuICAgICAgZXhpc3RpbmdbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgIHtcbiAgICAgICAgZXhpc3RpbmcuX2RlYnVnU291cmNlID0gZWxlbWVudC5fc291cmNlO1xuICAgICAgICBleGlzdGluZy5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV4aXN0aW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBjcmVhdGVkLnJlZiA9IGNvZXJjZVJlZihyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCk7XG4gICAgICBjcmVhdGVkW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIGN1cnJlbnQsIHBvcnRhbCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50ID09PSBudWxsIHx8XG4gICAgICBjdXJyZW50LnRhZyAhPT0gSG9zdFBvcnRhbCB8fFxuICAgICAgY3VycmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyAhPT0gcG9ydGFsLmNvbnRhaW5lckluZm8gfHxcbiAgICAgIGN1cnJlbnQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uICE9PSBwb3J0YWwuaW1wbGVtZW50YXRpb25cbiAgICApIHtcbiAgICAgIC8vIEluc2VydFxuICAgICAgdmFyIGNyZWF0ZWQgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwoXG4gICAgICAgIHBvcnRhbCxcbiAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBjcmVhdGVkW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXBkYXRlXG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50LCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGZyYWdtZW50LCBleHBpcmF0aW9uVGltZSwga2V5KSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwgfHwgY3VycmVudC50YWcgIT09IEZyYWdtZW50KSB7XG4gICAgICAvLyBJbnNlcnRcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgIGZyYWdtZW50LFxuICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICBleHBpcmF0aW9uVGltZSxcbiAgICAgICAga2V5XG4gICAgICApO1xuICAgICAgY3JlYXRlZFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgcmV0dXJuIGNyZWF0ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFVwZGF0ZVxuICAgICAgdmFyIGV4aXN0aW5nID0gdXNlRmliZXIoY3VycmVudCwgZnJhZ21lbnQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG5ld0NoaWxkID09PSBcIm51bWJlclwiKSB7XG4gICAgICAvLyBUZXh0IG5vZGVzIGRvbid0IGhhdmUga2V5cy4gSWYgdGhlIHByZXZpb3VzIG5vZGUgaXMgaW1wbGljaXRseSBrZXllZFxuICAgICAgLy8gd2UgY2FuIGNvbnRpbnVlIHRvIHJlcGxhY2UgaXQgd2l0aG91dCBhYm9ydGluZyBldmVuIGlmIGl0IGlzIG5vdCBhIHRleHRcbiAgICAgIC8vIG5vZGUuXG4gICAgICB2YXIgY3JlYXRlZCA9IGNyZWF0ZUZpYmVyRnJvbVRleHQoXG4gICAgICAgIFwiXCIgKyBuZXdDaGlsZCxcbiAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBjcmVhdGVkW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gY3JlYXRlZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcIm9iamVjdFwiICYmIG5ld0NoaWxkICE9PSBudWxsKSB7XG4gICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOiB7XG4gICAgICAgICAgdmFyIF9jcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChcbiAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBfY3JlYXRlZC5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIG51bGwsIG5ld0NoaWxkKTtcbiAgICAgICAgICBfY3JlYXRlZFtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIHJldHVybiBfY3JlYXRlZDtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOiB7XG4gICAgICAgICAgdmFyIF9jcmVhdGVkMiA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChcbiAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBfY3JlYXRlZDJbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICByZXR1cm4gX2NyZWF0ZWQyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIHZhciBfY3JlYXRlZDMgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKTtcbiAgICAgICAgX2NyZWF0ZWQzW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICAgIHJldHVybiBfY3JlYXRlZDM7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBVcGRhdGUgdGhlIGZpYmVyIGlmIHRoZSBrZXlzIG1hdGNoLCBvdGhlcndpc2UgcmV0dXJuIG51bGwuXG5cbiAgICB2YXIga2V5ID0gb2xkRmliZXIgIT09IG51bGwgPyBvbGRGaWJlci5rZXkgOiBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbmV3Q2hpbGQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLiBJZiB0aGUgcHJldmlvdXMgbm9kZSBpcyBpbXBsaWNpdGx5IGtleWVkXG4gICAgICAvLyB3ZSBjYW4gY29udGludWUgdG8gcmVwbGFjZSBpdCB3aXRob3V0IGFib3J0aW5nIGV2ZW4gaWYgaXQgaXMgbm90IGEgdGV4dFxuICAgICAgLy8gbm9kZS5cbiAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlVGV4dE5vZGUoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgXCJcIiArIG5ld0NoaWxkLFxuICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcIm9iamVjdFwiICYmIG5ld0NoaWxkICE9PSBudWxsKSB7XG4gICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOiB7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOiB7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlUG9ydGFsKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChcbiAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyb21NYXAoXG4gICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICByZXR1cm5GaWJlcixcbiAgICBuZXdJZHgsXG4gICAgbmV3Q2hpbGQsXG4gICAgZXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbmV3Q2hpbGQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIC8vIFRleHQgbm9kZXMgZG9uJ3QgaGF2ZSBrZXlzLCBzbyB3ZSBuZWl0aGVyIGhhdmUgdG8gY2hlY2sgdGhlIG9sZCBub3JcbiAgICAgIC8vIG5ldyBub2RlIGZvciB0aGUga2V5LiBJZiBib3RoIGFyZSB0ZXh0IG5vZGVzLCB0aGV5IG1hdGNoLlxuICAgICAgdmFyIG1hdGNoZWRGaWJlciA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbDtcbiAgICAgIHJldHVybiB1cGRhdGVUZXh0Tm9kZShcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIG1hdGNoZWRGaWJlcixcbiAgICAgICAgXCJcIiArIG5ld0NoaWxkLFxuICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcIm9iamVjdFwiICYmIG5ld0NoaWxkICE9PSBudWxsKSB7XG4gICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOiB7XG4gICAgICAgICAgdmFyIF9tYXRjaGVkRmliZXIgPVxuICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5nZXQoXG4gICAgICAgICAgICAgIG5ld0NoaWxkLmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleVxuICAgICAgICAgICAgKSB8fCBudWxsO1xuICAgICAgICAgIGlmIChuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBfbWF0Y2hlZEZpYmVyLFxuICAgICAgICAgICAgICBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgZXhwaXJhdGlvblRpbWUsXG4gICAgICAgICAgICAgIG5ld0NoaWxkLmtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZUVsZW1lbnQoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIF9tYXRjaGVkRmliZXIsXG4gICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOiB7XG4gICAgICAgICAgdmFyIF9tYXRjaGVkRmliZXIyID1cbiAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KFxuICAgICAgICAgICAgICBuZXdDaGlsZC5rZXkgPT09IG51bGwgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICkgfHwgbnVsbDtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUG9ydGFsKFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBfbWF0Y2hlZEZpYmVyMixcbiAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgIHZhciBfbWF0Y2hlZEZpYmVyMyA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbDtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgIF9tYXRjaGVkRmliZXIzLFxuICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgfVxuXG4gICAge1xuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhcm5zIGlmIHRoZXJlIGlzIGEgZHVwbGljYXRlIG9yIG1pc3Npbmcga2V5XG4gICAqL1xuICBmdW5jdGlvbiB3YXJuT25JbnZhbGlkS2V5KGNoaWxkLCBrbm93bktleXMpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIGNoaWxkICE9PSBcIm9iamVjdFwiIHx8IGNoaWxkID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBrbm93bktleXM7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHdhcm5Gb3JNaXNzaW5nS2V5KGNoaWxkKTtcbiAgICAgICAgICB2YXIga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgIGlmICh0eXBlb2Yga2V5ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGtub3duS2V5cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAga25vd25LZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgha25vd25LZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCJFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksIGAlc2AuIFwiICtcbiAgICAgICAgICAgICAgXCJLZXlzIHNob3VsZCBiZSB1bmlxdWUgc28gdGhhdCBjb21wb25lbnRzIG1haW50YWluIHRoZWlyIGlkZW50aXR5IFwiICtcbiAgICAgICAgICAgICAgXCJhY3Jvc3MgdXBkYXRlcy4gTm9uLXVuaXF1ZSBrZXlzIG1heSBjYXVzZSBjaGlsZHJlbiB0byBiZSBcIiArXG4gICAgICAgICAgICAgIFwiZHVwbGljYXRlZCBhbmQvb3Igb21pdHRlZCDigJQgdGhlIGJlaGF2aW9yIGlzIHVuc3VwcG9ydGVkIGFuZCBcIiArXG4gICAgICAgICAgICAgIFwiY291bGQgY2hhbmdlIGluIGEgZnV0dXJlIHZlcnNpb24uJXNcIixcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSgpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtub3duS2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkoXG4gICAgcmV0dXJuRmliZXIsXG4gICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgbmV3Q2hpbGRyZW4sXG4gICAgZXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgLy8gVGhpcyBhbGdvcml0aG0gY2FuJ3Qgb3B0aW1pemUgYnkgc2VhcmNoaW5nIGZyb20gYm90aHMgZW5kcyBzaW5jZSB3ZVxuICAgIC8vIGRvbid0IGhhdmUgYmFja3BvaW50ZXJzIG9uIGZpYmVycy4gSSdtIHRyeWluZyB0byBzZWUgaG93IGZhciB3ZSBjYW4gZ2V0XG4gICAgLy8gd2l0aCB0aGF0IG1vZGVsLiBJZiBpdCBlbmRzIHVwIG5vdCBiZWluZyB3b3J0aCB0aGUgdHJhZGVvZmZzLCB3ZSBjYW5cbiAgICAvLyBhZGQgaXQgbGF0ZXIuXG5cbiAgICAvLyBFdmVuIHdpdGggYSB0d28gZW5kZWQgb3B0aW1pemF0aW9uLCB3ZSdkIHdhbnQgdG8gb3B0aW1pemUgZm9yIHRoZSBjYXNlXG4gICAgLy8gd2hlcmUgdGhlcmUgYXJlIGZldyBjaGFuZ2VzIGFuZCBicnV0ZSBmb3JjZSB0aGUgY29tcGFyaXNvbiBpbnN0ZWFkIG9mXG4gICAgLy8gZ29pbmcgZm9yIHRoZSBNYXAuIEl0J2QgbGlrZSB0byBleHBsb3JlIGhpdHRpbmcgdGhhdCBwYXRoIGZpcnN0IGluXG4gICAgLy8gZm9yd2FyZC1vbmx5IG1vZGUgYW5kIG9ubHkgZ28gZm9yIHRoZSBNYXAgb25jZSB3ZSBub3RpY2UgdGhhdCB3ZSBuZWVkXG4gICAgLy8gbG90cyBvZiBsb29rIGFoZWFkLiBUaGlzIGRvZXNuJ3QgaGFuZGxlIHJldmVyc2FsIGFzIHdlbGwgYXMgdHdvIGVuZGVkXG4gICAgLy8gc2VhcmNoIGJ1dCB0aGF0J3MgdW51c3VhbC4gQmVzaWRlcywgZm9yIHRoZSB0d28gZW5kZWQgb3B0aW1pemF0aW9uIHRvXG4gICAgLy8gd29yayBvbiBJdGVyYWJsZXMsIHdlJ2QgbmVlZCB0byBjb3B5IHRoZSB3aG9sZSBzZXQuXG5cbiAgICAvLyBJbiB0aGlzIGZpcnN0IGl0ZXJhdGlvbiwgd2UnbGwganVzdCBsaXZlIHdpdGggaGl0dGluZyB0aGUgYmFkIGNhc2VcbiAgICAvLyAoYWRkaW5nIGV2ZXJ5dGhpbmcgdG8gYSBNYXApIGluIGZvciBldmVyeSBpbnNlcnQvbW92ZS5cblxuICAgIC8vIElmIHlvdSBjaGFuZ2UgdGhpcyBjb2RlLCBhbHNvIHVwZGF0ZSByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKCkgd2hpY2hcbiAgICAvLyB1c2VzIHRoZSBzYW1lIGFsZ29yaXRobS5cblxuICAgIHtcbiAgICAgIC8vIEZpcnN0LCB2YWxpZGF0ZSBrZXlzLlxuICAgICAgdmFyIGtub3duS2V5cyA9IG51bGw7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgICBrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KGNoaWxkLCBrbm93bktleXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXNOZXdGaWJlciA9IG51bGw7XG5cbiAgICB2YXIgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB2YXIgbGFzdFBsYWNlZEluZGV4ID0gMDtcbiAgICB2YXIgbmV3SWR4ID0gMDtcbiAgICB2YXIgbmV4dE9sZEZpYmVyID0gbnVsbDtcbiAgICBmb3IgKDsgb2xkRmliZXIgIT09IG51bGwgJiYgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBuZXdJZHgrKykge1xuICAgICAgaWYgKG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4KSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyO1xuICAgICAgICBvbGRGaWJlciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIG9sZEZpYmVyLFxuICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICAgIGlmIChuZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGJyZWFrcyBvbiBlbXB0eSBzbG90cyBsaWtlIG51bGwgY2hpbGRyZW4uIFRoYXQnc1xuICAgICAgICAvLyB1bmZvcnR1bmF0ZSBiZWNhdXNlIGl0IHRyaWdnZXJzIHRoZSBzbG93IHBhdGggYWxsIHRoZSB0aW1lLiBXZSBuZWVkXG4gICAgICAgIC8vIGEgYmV0dGVyIHdheSB0byBjb21tdW5pY2F0ZSB3aGV0aGVyIHRoaXMgd2FzIGEgbWlzcyBvciBudWxsLFxuICAgICAgICAvLyBib29sZWFuLCB1bmRlZmluZWQsIGV0Yy5cbiAgICAgICAgaWYgKG9sZEZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICBpZiAob2xkRmliZXIgJiYgbmV3RmliZXIuYWx0ZXJuYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgc2xvdCwgYnV0IHdlIGRpZG4ndCByZXVzZSB0aGUgZXhpc3RpbmcgZmliZXIsIHNvIHdlXG4gICAgICAgICAgLy8gbmVlZCB0byBkZWxldGUgdGhlIGV4aXN0aW5nIGNoaWxkLlxuICAgICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IE1vdmUgb3V0IG9mIHRoZSBsb29wLiBUaGlzIG9ubHkgaGFwcGVucyBmb3IgdGhlIGZpcnN0IHJ1bi5cbiAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5ld0ZpYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogRGVmZXIgc2libGluZ3MgaWYgd2UncmUgbm90IGF0IHRoZSByaWdodCBpbmRleCBmb3IgdGhpcyBzbG90LlxuICAgICAgICAvLyBJLmUuIGlmIHdlIGhhZCBudWxsIHZhbHVlcyBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byBkZWZlciB0aGlzXG4gICAgICAgIC8vIGZvciBlYWNoIG51bGwgdmFsdWUuIEhvd2V2ZXIsIHdlIGFsc28gZG9uJ3Qgd2FudCB0byBjYWxsIHVwZGF0ZVNsb3RcbiAgICAgICAgLy8gd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXdGaWJlcjtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBuZXdGaWJlcjtcbiAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgIH1cblxuICAgIGlmIChuZXdJZHggPT09IG5ld0NoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgLy8gV2UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBuZXcgY2hpbGRyZW4uIFdlIGNhbiBkZWxldGUgdGhlIHJlc3QuXG4gICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgaWYgKG9sZEZpYmVyID09PSBudWxsKSB7XG4gICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBtb3JlIGV4aXN0aW5nIGNoaWxkcmVuIHdlIGNhbiBjaG9vc2UgYSBmYXN0IHBhdGhcbiAgICAgIC8vIHNpbmNlIHRoZSByZXN0IHdpbGwgYWxsIGJlIGluc2VydGlvbnMuXG4gICAgICBmb3IgKDsgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBuZXdJZHgrKykge1xuICAgICAgICB2YXIgX25ld0ZpYmVyID0gY3JlYXRlQ2hpbGQoXG4gICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgICApO1xuICAgICAgICBpZiAoIV9uZXdGaWJlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gX25ld0ZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsIGNoaWxkcmVuIHRvIGEga2V5IG1hcCBmb3IgcXVpY2sgbG9va3Vwcy5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG5cbiAgICAvLyBLZWVwIHNjYW5uaW5nIGFuZCB1c2UgdGhlIG1hcCB0byByZXN0b3JlIGRlbGV0ZWQgaXRlbXMgYXMgbW92ZXMuXG4gICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspIHtcbiAgICAgIHZhciBfbmV3RmliZXIyID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIG5ld0lkeCxcbiAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBpZiAoX25ld0ZpYmVyMikge1xuICAgICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICAgIGlmIChfbmV3RmliZXIyLmFsdGVybmF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVGhlIG5ldyBmaWJlciBpcyBhIHdvcmsgaW4gcHJvZ3Jlc3MsIGJ1dCBpZiB0aGVyZSBleGlzdHMgYVxuICAgICAgICAgICAgLy8gY3VycmVudCwgdGhhdCBtZWFucyB0aGF0IHdlIHJldXNlZCB0aGUgZmliZXIuIFdlIG5lZWQgdG8gZGVsZXRlXG4gICAgICAgICAgICAvLyBpdCBmcm9tIHRoZSBjaGlsZCBsaXN0IHNvIHRoYXQgd2UgZG9uJ3QgYWRkIGl0IHRvIHRoZSBkZWxldGlvblxuICAgICAgICAgICAgLy8gbGlzdC5cbiAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW5bXCJkZWxldGVcIl0oXG4gICAgICAgICAgICAgIF9uZXdGaWJlcjIua2V5ID09PSBudWxsID8gbmV3SWR4IDogX25ld0ZpYmVyMi5rZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxhc3RQbGFjZWRJbmRleCA9IHBsYWNlQ2hpbGQoX25ld0ZpYmVyMiwgbGFzdFBsYWNlZEluZGV4LCBuZXdJZHgpO1xuICAgICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXIyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjI7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIC8vIEFueSBleGlzdGluZyBjaGlsZHJlbiB0aGF0IHdlcmVuJ3QgY29uc3VtZWQgYWJvdmUgd2VyZSBkZWxldGVkLiBXZSBuZWVkXG4gICAgICAvLyB0byBhZGQgdGhlbSB0byB0aGUgZGVsZXRpb24gbGlzdC5cbiAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcihcbiAgICByZXR1cm5GaWJlcixcbiAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICBuZXdDaGlsZHJlbkl0ZXJhYmxlLFxuICAgIGV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIC8vIFRoaXMgaXMgdGhlIHNhbWUgaW1wbGVtZW50YXRpb24gYXMgcmVjb25jaWxlQ2hpbGRyZW5BcnJheSgpLFxuICAgIC8vIGJ1dCB1c2luZyB0aGUgaXRlcmF0b3IgaW5zdGVhZC5cblxuICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihuZXdDaGlsZHJlbkl0ZXJhYmxlKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB0eXBlb2YgaXRlcmF0b3JGbiA9PT0gXCJmdW5jdGlvblwiLFxuICAgICAgXCJBbiBvYmplY3QgaXMgbm90IGFuIGl0ZXJhYmxlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gXCIgK1xuICAgICAgICBcIlJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG5cbiAgICB7XG4gICAgICAvLyBXYXJuIGFib3V0IHVzaW5nIE1hcHMgYXMgY2hpbGRyZW5cbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGRyZW5JdGVyYWJsZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIHBvc3NpYmxlTWFwID0gbmV3Q2hpbGRyZW5JdGVyYWJsZTtcbiAgICAgICAgaWYgKHBvc3NpYmxlTWFwLmVudHJpZXMgPT09IGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgICAhZGlkV2FybkFib3V0TWFwc1xuICAgICAgICAgICAgPyB3YXJuaW5nKFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyB1bnN1cHBvcnRlZCBhbmQgd2lsbCBsaWtlbHkgeWllbGQgXCIgK1xuICAgICAgICAgICAgICAgICAgXCJ1bmV4cGVjdGVkIHJlc3VsdHMuIENvbnZlcnQgaXQgdG8gYSBzZXF1ZW5jZS9pdGVyYWJsZSBvZiBrZXllZCBcIiArXG4gICAgICAgICAgICAgICAgICBcIlJlYWN0RWxlbWVudHMgaW5zdGVhZC4lc1wiLFxuICAgICAgICAgICAgICAgIGdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW0kMSgpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZpcnN0LCB2YWxpZGF0ZSBrZXlzLlxuICAgICAgLy8gV2UnbGwgZ2V0IGEgZGlmZmVyZW50IGl0ZXJhdG9yIGxhdGVyIGZvciB0aGUgbWFpbiBwYXNzLlxuICAgICAgdmFyIF9uZXdDaGlsZHJlbiA9IGl0ZXJhdG9yRm4uY2FsbChuZXdDaGlsZHJlbkl0ZXJhYmxlKTtcbiAgICAgIGlmIChfbmV3Q2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIGtub3duS2V5cyA9IG51bGw7XG4gICAgICAgIHZhciBfc3RlcCA9IF9uZXdDaGlsZHJlbi5uZXh0KCk7XG4gICAgICAgIGZvciAoOyAhX3N0ZXAuZG9uZTsgX3N0ZXAgPSBfbmV3Q2hpbGRyZW4ubmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGNoaWxkID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShjaGlsZCwga25vd25LZXlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBuZXdDaGlsZHJlbiA9IGl0ZXJhdG9yRm4uY2FsbChuZXdDaGlsZHJlbkl0ZXJhYmxlKTtcbiAgICBpbnZhcmlhbnQobmV3Q2hpbGRyZW4gIT0gbnVsbCwgXCJBbiBpdGVyYWJsZSBvYmplY3QgcHJvdmlkZWQgbm8gaXRlcmF0b3IuXCIpO1xuXG4gICAgdmFyIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91c05ld0ZpYmVyID0gbnVsbDtcblxuICAgIHZhciBvbGRGaWJlciA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHZhciBsYXN0UGxhY2VkSW5kZXggPSAwO1xuICAgIHZhciBuZXdJZHggPSAwO1xuICAgIHZhciBuZXh0T2xkRmliZXIgPSBudWxsO1xuXG4gICAgdmFyIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCk7XG4gICAgZm9yIChcbiAgICAgIDtcbiAgICAgIG9sZEZpYmVyICE9PSBudWxsICYmICFzdGVwLmRvbmU7XG4gICAgICBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKVxuICAgICkge1xuICAgICAgaWYgKG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4KSB7XG4gICAgICAgIG5leHRPbGRGaWJlciA9IG9sZEZpYmVyO1xuICAgICAgICBvbGRGaWJlciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIG9sZEZpYmVyLFxuICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICAgIGlmIChuZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIGJyZWFrcyBvbiBlbXB0eSBzbG90cyBsaWtlIG51bGwgY2hpbGRyZW4uIFRoYXQnc1xuICAgICAgICAvLyB1bmZvcnR1bmF0ZSBiZWNhdXNlIGl0IHRyaWdnZXJzIHRoZSBzbG93IHBhdGggYWxsIHRoZSB0aW1lLiBXZSBuZWVkXG4gICAgICAgIC8vIGEgYmV0dGVyIHdheSB0byBjb21tdW5pY2F0ZSB3aGV0aGVyIHRoaXMgd2FzIGEgbWlzcyBvciBudWxsLFxuICAgICAgICAvLyBib29sZWFuLCB1bmRlZmluZWQsIGV0Yy5cbiAgICAgICAgaWYgKCFvbGRGaWJlcikge1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgaWYgKG9sZEZpYmVyICYmIG5ld0ZpYmVyLmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIHNsb3QsIGJ1dCB3ZSBkaWRuJ3QgcmV1c2UgdGhlIGV4aXN0aW5nIGZpYmVyLCBzbyB3ZVxuICAgICAgICAgIC8vIG5lZWQgdG8gZGVsZXRlIHRoZSBleGlzdGluZyBjaGlsZC5cbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICBpZiAocHJldmlvdXNOZXdGaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIG91dCBvZiB0aGUgbG9vcC4gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHRoZSBmaXJzdCBydW4uXG4gICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE86IERlZmVyIHNpYmxpbmdzIGlmIHdlJ3JlIG5vdCBhdCB0aGUgcmlnaHQgaW5kZXggZm9yIHRoaXMgc2xvdC5cbiAgICAgICAgLy8gSS5lLiBpZiB3ZSBoYWQgbnVsbCB2YWx1ZXMgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gZGVmZXIgdGhpc1xuICAgICAgICAvLyBmb3IgZWFjaCBudWxsIHZhbHVlLiBIb3dldmVyLCB3ZSBhbHNvIGRvbid0IHdhbnQgdG8gY2FsbCB1cGRhdGVTbG90XG4gICAgICAgIC8vIHdpdGggdGhlIHByZXZpb3VzIG9uZS5cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICB9XG5cbiAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAvLyBXZSd2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG5ldyBjaGlsZHJlbi4gV2UgY2FuIGRlbGV0ZSB0aGUgcmVzdC5cbiAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICBpZiAob2xkRmliZXIgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IG1vcmUgZXhpc3RpbmcgY2hpbGRyZW4gd2UgY2FuIGNob29zZSBhIGZhc3QgcGF0aFxuICAgICAgLy8gc2luY2UgdGhlIHJlc3Qgd2lsbCBhbGwgYmUgaW5zZXJ0aW9ucy5cbiAgICAgIGZvciAoOyAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSkge1xuICAgICAgICB2YXIgX25ld0ZpYmVyMyA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBzdGVwLnZhbHVlLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICAgIGlmIChfbmV3RmliZXIzID09PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFBsYWNlZEluZGV4ID0gcGxhY2VDaGlsZChfbmV3RmliZXIzLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0lkeCk7XG4gICAgICAgIGlmIChwcmV2aW91c05ld0ZpYmVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVE9ETzogTW92ZSBvdXQgb2YgdGhlIGxvb3AuIFRoaXMgb25seSBoYXBwZW5zIGZvciB0aGUgZmlyc3QgcnVuLlxuICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBfbmV3RmliZXIzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IF9uZXdGaWJlcjM7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IF9uZXdGaWJlcjM7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsIGNoaWxkcmVuIHRvIGEga2V5IG1hcCBmb3IgcXVpY2sgbG9va3Vwcy5cbiAgICB2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG5cbiAgICAvLyBLZWVwIHNjYW5uaW5nIGFuZCB1c2UgdGhlIG1hcCB0byByZXN0b3JlIGRlbGV0ZWQgaXRlbXMgYXMgbW92ZXMuXG4gICAgZm9yICg7ICFzdGVwLmRvbmU7IG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpKSB7XG4gICAgICB2YXIgX25ld0ZpYmVyNCA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBuZXdJZHgsXG4gICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgaWYgKF9uZXdGaWJlcjQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICBpZiAoX25ld0ZpYmVyNC5hbHRlcm5hdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRoZSBuZXcgZmliZXIgaXMgYSB3b3JrIGluIHByb2dyZXNzLCBidXQgaWYgdGhlcmUgZXhpc3RzIGFcbiAgICAgICAgICAgIC8vIGN1cnJlbnQsIHRoYXQgbWVhbnMgdGhhdCB3ZSByZXVzZWQgdGhlIGZpYmVyLiBXZSBuZWVkIHRvIGRlbGV0ZVxuICAgICAgICAgICAgLy8gaXQgZnJvbSB0aGUgY2hpbGQgbGlzdCBzbyB0aGF0IHdlIGRvbid0IGFkZCBpdCB0byB0aGUgZGVsZXRpb25cbiAgICAgICAgICAgIC8vIGxpc3QuXG4gICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuW1wiZGVsZXRlXCJdKFxuICAgICAgICAgICAgICBfbmV3RmliZXI0LmtleSA9PT0gbnVsbCA/IG5ld0lkeCA6IF9uZXdGaWJlcjQua2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsYXN0UGxhY2VkSW5kZXggPSBwbGFjZUNoaWxkKF9uZXdGaWJlcjQsIGxhc3RQbGFjZWRJbmRleCwgbmV3SWR4KTtcbiAgICAgICAgaWYgKHByZXZpb3VzTmV3RmliZXIgPT09IG51bGwpIHtcbiAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gX25ld0ZpYmVyNDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBfbmV3RmliZXI0O1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBfbmV3RmliZXI0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAvLyBBbnkgZXhpc3RpbmcgY2hpbGRyZW4gdGhhdCB3ZXJlbid0IGNvbnN1bWVkIGFib3ZlIHdlcmUgZGVsZXRlZC4gV2UgbmVlZFxuICAgICAgLy8gdG8gYWRkIHRoZW0gdG8gdGhlIGRlbGV0aW9uIGxpc3QuXG4gICAgICBleGlzdGluZ0NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZVNpbmdsZVRleHROb2RlKFxuICAgIHJldHVybkZpYmVyLFxuICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgIHRleHRDb250ZW50LFxuICAgIGV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBjaGVjayBmb3Iga2V5cyBvbiB0ZXh0IG5vZGVzIHNpbmNlIHdlIGRvbid0IGhhdmUgYVxuICAgIC8vIHdheSB0byBkZWZpbmUgdGhlbS5cbiAgICBpZiAoY3VycmVudEZpcnN0Q2hpbGQgIT09IG51bGwgJiYgY3VycmVudEZpcnN0Q2hpbGQudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG5vZGUgc28gbGV0J3MganVzdCB1cGRhdGUgaXQgYW5kIGRlbGV0ZVxuICAgICAgLy8gdGhlIHJlc3QuXG4gICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZyk7XG4gICAgICB2YXIgZXhpc3RpbmcgPSB1c2VGaWJlcihjdXJyZW50Rmlyc3RDaGlsZCwgdGV4dENvbnRlbnQsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgIGV4aXN0aW5nW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgICByZXR1cm4gZXhpc3Rpbmc7XG4gICAgfVxuICAgIC8vIFRoZSBleGlzdGluZyBmaXJzdCBjaGlsZCBpcyBub3QgYSB0ZXh0IG5vZGUgc28gd2UgbmVlZCB0byBjcmVhdGUgb25lXG4gICAgLy8gYW5kIGRlbGV0ZSB0aGUgZXhpc3Rpbmcgb25lcy5cbiAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tVGV4dChcbiAgICAgIHRleHRDb250ZW50LFxuICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgKTtcbiAgICBjcmVhdGVkW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgcmV0dXJuIGNyZWF0ZWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVTaW5nbGVFbGVtZW50KFxuICAgIHJldHVybkZpYmVyLFxuICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgIGVsZW1lbnQsXG4gICAgZXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICAgIHZhciBjaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgICAgLy8gVE9ETzogSWYga2V5ID09PSBudWxsIGFuZCBjaGlsZC5rZXkgPT09IG51bGwsIHRoZW4gdGhpcyBvbmx5IGFwcGxpZXMgdG9cbiAgICAgIC8vIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBsaXN0LlxuICAgICAgaWYgKGNoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjaGlsZC50YWcgPT09IEZyYWdtZW50XG4gICAgICAgICAgICA/IGVsZW1lbnQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRVxuICAgICAgICAgICAgOiBjaGlsZC50eXBlID09PSBlbGVtZW50LnR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKFxuICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICBlbGVtZW50LnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEVcbiAgICAgICAgICAgICAgPyBlbGVtZW50LnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgIDogZWxlbWVudC5wcm9wcyxcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBleGlzdGluZy5yZWYgPSBjb2VyY2VSZWYocmV0dXJuRmliZXIsIGNoaWxkLCBlbGVtZW50KTtcbiAgICAgICAgICBleGlzdGluZ1tcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4aXN0aW5nLl9kZWJ1Z1NvdXJjZSA9IGVsZW1lbnQuX3NvdXJjZTtcbiAgICAgICAgICAgIGV4aXN0aW5nLl9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBleGlzdGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgfVxuICAgICAgY2hpbGQgPSBjaGlsZC5zaWJsaW5nO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgIGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgICBlbGVtZW50LmtleVxuICAgICAgKTtcbiAgICAgIGNyZWF0ZWRbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBjcmVhdGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NyZWF0ZWQ0ID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBfY3JlYXRlZDQucmVmID0gY29lcmNlUmVmKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgZWxlbWVudCk7XG4gICAgICBfY3JlYXRlZDRbXCJyZXR1cm5cIl0gPSByZXR1cm5GaWJlcjtcbiAgICAgIHJldHVybiBfY3JlYXRlZDQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjb25jaWxlU2luZ2xlUG9ydGFsKFxuICAgIHJldHVybkZpYmVyLFxuICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgIHBvcnRhbCxcbiAgICBleHBpcmF0aW9uVGltZVxuICApIHtcbiAgICB2YXIga2V5ID0gcG9ydGFsLmtleTtcbiAgICB2YXIgY2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE86IElmIGtleSA9PT0gbnVsbCBhbmQgY2hpbGQua2V5ID09PSBudWxsLCB0aGVuIHRoaXMgb25seSBhcHBsaWVzIHRvXG4gICAgICAvLyB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgbGlzdC5cbiAgICAgIGlmIChjaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2hpbGQudGFnID09PSBIb3N0UG9ydGFsICYmXG4gICAgICAgICAgY2hpbGQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gPT09IHBvcnRhbC5jb250YWluZXJJbmZvICYmXG4gICAgICAgICAgY2hpbGQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uID09PSBwb3J0YWwuaW1wbGVtZW50YXRpb25cbiAgICAgICAgKSB7XG4gICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IHVzZUZpYmVyKGNoaWxkLCBwb3J0YWwuY2hpbGRyZW4gfHwgW10sIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICBleGlzdGluZ1tcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIHJldHVybiBleGlzdGluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgfVxuICAgICAgY2hpbGQgPSBjaGlsZC5zaWJsaW5nO1xuICAgIH1cblxuICAgIHZhciBjcmVhdGVkID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKFxuICAgICAgcG9ydGFsLFxuICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgKTtcbiAgICBjcmVhdGVkW1wicmV0dXJuXCJdID0gcmV0dXJuRmliZXI7XG4gICAgcmV0dXJuIGNyZWF0ZWQ7XG4gIH1cblxuICAvLyBUaGlzIEFQSSB3aWxsIHRhZyB0aGUgY2hpbGRyZW4gd2l0aCB0aGUgc2lkZS1lZmZlY3Qgb2YgdGhlIHJlY29uY2lsaWF0aW9uXG4gIC8vIGl0c2VsZi4gVGhleSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzaWRlLWVmZmVjdCBsaXN0IGFzIHdlIHBhc3MgdGhyb3VnaCB0aGVcbiAgLy8gY2hpbGRyZW4gYW5kIHRoZSBwYXJlbnQuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgIHJldHVybkZpYmVyLFxuICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgIG5ld0NoaWxkLFxuICAgIGV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgbm90IHJlY3Vyc2l2ZS5cbiAgICAvLyBJZiB0aGUgdG9wIGxldmVsIGl0ZW0gaXMgYW4gYXJyYXksIHdlIHRyZWF0IGl0IGFzIGEgc2V0IG9mIGNoaWxkcmVuLFxuICAgIC8vIG5vdCBhcyBhIGZyYWdtZW50LiBOZXN0ZWQgYXJyYXlzIG9uIHRoZSBvdGhlciBoYW5kIHdpbGwgYmUgdHJlYXRlZCBhc1xuICAgIC8vIGZyYWdtZW50IG5vZGVzLiBSZWN1cnNpb24gaGFwcGVucyBhdCB0aGUgbm9ybWFsIGZsb3cuXG5cbiAgICAvLyBIYW5kbGUgdG9wIGxldmVsIHVua2V5ZWQgZnJhZ21lbnRzIGFzIGlmIHRoZXkgd2VyZSBhcnJheXMuXG4gICAgLy8gVGhpcyBsZWFkcyB0byBhbiBhbWJpZ3VpdHkgYmV0d2VlbiA8PntbLi4uXX08Lz4gYW5kIDw+Li4uPC8+LlxuICAgIC8vIFdlIHRyZWF0IHRoZSBhbWJpZ3VvdXMgY2FzZXMgYWJvdmUgdGhlIHNhbWUuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIG5ld0NoaWxkID09PSBcIm9iamVjdFwiICYmXG4gICAgICBuZXdDaGlsZCAhPT0gbnVsbCAmJlxuICAgICAgbmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSAmJlxuICAgICAgbmV3Q2hpbGQua2V5ID09PSBudWxsXG4gICAgKSB7XG4gICAgICBuZXdDaGlsZCA9IG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBvYmplY3QgdHlwZXNcbiAgICB2YXIgaXNPYmplY3QgPSB0eXBlb2YgbmV3Q2hpbGQgPT09IFwib2JqZWN0XCIgJiYgbmV3Q2hpbGQgIT09IG51bGw7XG5cbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIHBsYWNlU2luZ2xlQ2hpbGQoXG4gICAgICAgICAgICByZWNvbmNpbGVTaW5nbGVFbGVtZW50KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIHBsYWNlU2luZ2xlQ2hpbGQoXG4gICAgICAgICAgICByZWNvbmNpbGVTaW5nbGVQb3J0YWwoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBuZXdDaGlsZCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHBsYWNlU2luZ2xlQ2hpbGQoXG4gICAgICAgIHJlY29uY2lsZVNpbmdsZVRleHROb2RlKFxuICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgIFwiXCIgKyBuZXdDaGlsZCxcbiAgICAgICAgICBleHBpcmF0aW9uVGltZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5JDEobmV3Q2hpbGQpKSB7XG4gICAgICByZXR1cm4gcmVjb25jaWxlQ2hpbGRyZW5BcnJheShcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICByZXR1cm4gcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcihcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0KSB7XG4gICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIC8vIElmIHRoZSBuZXcgY2hpbGQgaXMgdW5kZWZpbmVkLCBhbmQgdGhlIHJldHVybiBmaWJlciBpcyBhIGNvbXBvc2l0ZVxuICAgICAgLy8gY29tcG9uZW50LCB0aHJvdyBhbiBlcnJvci4gSWYgRmliZXIgcmV0dXJuIHR5cGVzIGFyZSBkaXNhYmxlZCxcbiAgICAgIC8vIHdlIGFscmVhZHkgdGhyZXcgYWJvdmUuXG4gICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OiB7XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlLnJlbmRlci5faXNNb2NrRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgLy8gV2UgYWxsb3cgYXV0by1tb2NrcyB0byBwcm9jZWVkIGFzIGlmIHRoZXkncmUgcmV0dXJuaW5nIG51bGwuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGZhbGwgdGhyb3VnaCB0byB0aGUgbmV4dCBjYXNlLCB3aGljaCBoYW5kbGVzIGJvdGhcbiAgICAgICAgLy8gZnVuY3Rpb25zIGFuZCBjbGFzc2VzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZWQgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OiB7XG4gICAgICAgICAgdmFyIENvbXBvbmVudCA9IHJldHVybkZpYmVyLnR5cGU7XG4gICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIiVzKC4uLik6IE5vdGhpbmcgd2FzIHJldHVybmVkIGZyb20gcmVuZGVyLiBUaGlzIHVzdWFsbHkgbWVhbnMgYSBcIiArXG4gICAgICAgICAgICAgIFwicmV0dXJuIHN0YXRlbWVudCBpcyBtaXNzaW5nLiBPciwgdG8gcmVuZGVyIG5vdGhpbmcsIFwiICtcbiAgICAgICAgICAgICAgXCJyZXR1cm4gbnVsbC5cIixcbiAgICAgICAgICAgIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbWFpbmluZyBjYXNlcyBhcmUgYWxsIHRyZWF0ZWQgYXMgZW1wdHkuXG4gICAgcmV0dXJuIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gIH1cblxuICByZXR1cm4gcmVjb25jaWxlQ2hpbGRGaWJlcnM7XG59XG5cbnZhciByZWNvbmNpbGVDaGlsZEZpYmVycyA9IENoaWxkUmVjb25jaWxlcih0cnVlKTtcbnZhciBtb3VudENoaWxkRmliZXJzID0gQ2hpbGRSZWNvbmNpbGVyKGZhbHNlKTtcblxuZnVuY3Rpb24gY2xvbmVDaGlsZEZpYmVycyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICBpbnZhcmlhbnQoXG4gICAgY3VycmVudCA9PT0gbnVsbCB8fCB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9PT0gY3VycmVudC5jaGlsZCxcbiAgICBcIlJlc3VtaW5nIHdvcmsgbm90IHlldCBpbXBsZW1lbnRlZC5cIlxuICApO1xuXG4gIGlmICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjdXJyZW50Q2hpbGQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgdmFyIG5ld0NoaWxkID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoXG4gICAgY3VycmVudENoaWxkLFxuICAgIGN1cnJlbnRDaGlsZC5wZW5kaW5nUHJvcHMsXG4gICAgY3VycmVudENoaWxkLmV4cGlyYXRpb25UaW1lXG4gICk7XG4gIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbmV3Q2hpbGQ7XG5cbiAgbmV3Q2hpbGRbXCJyZXR1cm5cIl0gPSB3b3JrSW5Qcm9ncmVzcztcbiAgd2hpbGUgKGN1cnJlbnRDaGlsZC5zaWJsaW5nICE9PSBudWxsKSB7XG4gICAgY3VycmVudENoaWxkID0gY3VycmVudENoaWxkLnNpYmxpbmc7XG4gICAgbmV3Q2hpbGQgPSBuZXdDaGlsZC5zaWJsaW5nID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoXG4gICAgICBjdXJyZW50Q2hpbGQsXG4gICAgICBjdXJyZW50Q2hpbGQucGVuZGluZ1Byb3BzLFxuICAgICAgY3VycmVudENoaWxkLmV4cGlyYXRpb25UaW1lXG4gICAgKTtcbiAgICBuZXdDaGlsZFtcInJldHVyblwiXSA9IHdvcmtJblByb2dyZXNzO1xuICB9XG4gIG5ld0NoaWxkLnNpYmxpbmcgPSBudWxsO1xufVxuXG52YXIgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB2b2lkIDA7XG52YXIgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0gdm9pZCAwO1xudmFyIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB7fTtcbiAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50ID0ge307XG4gIGRpZFdhcm5BYm91dFN0YXRlbGVzc1JlZnMgPSB7fTtcbn1cblxudmFyIFJlYWN0RmliZXJCZWdpbldvcmsgPSBmdW5jdGlvbihcbiAgY29uZmlnLFxuICBob3N0Q29udGV4dCxcbiAgbGVnYWN5Q29udGV4dCxcbiAgbmV3Q29udGV4dCxcbiAgaHlkcmF0aW9uQ29udGV4dCxcbiAgc2NoZWR1bGVXb3JrLFxuICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyXG4pIHtcbiAgdmFyIHNob3VsZFNldFRleHRDb250ZW50ID0gY29uZmlnLnNob3VsZFNldFRleHRDb250ZW50LFxuICAgIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUgPSBjb25maWcuc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTtcbiAgdmFyIHB1c2hIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnB1c2hIb3N0Q29udGV4dCxcbiAgICBwdXNoSG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LnB1c2hIb3N0Q29udGFpbmVyO1xuICB2YXIgcHVzaFByb3ZpZGVyID0gbmV3Q29udGV4dC5wdXNoUHJvdmlkZXI7XG4gIHZhciBnZXRNYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5nZXRNYXNrZWRDb250ZXh0LFxuICAgIGdldFVubWFza2VkQ29udGV4dCA9IGxlZ2FjeUNvbnRleHQuZ2V0VW5tYXNrZWRDb250ZXh0LFxuICAgIGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkID0gbGVnYWN5Q29udGV4dC5oYXNDb250ZXh0Q2hhbmdlZCxcbiAgICBwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyID0gbGVnYWN5Q29udGV4dC5wdXNoQ29udGV4dFByb3ZpZGVyLFxuICAgIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QgPSBsZWdhY3lDb250ZXh0LnB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QsXG4gICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQuaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcjtcbiAgdmFyIGVudGVySHlkcmF0aW9uU3RhdGUgPSBoeWRyYXRpb25Db250ZXh0LmVudGVySHlkcmF0aW9uU3RhdGUsXG4gICAgcmVzZXRIeWRyYXRpb25TdGF0ZSA9IGh5ZHJhdGlvbkNvbnRleHQucmVzZXRIeWRyYXRpb25TdGF0ZSxcbiAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9XG4gICAgICBoeWRyYXRpb25Db250ZXh0LnRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuXG4gIHZhciBfUmVhY3RGaWJlckNsYXNzQ29tcG8gPSBSZWFjdEZpYmVyQ2xhc3NDb21wb25lbnQoXG4gICAgICBsZWdhY3lDb250ZXh0LFxuICAgICAgc2NoZWR1bGVXb3JrLFxuICAgICAgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgICAgIG1lbW9pemVQcm9wcyxcbiAgICAgIG1lbW9pemVTdGF0ZVxuICAgICksXG4gICAgYWRvcHRDbGFzc0luc3RhbmNlID0gX1JlYWN0RmliZXJDbGFzc0NvbXBvLmFkb3B0Q2xhc3NJbnN0YW5jZSxcbiAgICBjYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID1cbiAgICAgIF9SZWFjdEZpYmVyQ2xhc3NDb21wby5jYWxsR2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFxuICAgIGNvbnN0cnVjdENsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8uY29uc3RydWN0Q2xhc3NJbnN0YW5jZSxcbiAgICBtb3VudENsYXNzSW5zdGFuY2UgPSBfUmVhY3RGaWJlckNsYXNzQ29tcG8ubW91bnRDbGFzc0luc3RhbmNlLFxuICAgIHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby5yZXN1bWVNb3VudENsYXNzSW5zdGFuY2UsXG4gICAgdXBkYXRlQ2xhc3NJbnN0YW5jZSA9IF9SZWFjdEZpYmVyQ2xhc3NDb21wby51cGRhdGVDbGFzc0luc3RhbmNlO1xuXG4gIC8vIFRPRE86IFJlbW92ZSB0aGlzIGFuZCB1c2UgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lIGRpcmVjdGx5LlxuXG4gIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pIHtcbiAgICByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5leHBpcmF0aW9uVGltZVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUoXG4gICAgY3VycmVudCxcbiAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICBuZXh0Q2hpbGRyZW4sXG4gICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIElmIHRoaXMgaXMgYSBmcmVzaCBuZXcgY29tcG9uZW50IHRoYXQgaGFzbid0IGJlZW4gcmVuZGVyZWQgeWV0LCB3ZVxuICAgICAgLy8gd29uJ3QgdXBkYXRlIGl0cyBjaGlsZCBzZXQgYnkgYXBwbHlpbmcgbWluaW1hbCBzaWRlLWVmZmVjdHMuIEluc3RlYWQsXG4gICAgICAvLyB3ZSB3aWxsIGFkZCB0aGVtIGFsbCB0byB0aGUgY2hpbGQgYmVmb3JlIGl0IGdldHMgcmVuZGVyZWQuIFRoYXQgbWVhbnNcbiAgICAgIC8vIHdlIGNhbiBvcHRpbWl6ZSB0aGlzIHJlY29uY2lsaWF0aW9uIHBhc3MgYnkgbm90IHRyYWNraW5nIHNpZGUtZWZmZWN0cy5cbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbW91bnRDaGlsZEZpYmVycyhcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSBjdXJyZW50IGNoaWxkIGlzIHRoZSBzYW1lIGFzIHRoZSB3b3JrIGluIHByb2dyZXNzLCBpdCBtZWFucyB0aGF0XG4gICAgICAvLyB3ZSBoYXZlbid0IHlldCBzdGFydGVkIGFueSB3b3JrIG9uIHRoZXNlIGNoaWxkcmVuLiBUaGVyZWZvcmUsIHdlIHVzZVxuICAgICAgLy8gdGhlIGNsb25lIGFsZ29yaXRobSB0byBjcmVhdGUgYSBjb3B5IG9mIGFsbCB0aGUgY3VycmVudCBjaGlsZHJlbi5cblxuICAgICAgLy8gSWYgd2UgaGFkIGFueSBwcm9ncmVzc2VkIHdvcmsgYWxyZWFkeSwgdGhhdCBpcyBpbnZhbGlkIGF0IHRoaXMgcG9pbnQgc29cbiAgICAgIC8vIGxldCdzIHRocm93IGl0IG91dC5cbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBjdXJyZW50LmNoaWxkLFxuICAgICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZvcndhcmRSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgcmVuZGVyID0gd29ya0luUHJvZ3Jlc3MudHlwZS5yZW5kZXI7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHJlbmRlcih3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsIHdvcmtJblByb2dyZXNzLnJlZik7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZyYWdtZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9PT0gbmV4dENoaWxkcmVuKSB7XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNb2RlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbjtcbiAgICBpZiAoaGFzTGVnYWN5Q29udGV4dENoYW5nZWQoKSkge1xuICAgICAgLy8gTm9ybWFsbHkgd2UgY2FuIGJhaWwgb3V0IG9uIHByb3BzIGVxdWFsaXR5IGJ1dCBpZiBjb250ZXh0IGhhcyBjaGFuZ2VkXG4gICAgICAvLyB3ZSBkb24ndCBkbyB0aGUgYmFpbG91dCBhbmQgd2UgaGF2ZSB0byByZXVzZSBleGlzdGluZyBwcm9wcyBpbnN0ZWFkLlxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBuZXh0Q2hpbGRyZW4gPT09IG51bGwgfHxcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRDaGlsZHJlblxuICAgICkge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIHZhciByZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgaWYgKFxuICAgICAgKGN1cnJlbnQgPT09IG51bGwgJiYgcmVmICE9PSBudWxsKSB8fFxuICAgICAgKGN1cnJlbnQgIT09IG51bGwgJiYgY3VycmVudC5yZWYgIT09IHJlZilcbiAgICApIHtcbiAgICAgIC8vIFNjaGVkdWxlIGEgUmVmIGVmZmVjdFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFJlZjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVGdW5jdGlvbmFsQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIGZuID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPOiBjb25zaWRlciBicmluZ2luZyBmbi5zaG91bGRDb21wb25lbnRVcGRhdGUoKSBiYWNrLlxuICAgICAgLy8gSXQgdXNlZCB0byBiZSBoZXJlLlxuICAgIH1cblxuICAgIHZhciB1bm1hc2tlZENvbnRleHQgPSBnZXRVbm1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBjb250ZXh0ID0gZ2V0TWFza2VkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB2b2lkIDA7XG5cbiAgICB7XG4gICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShcInJlbmRlclwiKTtcbiAgICAgIG5leHRDaGlsZHJlbiA9IGZuKG5leHRQcm9wcywgY29udGV4dCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShudWxsKTtcbiAgICB9XG4gICAgLy8gUmVhY3QgRGV2VG9vbHMgcmVhZHMgdGhpcyBmbGFnLlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQZXJmb3JtZWRXb3JrO1xuICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDbGFzc0NvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBQdXNoIGNvbnRleHQgcHJvdmlkZXJzIGVhcmx5IHRvIHByZXZlbnQgY29udGV4dCBzdGFjayBtaXNtYXRjaGVzLlxuICAgIC8vIER1cmluZyBtb3VudGluZyB3ZSBkb24ndCBrbm93IHRoZSBjaGlsZCBjb250ZXh0IHlldCBhcyB0aGUgaW5zdGFuY2UgZG9lc24ndCBleGlzdC5cbiAgICAvLyBXZSB3aWxsIGludmFsaWRhdGUgdGhlIGNoaWxkIGNvbnRleHQgaW4gZmluaXNoQ2xhc3NDb21wb25lbnQoKSByaWdodCBhZnRlciByZW5kZXJpbmcuXG4gICAgdmFyIGhhc0NvbnRleHQgPSBwdXNoTGVnYWN5Q29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gdm9pZCAwO1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICBpZiAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID09PSBudWxsKSB7XG4gICAgICAgIC8vIEluIHRoZSBpbml0aWFsIHBhc3Mgd2UgbWlnaHQgbmVlZCB0byBjb25zdHJ1Y3QgdGhlIGluc3RhbmNlLlxuICAgICAgICBjb25zdHJ1Y3RDbGFzc0luc3RhbmNlKHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpO1xuICAgICAgICBtb3VudENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKTtcblxuICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSW4gYSByZXN1bWUsIHdlJ2xsIGFscmVhZHkgaGF2ZSBhbiBpbnN0YW5jZSB3ZSBjYW4gcmV1c2UuXG4gICAgICAgIHNob3VsZFVwZGF0ZSA9IHJlc3VtZU1vdW50Q2xhc3NJbnN0YW5jZShcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzaG91bGRVcGRhdGUgPSB1cGRhdGVDbGFzc0luc3RhbmNlKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gV2UgcHJvY2Vzc2VkIHRoZSB1cGRhdGUgcXVldWUgaW5zaWRlIHVwZGF0ZUNsYXNzSW5zdGFuY2UuIEl0IG1heSBoYXZlXG4gICAgLy8gaW5jbHVkZWQgc29tZSBlcnJvcnMgdGhhdCB3ZXJlIGRpc3BhdGNoZWQgZHVyaW5nIHRoZSBjb21taXQgcGhhc2UuXG4gICAgLy8gVE9ETzogUmVmYWN0b3IgY2xhc3MgY29tcG9uZW50cyBzbyB0aGlzIGlzIGxlc3MgYXdrd2FyZC5cbiAgICB2YXIgZGlkQ2FwdHVyZUVycm9yID0gZmFsc2U7XG4gICAgdmFyIHVwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgaWYgKHVwZGF0ZVF1ZXVlICE9PSBudWxsICYmIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsKSB7XG4gICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgZGlkQ2FwdHVyZUVycm9yID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmlzaENsYXNzQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgc2hvdWxkVXBkYXRlLFxuICAgICAgaGFzQ29udGV4dCxcbiAgICAgIGRpZENhcHR1cmVFcnJvcixcbiAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaENsYXNzQ29tcG9uZW50KFxuICAgIGN1cnJlbnQsXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgc2hvdWxkVXBkYXRlLFxuICAgIGhhc0NvbnRleHQsXG4gICAgZGlkQ2FwdHVyZUVycm9yLFxuICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIC8vIFJlZnMgc2hvdWxkIHVwZGF0ZSBldmVuIGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSByZXR1cm5zIGZhbHNlXG4gICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICBpZiAoIXNob3VsZFVwZGF0ZSAmJiAhZGlkQ2FwdHVyZUVycm9yKSB7XG4gICAgICAvLyBDb250ZXh0IHByb3ZpZGVycyBzaG91bGQgZGVmZXIgdG8gc0NVIGZvciByZW5kZXJpbmdcbiAgICAgIGlmIChoYXNDb250ZXh0KSB7XG4gICAgICAgIGludmFsaWRhdGVDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIHZhciBjdG9yID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG5cbiAgICAvLyBSZXJlbmRlclxuICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICB2YXIgbmV4dENoaWxkcmVuID0gdm9pZCAwO1xuICAgIGlmIChcbiAgICAgIGRpZENhcHR1cmVFcnJvciAmJlxuICAgICAgKCFlbmFibGVHZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggfHxcbiAgICAgICAgdHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgKSB7XG4gICAgICAvLyBJZiB3ZSBjYXB0dXJlZCBhbiBlcnJvciwgYnV0IGdldERlcml2ZWRTdGF0ZUZyb20gY2F0Y2ggaXMgbm90IGRlZmluZWQsXG4gICAgICAvLyB1bm1vdW50IGFsbCB0aGUgY2hpbGRyZW4uIGNvbXBvbmVudERpZENhdGNoIHdpbGwgc2NoZWR1bGUgYW4gdXBkYXRlIHRvXG4gICAgICAvLyByZS1yZW5kZXIgYSBmYWxsYmFjay4gVGhpcyBpcyB0ZW1wb3JhcnkgdW50aWwgd2UgbWlncmF0ZSBldmVyeW9uZSB0b1xuICAgICAgLy8gdGhlIG5ldyBBUEkuXG4gICAgICAvLyBUT0RPOiBXYXJuIGluIGEgZnV0dXJlIHJlbGVhc2UuXG4gICAgICBuZXh0Q2hpbGRyZW4gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB7XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKFwicmVuZGVyXCIpO1xuICAgICAgICBuZXh0Q2hpbGRyZW4gPSBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRlYnVnUmVuZGVyUGhhc2VTaWRlRWZmZWN0cyB8fFxuICAgICAgICAgIChkZWJ1Z1JlbmRlclBoYXNlU2lkZUVmZmVjdHNGb3JTdHJpY3RNb2RlICYmXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TW9kZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50UGhhc2UobnVsbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVhY3QgRGV2VG9vbHMgcmVhZHMgdGhpcyBmbGFnLlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBQZXJmb3JtZWRXb3JrO1xuICAgIGlmIChkaWRDYXB0dXJlRXJyb3IpIHtcbiAgICAgIC8vIElmIHdlJ3JlIHJlY292ZXJpbmcgZnJvbSBhbiBlcnJvciwgcmVjb25jaWxlIHR3aWNlOiBmaXJzdCB0byBkZWxldGVcbiAgICAgIC8vIGFsbCB0aGUgZXhpc3RpbmcgY2hpbGRyZW4uXG4gICAgICByZWNvbmNpbGVDaGlsZHJlbkF0RXhwaXJhdGlvblRpbWUoXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBudWxsLFxuICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbDtcbiAgICAgIC8vIE5vdyB3ZSBjYW4gY29udGludWUgcmVjb25jaWxpbmcgbGlrZSBub3JtYWwuIFRoaXMgaGFzIHRoZSBlZmZlY3Qgb2ZcbiAgICAgIC8vIHJlbW91bnRpbmcgYWxsIGNoaWxkcmVuIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGVpciB0aGVpclxuICAgICAgLy8gaWRlbnRpdHkgbWF0Y2hlcy5cbiAgICB9XG4gICAgcmVjb25jaWxlQ2hpbGRyZW5BdEV4cGlyYXRpb25UaW1lKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICApO1xuICAgIC8vIE1lbW9pemUgcHJvcHMgYW5kIHN0YXRlIHVzaW5nIHRoZSB2YWx1ZXMgd2UganVzdCB1c2VkIHRvIHJlbmRlci5cbiAgICAvLyBUT0RPOiBSZXN0cnVjdHVyZSBzbyB3ZSBuZXZlciByZWFkIHZhbHVlcyBmcm9tIHRoZSBpbnN0YW5jZS5cbiAgICBtZW1vaXplU3RhdGUod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlLnN0YXRlKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIGluc3RhbmNlLnByb3BzKTtcblxuICAgIC8vIFRoZSBjb250ZXh0IG1pZ2h0IGhhdmUgY2hhbmdlZCBzbyB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlIGl0LlxuICAgIGlmIChoYXNDb250ZXh0KSB7XG4gICAgICBpbnZhbGlkYXRlQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdFJvb3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIHJvb3QgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgaWYgKHJvb3QucGVuZGluZ0NvbnRleHQpIHtcbiAgICAgIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QoXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICByb290LnBlbmRpbmdDb250ZXh0LFxuICAgICAgICByb290LnBlbmRpbmdDb250ZXh0ICE9PSByb290LmNvbnRleHRcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChyb290LmNvbnRleHQpIHtcbiAgICAgIC8vIFNob3VsZCBhbHdheXMgYmUgc2V0XG4gICAgICBwdXNoVG9wTGV2ZWxDb250ZXh0T2JqZWN0KHdvcmtJblByb2dyZXNzLCByb290LmNvbnRleHQsIGZhbHNlKTtcbiAgICB9XG4gICAgcHVzaEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MsIHJvb3QuY29udGFpbmVySW5mbyk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVIb3N0Um9vdChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICBwdXNoSG9zdFJvb3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgIHZhciBwcmV2U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgdmFyIHN0YXRlID0gcHJvY2Vzc1VwZGF0ZVF1ZXVlKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgdXBkYXRlUXVldWUsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBzdGF0ZSk7XG4gICAgICB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuXG4gICAgICB2YXIgZWxlbWVudCA9IHZvaWQgMDtcbiAgICAgIGlmICh1cGRhdGVRdWV1ZSAhPT0gbnVsbCAmJiB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBUaGVyZSdzIGFuIHVuY2F1Z2h0IGVycm9yLiBVbm1vdW50IHRoZSB3aG9sZSByb290LlxuICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAocHJldlN0YXRlID09PSBzdGF0ZSkge1xuICAgICAgICAvLyBJZiB0aGUgc3RhdGUgaXMgdGhlIHNhbWUgYXMgYmVmb3JlLCB0aGF0J3MgYSBiYWlsb3V0IGJlY2F1c2Ugd2UgaGFkXG4gICAgICAgIC8vIG5vIHdvcmsgdGhhdCBleHBpcmVzIGF0IHRoaXMgdGltZS5cbiAgICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50ID0gc3RhdGUuZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIHZhciByb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgaWYgKFxuICAgICAgICAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkID09PSBudWxsKSAmJlxuICAgICAgICByb290Lmh5ZHJhdGUgJiZcbiAgICAgICAgZW50ZXJIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcylcbiAgICAgICkge1xuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFueSBjdXJyZW50IGNoaWxkcmVuIHRoaXMgbWlnaHQgYmUgdGhlIGZpcnN0IHBhc3MuXG4gICAgICAgIC8vIFdlIGFsd2F5cyB0cnkgdG8gaHlkcmF0ZS4gSWYgdGhpcyBpc24ndCBhIGh5ZHJhdGlvbiBwYXNzIHRoZXJlIHdvbid0XG4gICAgICAgIC8vIGJlIGFueSBjaGlsZHJlbiB0byBoeWRyYXRlIHdoaWNoIGlzIGVmZmVjdGl2ZWx5IHRoZSBzYW1lIHRoaW5nIGFzXG4gICAgICAgIC8vIG5vdCBoeWRyYXRpbmcuXG5cbiAgICAgICAgLy8gVGhpcyBpcyBhIGJpdCBvZiBhIGhhY2suIFdlIHRyYWNrIHRoZSBob3N0IHJvb3QgYXMgYSBwbGFjZW1lbnQgdG9cbiAgICAgICAgLy8ga25vdyB0aGF0IHdlJ3JlIGN1cnJlbnRseSBpbiBhIG1vdW50aW5nIHN0YXRlLiBUaGF0IHdheSBpc01vdW50ZWRcbiAgICAgICAgLy8gd29ya3MgYXMgZXhwZWN0ZWQuIFdlIG11c3QgcmVzZXQgdGhpcyBiZWZvcmUgY29tbWl0dGluZy5cbiAgICAgICAgLy8gVE9ETzogRGVsZXRlIHRoaXMgd2hlbiB3ZSBkZWxldGUgaXNNb3VudGVkIGFuZCBmaW5kRE9NTm9kZS5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFBsYWNlbWVudDtcblxuICAgICAgICAvLyBFbnN1cmUgdGhhdCBjaGlsZHJlbiBtb3VudCBpbnRvIHRoaXMgcm9vdCB3aXRob3V0IHRyYWNraW5nXG4gICAgICAgIC8vIHNpZGUtZWZmZWN0cy4gVGhpcyBlbnN1cmVzIHRoYXQgd2UgZG9uJ3Qgc3RvcmUgUGxhY2VtZW50IGVmZmVjdHMgb25cbiAgICAgICAgLy8gbm9kZXMgdGhhdCB3aWxsIGJlIGh5ZHJhdGVkLlxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG1vdW50Q2hpbGRGaWJlcnMoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgcmVzZXQgaHlkcmF0aW9uIHN0YXRlIGluIGNhc2Ugd2UgYWJvcnRlZCBhbmQgcmVzdW1lZCBhbm90aGVyXG4gICAgICAgIC8vIHJvb3QuXG4gICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgbWVtb2l6ZVN0YXRlKHdvcmtJblByb2dyZXNzLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAvLyBJZiB0aGVyZSBpcyBubyB1cGRhdGUgcXVldWUsIHRoYXQncyBhIGJhaWxvdXQgYmVjYXVzZSB0aGUgcm9vdCBoYXMgbm8gcHJvcHMuXG4gICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgIHRyeVRvQ2xhaW1OZXh0SHlkcmF0YWJsZUluc3RhbmNlKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIG1lbW9pemVkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBudWxsO1xuXG4gICAgaWYgKGhhc0xlZ2FjeUNvbnRleHRDaGFuZ2VkKCkpIHtcbiAgICAgIC8vIE5vcm1hbGx5IHdlIGNhbiBiYWlsIG91dCBvbiBwcm9wcyBlcXVhbGl0eSBidXQgaWYgY29udGV4dCBoYXMgY2hhbmdlZFxuICAgICAgLy8gd2UgZG9uJ3QgZG8gdGhlIGJhaWxvdXQgYW5kIHdlIGhhdmUgdG8gcmV1c2UgZXhpc3RpbmcgcHJvcHMgaW5zdGVhZC5cbiAgICB9IGVsc2UgaWYgKG1lbW9pemVkUHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgdmFyIGlzSGlkZGVuID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIEFzeW5jTW9kZSAmJlxuICAgICAgICBzaG91bGREZXByaW9yaXRpemVTdWJ0cmVlKHR5cGUsIG5leHRQcm9wcyk7XG4gICAgICBpZiAoaXNIaWRkZW4pIHtcbiAgICAgICAgLy8gQmVmb3JlIGJhaWxpbmcgb3V0LCBtYWtlIHN1cmUgd2UndmUgZGVwcmlvcml0aXplZCBhIGhpZGRlbiBjb21wb25lbnQuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gTmV2ZXI7XG4gICAgICB9XG4gICAgICBpZiAoIWlzSGlkZGVuIHx8IHJlbmRlckV4cGlyYXRpb25UaW1lICE9PSBOZXZlcikge1xuICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSdyZSByZW5kZXJpbmcgYSBoaWRkZW4gbm9kZSBhdCBoaWRkZW4gcHJpb3JpdHksIGRvbid0IGJhaWxvdXQuIFRoZVxuICAgICAgLy8gcGFyZW50IGlzIGNvbXBsZXRlLCBidXQgdGhlIGNoaWxkcmVuIG1heSBub3QgYmUuXG4gICAgfVxuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICB2YXIgaXNEaXJlY3RUZXh0Q2hpbGQgPSBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBuZXh0UHJvcHMpO1xuXG4gICAgaWYgKGlzRGlyZWN0VGV4dENoaWxkKSB7XG4gICAgICAvLyBXZSBzcGVjaWFsIGNhc2UgYSBkaXJlY3QgdGV4dCBjaGlsZCBvZiBhIGhvc3Qgbm9kZS4gVGhpcyBpcyBhIGNvbW1vblxuICAgICAgLy8gY2FzZS4gV2Ugd29uJ3QgaGFuZGxlIGl0IGFzIGEgcmVpZmllZCBjaGlsZC4gV2Ugd2lsbCBpbnN0ZWFkIGhhbmRsZVxuICAgICAgLy8gdGhpcyBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudCB0aGF0IGFsc28gaGF2ZSBhY2Nlc3MgdG8gdGhpcyBwcm9wLiBUaGF0XG4gICAgICAvLyBhdm9pZHMgYWxsb2NhdGluZyBhbm90aGVyIEhvc3RUZXh0IGZpYmVyIGFuZCB0cmF2ZXJzaW5nIGl0LlxuICAgICAgbmV4dENoaWxkcmVuID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHByZXZQcm9wcyAmJiBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBwcmV2UHJvcHMpKSB7XG4gICAgICAvLyBJZiB3ZSdyZSBzd2l0Y2hpbmcgZnJvbSBhIGRpcmVjdCB0ZXh0IGNoaWxkIHRvIGEgbm9ybWFsIGNoaWxkLCBvciB0b1xuICAgICAgLy8gZW1wdHksIHdlIG5lZWQgdG8gc2NoZWR1bGUgdGhlIHRleHQgY29udGVudCB0byBiZSByZXNldC5cbiAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBDb250ZW50UmVzZXQ7XG4gICAgfVxuXG4gICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBDaGVjayB0aGUgaG9zdCBjb25maWcgdG8gc2VlIGlmIHRoZSBjaGlsZHJlbiBhcmUgb2Zmc2NyZWVuL2hpZGRlbi5cbiAgICBpZiAoXG4gICAgICByZW5kZXJFeHBpcmF0aW9uVGltZSAhPT0gTmV2ZXIgJiZcbiAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUgJiBBc3luY01vZGUgJiZcbiAgICAgIHNob3VsZERlcHJpb3JpdGl6ZVN1YnRyZWUodHlwZSwgbmV4dFByb3BzKVxuICAgICkge1xuICAgICAgLy8gRG93bi1wcmlvcml0aXplIHRoZSBjaGlsZHJlbi5cbiAgICAgIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID0gTmV2ZXI7XG4gICAgICAvLyBCYWlsb3V0IGFuZCBjb21lIGJhY2sgdG8gdGhpcyBmaWJlciBsYXRlci5cbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuKTtcbiAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcyk7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlSG9zdFRleHQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUuIFRoaXMgaXMgdGVybWluYWwuIFdlJ2xsIGRvIHRoZSBjb21wbGV0aW9uIHN0ZXBcbiAgICAvLyBpbW1lZGlhdGVseSBhZnRlci5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdW50SW5kZXRlcm1pbmF0ZUNvbXBvbmVudChcbiAgICBjdXJyZW50LFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIGludmFyaWFudChcbiAgICAgIGN1cnJlbnQgPT09IG51bGwsXG4gICAgICBcIkFuIGluZGV0ZXJtaW5hdGUgY29tcG9uZW50IHNob3VsZCBuZXZlciBoYXZlIG1vdW50ZWQuIFRoaXMgZXJyb3IgaXMgXCIgK1xuICAgICAgICBcImxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcbiAgICB2YXIgZm4gPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICB2YXIgdW5tYXNrZWRDb250ZXh0ID0gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICB2YXIgY29udGV4dCA9IGdldE1hc2tlZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHVubWFza2VkQ29udGV4dCk7XG5cbiAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cbiAgICB7XG4gICAgICBpZiAoZm4ucHJvdG90eXBlICYmIHR5cGVvZiBmbi5wcm90b3R5cGUucmVuZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCBcIlVua25vd25cIjtcblxuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCJUaGUgPCVzIC8+IGNvbXBvbmVudCBhcHBlYXJzIHRvIGhhdmUgYSByZW5kZXIgbWV0aG9kLCBidXQgZG9lc24ndCBleHRlbmQgUmVhY3QuQ29tcG9uZW50LiBcIiArXG4gICAgICAgICAgICAgIFwiVGhpcyBpcyBsaWtlbHkgdG8gY2F1c2UgZXJyb3JzLiBDaGFuZ2UgJXMgdG8gZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdmFsdWUgPSBmbihwcm9wcywgY29udGV4dCk7XG4gICAgfVxuICAgIC8vIFJlYWN0IERldlRvb2xzIHJlYWRzIHRoaXMgZmxhZy5cbiAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gUGVyZm9ybWVkV29yaztcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgdmFsdWUuJCR0eXBlb2YgPT09IHVuZGVmaW5lZFxuICAgICkge1xuICAgICAgdmFyIENvbXBvbmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAgIC8vIFByb2NlZWQgdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGlzIGlzIGEgY2xhc3MgaW5zdGFuY2VcbiAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENsYXNzQ29tcG9uZW50O1xuXG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgdmFsdWUuc3RhdGUgIT09IG51bGwgJiYgdmFsdWUuc3RhdGUgIT09IHVuZGVmaW5lZCA/IHZhbHVlLnN0YXRlIDogbnVsbDtcblxuICAgICAgaWYgKHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxTdGF0ZSA9IGNhbGxHZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChwYXJ0aWFsU3RhdGUgIT09IG51bGwgJiYgcGFydGlhbFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICAgIHBhcnRpYWxTdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUHVzaCBjb250ZXh0IHByb3ZpZGVycyBlYXJseSB0byBwcmV2ZW50IGNvbnRleHQgc3RhY2sgbWlzbWF0Y2hlcy5cbiAgICAgIC8vIER1cmluZyBtb3VudGluZyB3ZSBkb24ndCBrbm93IHRoZSBjaGlsZCBjb250ZXh0IHlldCBhcyB0aGUgaW5zdGFuY2UgZG9lc24ndCBleGlzdC5cbiAgICAgIC8vIFdlIHdpbGwgaW52YWxpZGF0ZSB0aGUgY2hpbGQgY29udGV4dCBpbiBmaW5pc2hDbGFzc0NvbXBvbmVudCgpIHJpZ2h0IGFmdGVyIHJlbmRlcmluZy5cbiAgICAgIHZhciBoYXNDb250ZXh0ID0gcHVzaExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBhZG9wdENsYXNzSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHZhbHVlKTtcbiAgICAgIG1vdW50Q2xhc3NJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgcmV0dXJuIGZpbmlzaENsYXNzQ29tcG9uZW50KFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgaGFzQ29udGV4dCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBQcm9jZWVkIHVuZGVyIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBpcyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSBGdW5jdGlvbmFsQ29tcG9uZW50O1xuICAgICAge1xuICAgICAgICB2YXIgX0NvbXBvbmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG5cbiAgICAgICAgaWYgKF9Db21wb25lbnQpIHtcbiAgICAgICAgICAhIV9Db21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXNcbiAgICAgICAgICAgID8gd2FybmluZyhcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBcIiVzKC4uLik6IGNoaWxkQ29udGV4dFR5cGVzIGNhbm5vdCBiZSBkZWZpbmVkIG9uIGEgZnVuY3Rpb25hbCBjb21wb25lbnQuXCIsXG4gICAgICAgICAgICAgICAgX0NvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBfQ29tcG9uZW50Lm5hbWUgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MucmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGluZm8gPSBcIlwiO1xuICAgICAgICAgIHZhciBvd25lck5hbWUgPSBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlck93bmVyTmFtZSgpO1xuICAgICAgICAgIGlmIChvd25lck5hbWUpIHtcbiAgICAgICAgICAgIGluZm8gKz0gXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBvd25lck5hbWUgKyBcImAuXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHdhcm5pbmdLZXkgPSBvd25lck5hbWUgfHwgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSUQgfHwgXCJcIjtcbiAgICAgICAgICB2YXIgZGVidWdTb3VyY2UgPSB3b3JrSW5Qcm9ncmVzcy5fZGVidWdTb3VyY2U7XG4gICAgICAgICAgaWYgKGRlYnVnU291cmNlKSB7XG4gICAgICAgICAgICB3YXJuaW5nS2V5ID0gZGVidWdTb3VyY2UuZmlsZU5hbWUgKyBcIjpcIiArIGRlYnVnU291cmNlLmxpbmVOdW1iZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlkV2FybkFib3V0U3RhdGVsZXNzUmVmc1t3YXJuaW5nS2V5XSkge1xuICAgICAgICAgICAgZGlkV2FybkFib3V0U3RhdGVsZXNzUmVmc1t3YXJuaW5nS2V5XSA9IHRydWU7XG4gICAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCJTdGF0ZWxlc3MgZnVuY3Rpb24gY29tcG9uZW50cyBjYW5ub3QgYmUgZ2l2ZW4gcmVmcy4gXCIgK1xuICAgICAgICAgICAgICAgIFwiQXR0ZW1wdHMgdG8gYWNjZXNzIHRoaXMgcmVmIHdpbGwgZmFpbC4lcyVzXCIsXG4gICAgICAgICAgICAgIGluZm8sXG4gICAgICAgICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuZ2V0Q3VycmVudEZpYmVyU3RhY2tBZGRlbmR1bSgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZm4uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB2YXIgX2NvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lKHdvcmtJblByb2dyZXNzKSB8fCBcIlVua25vd25cIjtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uYWxDb21wb25lbnRbX2NvbXBvbmVudE5hbWVdXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCIlczogU3RhdGVsZXNzIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBkbyBub3Qgc3VwcG9ydCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXCIsXG4gICAgICAgICAgICAgIF9jb21wb25lbnROYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbmFsQ29tcG9uZW50W1xuICAgICAgICAgICAgICBfY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgdmFsdWUpO1xuICAgICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBwcm9wcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2FsbENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpIHtcbiAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAvLyBUT0RPOiBXaGVuIGJhaWxpbmcgb3V0LCB3ZSBtaWdodCBuZWVkIHRvIHJldHVybiB0aGUgc3RhdGVOb2RlIGluc3RlYWRcbiAgICAgIC8vIG9mIHRoZSBjaGlsZC4gVG8gY2hlY2sgaXQgZm9yIHdvcmsuXG4gICAgICAvLyByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgdmFyIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbjtcblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgaXMgYSBmb3JrIG9mIHJlY29uY2lsZUNoaWxkcmVuQXRFeHBpcmF0aW9uVGltZSBidXQgdXNpbmdcbiAgICAvLyBzdGF0ZU5vZGUgdG8gc3RvcmUgdGhlIGNoaWxkLlxuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBtb3VudENoaWxkRmliZXJzKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLFxuICAgICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIGN1cnJlbnQuc3RhdGVOb2RlLFxuICAgICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgIH1cblxuICAgIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKTtcbiAgICAvLyBUaGlzIGRvZXNuJ3QgdGFrZSBhcmJpdHJhcnkgdGltZSBzbyB3ZSBjb3VsZCBzeW5jaHJvbm91c2x5IGp1c3QgYmVnaW5cbiAgICAvLyBlYWdlcmx5IGRvIHRoZSB3b3JrIG9mIHdvcmtJblByb2dyZXNzLmNoaWxkIGFzIGFuIG9wdGltaXphdGlvbi5cbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsQ29tcG9uZW50KFxuICAgIGN1cnJlbnQsXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgcHVzaEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKTtcbiAgICB2YXIgbmV4dENoaWxkcmVuID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID09PSBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgLy8gUG9ydGFscyBhcmUgc3BlY2lhbCBiZWNhdXNlIHdlIGRvbid0IGFwcGVuZCB0aGUgY2hpbGRyZW4gZHVyaW5nIG1vdW50XG4gICAgICAvLyBidXQgYXQgY29tbWl0LiBUaGVyZWZvcmUgd2UgbmVlZCB0byB0cmFjayBpbnNlcnRpb25zIHdoaWNoIHRoZSBub3JtYWxcbiAgICAgIC8vIGZsb3cgZG9lc24ndCBkbyBkdXJpbmcgbW91bnQuIFRoaXMgZG9lc24ndCBoYXBwZW4gYXQgdGhlIHJvb3QgYmVjYXVzZVxuICAgICAgLy8gdGhlIHJvb3QgYWx3YXlzIHN0YXJ0cyB3aXRoIGEgXCJjdXJyZW50XCIgd2l0aCBhIG51bGwgY2hpbGQuXG4gICAgICAvLyBUT0RPOiBDb25zaWRlciB1bmlmeWluZyB0aGlzIHdpdGggaG93IHRoZSByb290IHdvcmtzLlxuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICk7XG4gICAgICBtZW1vaXplUHJvcHMod29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgICAgbWVtb2l6ZVByb3BzKHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlKFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIGNvbnRleHQsXG4gICAgY2hhbmdlZEJpdHMsXG4gICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgdmFyIGZpYmVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgaWYgKGZpYmVyICE9PSBudWxsKSB7XG4gICAgICAvLyBTZXQgdGhlIHJldHVybiBwb2ludGVyIG9mIHRoZSBjaGlsZCB0byB0aGUgd29yay1pbi1wcm9ncmVzcyBmaWJlci5cbiAgICAgIGZpYmVyW1wicmV0dXJuXCJdID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIHdoaWxlIChmaWJlciAhPT0gbnVsbCkge1xuICAgICAgdmFyIG5leHRGaWJlciA9IHZvaWQgMDtcbiAgICAgIC8vIFZpc2l0IHRoaXMgZmliZXIuXG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIENvbnRleHRDb25zdW1lcjpcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgY29udGV4dCBtYXRjaGVzLlxuICAgICAgICAgIHZhciBvYnNlcnZlZEJpdHMgPSBmaWJlci5zdGF0ZU5vZGUgfCAwO1xuICAgICAgICAgIGlmIChmaWJlci50eXBlID09PSBjb250ZXh0ICYmIChvYnNlcnZlZEJpdHMgJiBjaGFuZ2VkQml0cykgIT09IDApIHtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZXhwaXJhdGlvbiB0aW1lIG9mIGFsbCB0aGUgYW5jZXN0b3JzLCBpbmNsdWRpbmdcbiAgICAgICAgICAgIC8vIHRoZSBhbHRlcm5hdGVzLlxuICAgICAgICAgICAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgICAgICAgICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHZhciBhbHRlcm5hdGUgPSBub2RlLmFsdGVybmF0ZTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5vZGUuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgICAgICAgICAgIG5vZGUuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBub2RlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAoYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHxcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID4gcmVuZGVyRXhwaXJhdGlvblRpbWUpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPSByZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgKGFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgICAgICAgICAgICBhbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlLmV4cGlyYXRpb25UaW1lID0gcmVuZGVyRXhwaXJhdGlvblRpbWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVpdGhlciBhbHRlcm5hdGUgd2FzIHVwZGF0ZWQsIHdoaWNoIG1lYW5zIHRoZSByZXN0IG9mIHRoZVxuICAgICAgICAgICAgICAgIC8vIGFuY2VzdG9yIHBhdGggYWxyZWFkeSBoYXMgc3VmZmljaWVudCBwcmlvcml0eS5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvbid0IHNjYW4gZGVlcGVyIHRoYW4gYSBtYXRjaGluZyBjb25zdW1lci4gV2hlbiB3ZSByZW5kZXIgdGhlXG4gICAgICAgICAgICAvLyBjb25zdW1lciwgd2UnbGwgY29udGludWUgc2Nhbm5pbmcgZnJvbSB0aGF0IHBvaW50LiBUaGlzIHdheSB0aGVcbiAgICAgICAgICAgIC8vIHNjYW5uaW5nIHdvcmsgaXMgdGltZS1zbGljZWQuXG4gICAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUcmF2ZXJzZSBkb3duLlxuICAgICAgICAgICAgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnRleHRQcm92aWRlcjpcbiAgICAgICAgICAvLyBEb24ndCBzY2FuIGRlZXBlciBpZiB0aGlzIGlzIGEgbWF0Y2hpbmcgcHJvdmlkZXJcbiAgICAgICAgICBuZXh0RmliZXIgPSBmaWJlci50eXBlID09PSB3b3JrSW5Qcm9ncmVzcy50eXBlID8gbnVsbCA6IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIFRyYXZlcnNlIGRvd24uXG4gICAgICAgICAgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAobmV4dEZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFNldCB0aGUgcmV0dXJuIHBvaW50ZXIgb2YgdGhlIGNoaWxkIHRvIHRoZSB3b3JrLWluLXByb2dyZXNzIGZpYmVyLlxuICAgICAgICBuZXh0RmliZXJbXCJyZXR1cm5cIl0gPSBmaWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIGNoaWxkLiBUcmF2ZXJzZSB0byBuZXh0IHNpYmxpbmcuXG4gICAgICAgIG5leHRGaWJlciA9IGZpYmVyO1xuICAgICAgICB3aGlsZSAobmV4dEZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKG5leHRGaWJlciA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIGJhY2sgdG8gdGhlIHJvb3Qgb2YgdGhpcyBzdWJ0cmVlLiBFeGl0LlxuICAgICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc2libGluZyA9IG5leHRGaWJlci5zaWJsaW5nO1xuICAgICAgICAgIGlmIChzaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICBuZXh0RmliZXIgPSBzaWJsaW5nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIE5vIG1vcmUgc2libGluZ3MuIFRyYXZlcnNlIHVwLlxuICAgICAgICAgIG5leHRGaWJlciA9IG5leHRGaWJlcltcInJldHVyblwiXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmliZXIgPSBuZXh0RmliZXI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ29udGV4dFByb3ZpZGVyKFxuICAgIGN1cnJlbnQsXG4gICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAgdmFyIHByb3ZpZGVyVHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGNvbnRleHQgPSBwcm92aWRlclR5cGUuX2NvbnRleHQ7XG5cbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcblxuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmIChvbGRQcm9wcyA9PT0gbmV3UHJvcHMpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIHZhciBuZXdWYWx1ZSA9IG5ld1Byb3BzLnZhbHVlO1xuICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXdQcm9wcztcblxuICAgIHZhciBjaGFuZ2VkQml0cyA9IHZvaWQgMDtcbiAgICBpZiAob2xkUHJvcHMgPT09IG51bGwpIHtcbiAgICAgIC8vIEluaXRpYWwgcmVuZGVyXG4gICAgICBjaGFuZ2VkQml0cyA9IE1BWF9TSUdORURfMzFfQklUX0lOVDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9sZFByb3BzLnZhbHVlID09PSBuZXdQcm9wcy52YWx1ZSkge1xuICAgICAgICAvLyBObyBjaGFuZ2UuIEJhaWxvdXQgZWFybHkgaWYgY2hpbGRyZW4gYXJlIHRoZSBzYW1lLlxuICAgICAgICBpZiAob2xkUHJvcHMuY2hpbGRyZW4gPT09IG5ld1Byb3BzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gMDtcbiAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2VkQml0cyA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBvbGRQcm9wcy52YWx1ZTtcbiAgICAgICAgLy8gVXNlIE9iamVjdC5pcyB0byBjb21wYXJlIHRoZSBuZXcgY29udGV4dCB2YWx1ZSB0byB0aGUgb2xkIHZhbHVlLlxuICAgICAgICAvLyBJbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbC5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAgICAgIGlmIChcbiAgICAgICAgICAob2xkVmFsdWUgPT09IG5ld1ZhbHVlICYmXG4gICAgICAgICAgICAob2xkVmFsdWUgIT09IDAgfHwgMSAvIG9sZFZhbHVlID09PSAxIC8gbmV3VmFsdWUpKSB8fFxuICAgICAgICAgIChvbGRWYWx1ZSAhPT0gb2xkVmFsdWUgJiYgbmV3VmFsdWUgIT09IG5ld1ZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBObyBjaGFuZ2UuIEJhaWxvdXQgZWFybHkgaWYgY2hpbGRyZW4gYXJlIHRoZSBzYW1lLlxuICAgICAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IDA7XG4gICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFuZ2VkQml0cyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZEJpdHMgPVxuICAgICAgICAgICAgdHlwZW9mIGNvbnRleHQuX2NhbGN1bGF0ZUNoYW5nZWRCaXRzID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgICAgPyBjb250ZXh0Ll9jYWxjdWxhdGVDaGFuZ2VkQml0cyhvbGRWYWx1ZSwgbmV3VmFsdWUpXG4gICAgICAgICAgICAgIDogTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuICAgICAgICAgIHtcbiAgICAgICAgICAgICEoKGNoYW5nZWRCaXRzICYgTUFYX1NJR05FRF8zMV9CSVRfSU5UKSA9PT0gY2hhbmdlZEJpdHMpXG4gICAgICAgICAgICAgID8gd2FybmluZyhcbiAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgXCJjYWxjdWxhdGVDaGFuZ2VkQml0czogRXhwZWN0ZWQgdGhlIHJldHVybiB2YWx1ZSB0byBiZSBhIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCIzMS1iaXQgaW50ZWdlci4gSW5zdGVhZCByZWNlaXZlZDogJXNcIixcbiAgICAgICAgICAgICAgICAgIGNoYW5nZWRCaXRzXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhbmdlZEJpdHMgfD0gMDtcblxuICAgICAgICAgIGlmIChjaGFuZ2VkQml0cyA9PT0gMCkge1xuICAgICAgICAgICAgLy8gTm8gY2hhbmdlLiBCYWlsb3V0IGVhcmx5IGlmIGNoaWxkcmVuIGFyZSB0aGUgc2FtZS5cbiAgICAgICAgICAgIGlmIChvbGRQcm9wcy5jaGlsZHJlbiA9PT0gbmV3UHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gMDtcbiAgICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgY2hhbmdlZEJpdHMsXG4gICAgICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNoYW5nZWRCaXRzO1xuICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICB2YXIgbmV3Q2hpbGRyZW4gPSBuZXdQcm9wcy5jaGlsZHJlbjtcbiAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV3Q2hpbGRyZW4pO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRleHRDb25zdW1lcihcbiAgICBjdXJyZW50LFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHZhciBjb250ZXh0ID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgdmFyIG9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcblxuICAgIHZhciBuZXdWYWx1ZSA9IGNvbnRleHQuX2N1cnJlbnRWYWx1ZTtcbiAgICB2YXIgY2hhbmdlZEJpdHMgPSBjb250ZXh0Ll9jaGFuZ2VkQml0cztcblxuICAgIGlmIChoYXNMZWdhY3lDb250ZXh0Q2hhbmdlZCgpKSB7XG4gICAgICAvLyBOb3JtYWxseSB3ZSBjYW4gYmFpbCBvdXQgb24gcHJvcHMgZXF1YWxpdHkgYnV0IGlmIGNvbnRleHQgaGFzIGNoYW5nZWRcbiAgICAgIC8vIHdlIGRvbid0IGRvIHRoZSBiYWlsb3V0IGFuZCB3ZSBoYXZlIHRvIHJldXNlIGV4aXN0aW5nIHByb3BzIGluc3RlYWQuXG4gICAgfSBlbHNlIGlmIChjaGFuZ2VkQml0cyA9PT0gMCAmJiBvbGRQcm9wcyA9PT0gbmV3UHJvcHMpIHtcbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5ld1Byb3BzO1xuXG4gICAgdmFyIG9ic2VydmVkQml0cyA9IG5ld1Byb3BzLnVuc3RhYmxlX29ic2VydmVkQml0cztcbiAgICBpZiAob2JzZXJ2ZWRCaXRzID09PSB1bmRlZmluZWQgfHwgb2JzZXJ2ZWRCaXRzID09PSBudWxsKSB7XG4gICAgICAvLyBTdWJzY3JpYmUgdG8gYWxsIGNoYW5nZXMgYnkgZGVmYXVsdFxuICAgICAgb2JzZXJ2ZWRCaXRzID0gTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuICAgIH1cbiAgICAvLyBTdG9yZSB0aGUgb2JzZXJ2ZWRCaXRzIG9uIHRoZSBmaWJlcidzIHN0YXRlTm9kZSBmb3IgcXVpY2sgYWNjZXNzLlxuICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG9ic2VydmVkQml0cztcblxuICAgIGlmICgoY2hhbmdlZEJpdHMgJiBvYnNlcnZlZEJpdHMpICE9PSAwKSB7XG4gICAgICAvLyBDb250ZXh0IGNoYW5nZSBwcm9wYWdhdGlvbiBzdG9wcyBhdCBtYXRjaGluZyBjb25zdW1lcnMsIGZvciB0aW1lLVxuICAgICAgLy8gc2xpY2luZy4gQ29udGludWUgdGhlIHByb3BhZ2F0aW9uIGhlcmUuXG4gICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY2hhbmdlZEJpdHMsXG4gICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBUaGVyZSBpcyBubyBiYWlsb3V0IG9uIGBjaGlsZHJlbmAgZXF1YWxpdHkgYmVjYXVzZSB3ZSBleHBlY3QgcGVvcGxlXG4gICAgLy8gdG8gb2Z0ZW4gcGFzcyBhIGJvdW5kIG1ldGhvZCBhcyBhIGNoaWxkLCBidXQgaXQgbWF5IHJlZmVyZW5jZVxuICAgIC8vIGB0aGlzLnN0YXRlYCBvciBgdGhpcy5wcm9wc2AgKGFuZCB0aHVzIG5lZWRzIHRvIHJlLXJlbmRlciBvbiBgc2V0U3RhdGVgKS5cblxuICAgIHZhciByZW5kZXIgPSBuZXdQcm9wcy5jaGlsZHJlbjtcblxuICAgIHtcbiAgICAgICEodHlwZW9mIHJlbmRlciA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiQSBjb250ZXh0IGNvbnN1bWVyIHdhcyByZW5kZXJlZCB3aXRoIG11bHRpcGxlIGNoaWxkcmVuLCBvciBhIGNoaWxkIFwiICtcbiAgICAgICAgICAgICAgXCJ0aGF0IGlzbid0IGEgZnVuY3Rpb24uIEEgY29udGV4dCBjb25zdW1lciBleHBlY3RzIGEgc2luZ2xlIGNoaWxkIFwiICtcbiAgICAgICAgICAgICAgXCJ0aGF0IGlzIGEgZnVuY3Rpb24uIElmIHlvdSBkaWQgcGFzcyBhIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdGhlcmUgXCIgK1xuICAgICAgICAgICAgICBcImlzIG5vIHRyYWlsaW5nIG9yIGxlYWRpbmcgd2hpdGVzcGFjZSBhcm91bmQgaXQuXCJcbiAgICAgICAgICApXG4gICAgICAgIDogdm9pZCAwO1xuICAgIH1cblxuICAgIHZhciBuZXdDaGlsZHJlbiA9IHJlbmRlcihuZXdWYWx1ZSk7XG4gICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5ld0NoaWxkcmVuKTtcbiAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gIH1cblxuICAvKlxuICBmdW5jdGlvbiByZXVzZUNoaWxkcmVuRWZmZWN0cyhyZXR1cm5GaWJlciA6IEZpYmVyLCBmaXJzdENoaWxkIDogRmliZXIpIHtcbiAgICBsZXQgY2hpbGQgPSBmaXJzdENoaWxkO1xuICAgIGRvIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBmaXJzdCBhbmQgbGFzdCBlZmZlY3Qgb2YgdGhlIHBhcmVudCBjb3JyZXNwb25kc1xuICAgICAgLy8gdG8gdGhlIGNoaWxkcmVuJ3MgZmlyc3QgYW5kIGxhc3QgZWZmZWN0LlxuICAgICAgaWYgKCFyZXR1cm5GaWJlci5maXJzdEVmZmVjdCkge1xuICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IGNoaWxkLmZpcnN0RWZmZWN0O1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QpIHtcbiAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSBjaGlsZC5maXJzdEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gY2hpbGQubGFzdEVmZmVjdDtcbiAgICAgIH1cbiAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICB9XG4gICovXG5cbiAgZnVuY3Rpb24gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIGNhbmNlbFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAvLyBUT0RPOiBXZSBzaG91bGQgaWRlYWxseSBiZSBhYmxlIHRvIGJhaWwgb3V0IGVhcmx5IGlmIHRoZSBjaGlsZHJlbiBoYXZlIG5vXG4gICAgLy8gbW9yZSB3b3JrIHRvIGRvLiBIb3dldmVyLCBzaW5jZSB3ZSBkb24ndCBoYXZlIGEgc2VwYXJhdGlvbiBvZiB0aGlzXG4gICAgLy8gRmliZXIncyBwcmlvcml0eSBhbmQgaXRzIGNoaWxkcmVuIHlldCAtIHdlIGRvbid0IGtub3cgd2l0aG91dCBkb2luZyBsb3RzXG4gICAgLy8gb2YgdGhlIHNhbWUgd29yayB3ZSBkbyBhbnl3YXkuIE9uY2Ugd2UgaGF2ZSB0aGF0IHNlcGFyYXRpb24gd2UgY2FuIGp1c3RcbiAgICAvLyBiYWlsIG91dCBoZXJlIGlmIHRoZSBjaGlsZHJlbiBoYXMgbm8gbW9yZSB3b3JrIGF0IHRoaXMgcHJpb3JpdHkgbGV2ZWwuXG4gICAgLy8gaWYgKHdvcmtJblByb2dyZXNzLnByaW9yaXR5T2ZDaGlsZHJlbiA8PSBwcmlvcml0eUxldmVsKSB7XG4gICAgLy8gICAvLyBJZiB0aGVyZSBhcmUgc2lkZS1lZmZlY3RzIGluIHRoZXNlIGNoaWxkcmVuIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW5cbiAgICAvLyAgIC8vIGNvbW1pdHRlZCB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgZ2V0IHByb3Blcmx5IHRyYW5zZmVycmVkIHVwLlxuICAgIC8vICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC5jaGlsZCAhPT0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpIHtcbiAgICAvLyAgICAgcmV1c2VDaGlsZHJlbkVmZmVjdHMod29ya0luUHJvZ3Jlc3MsIGNoaWxkKTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIHJldHVybiBudWxsO1xuICAgIC8vIH1cblxuICAgIGNsb25lQ2hpbGRGaWJlcnMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgY2FuY2VsV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgIC8vIFRPRE86IEhhbmRsZSBIb3N0Q29tcG9uZW50IHRhZ3MgaGVyZSBhcyB3ZWxsIGFuZCBjYWxsIHB1c2hIb3N0Q29udGV4dCgpP1xuICAgIC8vIFNlZSBQUiA4NTkwIGRpc2N1c3Npb24gZm9yIGNvbnRleHRcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgcHVzaEhvc3RSb290Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgcHVzaExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gVE9ETzogV2hhdCBpZiB0aGlzIGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcz9cbiAgICAvLyBIb3cgY2FuIHRoYXQgaGFwcGVuPyBIb3cgaXMgdGhpcyBub3QgYmVpbmcgY2xvbmVkP1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gVE9ETzogRGVsZXRlIG1lbW9pemVQcm9wcy9TdGF0ZSBhbmQgbW92ZSB0byByZWNvbmNpbGUvYmFpbG91dCBpbnN0ZWFkXG4gIGZ1bmN0aW9uIG1lbW9pemVQcm9wcyh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lbW9pemVTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFN0YXRlKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAvLyBEb24ndCByZXNldCB0aGUgdXBkYXRlUXVldWUsIGluIGNhc2UgdGhlcmUgYXJlIHBlbmRpbmcgdXBkYXRlcy4gUmVzZXR0aW5nXG4gICAgLy8gaXMgaGFuZGxlZCBieSBwcm9jZXNzVXBkYXRlUXVldWUuXG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckV4cGlyYXRpb25UaW1lKSB7XG4gICAgaWYgKFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPiByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICkge1xuICAgICAgcmV0dXJuIGJhaWxvdXRPbkxvd1ByaW9yaXR5KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBJbmRldGVybWluYXRlQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbW91bnRJbmRldGVybWluYXRlQ29tcG9uZW50KFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgRnVuY3Rpb25hbENvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHJldHVybiB1cGRhdGVIb3N0Um9vdChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyRXhwaXJhdGlvblRpbWUpO1xuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlSG9zdENvbXBvbmVudChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIEhvc3RUZXh0OlxuICAgICAgICByZXR1cm4gdXBkYXRlSG9zdFRleHQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgY2FzZSBDYWxsSGFuZGxlclBoYXNlOlxuICAgICAgICAvLyBUaGlzIGlzIGEgcmVzdGFydC4gUmVzZXQgdGhlIHRhZyB0byB0aGUgaW5pdGlhbCBwaGFzZS5cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gQ2FsbENvbXBvbmVudDtcbiAgICAgIC8vIEludGVudGlvbmFsbHkgZmFsbCB0aHJvdWdoIHNpbmNlIHRoaXMgaXMgbm93IHRoZSBzYW1lLlxuICAgICAgY2FzZSBDYWxsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbENvbXBvbmVudChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIFJldHVybkNvbXBvbmVudDpcbiAgICAgICAgLy8gQSByZXR1cm4gY29tcG9uZW50IGlzIGp1c3QgYSBwbGFjZWhvbGRlciwgd2UgY2FuIGp1c3QgcnVuIHRocm91Z2ggdGhlXG4gICAgICAgIC8vIG5leHQgb25lIGltbWVkaWF0ZWx5LlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVBvcnRhbENvbXBvbmVudChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHJldHVybiB1cGRhdGVGb3J3YXJkUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIHJldHVybiB1cGRhdGVGcmFnbWVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBjYXNlIE1vZGU6XG4gICAgICAgIHJldHVybiB1cGRhdGVNb2RlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICByZXR1cm4gdXBkYXRlQ29udGV4dFByb3ZpZGVyKFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgQ29udGV4dENvbnN1bWVyOlxuICAgICAgICByZXR1cm4gdXBkYXRlQ29udGV4dENvbnN1bWVyKFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIlVua25vd24gdW5pdCBvZiB3b3JrIHRhZy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFwiICtcbiAgICAgICAgICAgIFwiUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiZWdpbldvcms6IGJlZ2luV29ya1xuICB9O1xufTtcblxudmFyIFJlYWN0RmliZXJDb21wbGV0ZVdvcmsgPSBmdW5jdGlvbihcbiAgY29uZmlnLFxuICBob3N0Q29udGV4dCxcbiAgbGVnYWN5Q29udGV4dCxcbiAgbmV3Q29udGV4dCxcbiAgaHlkcmF0aW9uQ29udGV4dFxuKSB7XG4gIHZhciBjcmVhdGVJbnN0YW5jZSA9IGNvbmZpZy5jcmVhdGVJbnN0YW5jZSxcbiAgICBjcmVhdGVUZXh0SW5zdGFuY2UgPSBjb25maWcuY3JlYXRlVGV4dEluc3RhbmNlLFxuICAgIGFwcGVuZEluaXRpYWxDaGlsZCA9IGNvbmZpZy5hcHBlbmRJbml0aWFsQ2hpbGQsXG4gICAgZmluYWxpemVJbml0aWFsQ2hpbGRyZW4gPSBjb25maWcuZmluYWxpemVJbml0aWFsQ2hpbGRyZW4sXG4gICAgcHJlcGFyZVVwZGF0ZSA9IGNvbmZpZy5wcmVwYXJlVXBkYXRlLFxuICAgIG11dGF0aW9uID0gY29uZmlnLm11dGF0aW9uLFxuICAgIHBlcnNpc3RlbmNlID0gY29uZmlnLnBlcnNpc3RlbmNlO1xuICB2YXIgZ2V0Um9vdEhvc3RDb250YWluZXIgPSBob3N0Q29udGV4dC5nZXRSb290SG9zdENvbnRhaW5lcixcbiAgICBwb3BIb3N0Q29udGV4dCA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250ZXh0LFxuICAgIGdldEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQuZ2V0SG9zdENvbnRleHQsXG4gICAgcG9wSG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250YWluZXI7XG4gIHZhciBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIgPSBsZWdhY3lDb250ZXh0LnBvcENvbnRleHRQcm92aWRlcixcbiAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QgPSBsZWdhY3lDb250ZXh0LnBvcFRvcExldmVsQ29udGV4dE9iamVjdDtcbiAgdmFyIHBvcFByb3ZpZGVyID0gbmV3Q29udGV4dC5wb3BQcm92aWRlcjtcbiAgdmFyIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UgPVxuICAgICAgaHlkcmF0aW9uQ29udGV4dC5wcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlLFxuICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0VGV4dEluc3RhbmNlID1cbiAgICAgIGh5ZHJhdGlvbkNvbnRleHQucHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UsXG4gICAgcG9wSHlkcmF0aW9uU3RhdGUgPSBoeWRyYXRpb25Db250ZXh0LnBvcEh5ZHJhdGlvblN0YXRlO1xuXG4gIGZ1bmN0aW9uIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAvLyBUYWcgdGhlIGZpYmVyIHdpdGggYW4gdXBkYXRlIGVmZmVjdC4gVGhpcyB0dXJucyBhIFBsYWNlbWVudCBpbnRvXG4gICAgLy8gYW4gVXBkYXRlQW5kUGxhY2VtZW50LlxuICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyB8PSBVcGRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrUmVmKHdvcmtJblByb2dyZXNzKSB7XG4gICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFJlZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZEFsbFJldHVybnMocmV0dXJucywgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgbm9kZVtcInJldHVyblwiXSA9IHdvcmtJblByb2dyZXNzO1xuICAgIH1cbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgaWYgKFxuICAgICAgICBub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fFxuICAgICAgICBub2RlLnRhZyA9PT0gSG9zdFRleHQgfHxcbiAgICAgICAgbm9kZS50YWcgPT09IEhvc3RQb3J0YWxcbiAgICAgICkge1xuICAgICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiQSBjYWxsIGNhbm5vdCBoYXZlIGhvc3QgY29tcG9uZW50IGNoaWxkcmVuLlwiKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IFJldHVybkNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm5zLnB1c2gobm9kZS5wZW5kaW5nUHJvcHMudmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlW1wicmV0dXJuXCJdID09PSBudWxsIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgfVxuICAgICAgbm9kZS5zaWJsaW5nW1wicmV0dXJuXCJdID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbW92ZUNhbGxUb0hhbmRsZXJQaGFzZShcbiAgICBjdXJyZW50LFxuICAgIHdvcmtJblByb2dyZXNzLFxuICAgIHJlbmRlckV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHZhciBwcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgaW52YXJpYW50KFxuICAgICAgcHJvcHMsXG4gICAgICBcIlNob3VsZCBiZSByZXNvbHZlZCBieSBub3cuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBcIiArXG4gICAgICAgIFwiUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcblxuICAgIC8vIEZpcnN0IHN0ZXAgb2YgdGhlIGNhbGwgaGFzIGNvbXBsZXRlZC4gTm93IHdlIG5lZWQgdG8gZG8gdGhlIHNlY29uZC5cbiAgICAvLyBUT0RPOiBJdCB3b3VsZCBiZSBuaWNlIHRvIGhhdmUgYSBtdWx0aSBzdGFnZSBjYWxsIHJlcHJlc2VudGVkIGJ5IGFcbiAgICAvLyBzaW5nbGUgY29tcG9uZW50LCBvciBhdCBsZWFzdCB0YWlsIGNhbGwgb3B0aW1pemUgbmVzdGVkIG9uZXMuIEN1cnJlbnRseVxuICAgIC8vIHRoYXQgcmVxdWlyZXMgYWRkaXRpb25hbCBmaWVsZHMgdGhhdCB3ZSBkb24ndCB3YW50IHRvIGFkZCB0byB0aGUgZmliZXIuXG4gICAgLy8gU28gdGhpcyByZXF1aXJlcyBuZXN0ZWQgaGFuZGxlcnMuXG4gICAgLy8gTm90ZTogVGhpcyBkb2Vzbid0IG11dGF0ZSB0aGUgYWx0ZXJuYXRlIG5vZGUuIEkgZG9uJ3QgdGhpbmsgaXQgbmVlZHMgdG9cbiAgICAvLyBzaW5jZSB0aGlzIHN0YWdlIGlzIHJlc2V0IGZvciBldmVyeSBwYXNzLlxuICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENhbGxIYW5kbGVyUGhhc2U7XG5cbiAgICAvLyBCdWlsZCB1cCB0aGUgcmV0dXJucy5cbiAgICAvLyBUT0RPOiBDb21wYXJlIHRoaXMgdG8gYSBnZW5lcmF0b3Igb3Igb3BhcXVlIGhlbHBlcnMgbGlrZSBDaGlsZHJlbi5cbiAgICB2YXIgcmV0dXJucyA9IFtdO1xuICAgIGFwcGVuZEFsbFJldHVybnMocmV0dXJucywgd29ya0luUHJvZ3Jlc3MpO1xuICAgIHZhciBmbiA9IHByb3BzLmhhbmRsZXI7XG4gICAgdmFyIGNoaWxkUHJvcHMgPSBwcm9wcy5wcm9wcztcbiAgICB2YXIgbmV4dENoaWxkcmVuID0gZm4oY2hpbGRQcm9wcywgcmV0dXJucyk7XG5cbiAgICB2YXIgY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50ICE9PSBudWxsID8gY3VycmVudC5jaGlsZCA6IG51bGw7XG4gICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICk7XG4gICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQWxsQ2hpbGRyZW4ocGFyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGNyZWF0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgIC8vIGNoaWxkcmVuIHRvIGZpbmQgYWxsIHRoZSB0ZXJtaW5hbCBub2Rlcy5cbiAgICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RDb21wb25lbnQgfHwgbm9kZS50YWcgPT09IEhvc3RUZXh0KSB7XG4gICAgICAgIGFwcGVuZEluaXRpYWxDaGlsZChwYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBvcnRhbCBjaGlsZCwgdGhlbiB3ZSBkb24ndCB3YW50IHRvIHRyYXZlcnNlXG4gICAgICAgIC8vIGRvd24gaXRzIGNoaWxkcmVuLiBJbnN0ZWFkLCB3ZSdsbCBnZXQgaW5zZXJ0aW9ucyBmcm9tIGVhY2ggY2hpbGQgaW5cbiAgICAgICAgLy8gdGhlIHBvcnRhbCBkaXJlY3RseS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBub2RlLmNoaWxkW1wicmV0dXJuXCJdID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbXCJyZXR1cm5cIl0gPT09IG51bGwgfHwgbm9kZVtcInJldHVyblwiXSA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbXCJyZXR1cm5cIl0gPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cblxuICB2YXIgdXBkYXRlSG9zdENvbnRhaW5lciA9IHZvaWQgMDtcbiAgdmFyIHVwZGF0ZUhvc3RDb21wb25lbnQgPSB2b2lkIDA7XG4gIHZhciB1cGRhdGVIb3N0VGV4dCA9IHZvaWQgMDtcbiAgaWYgKG11dGF0aW9uKSB7XG4gICAgaWYgKGVuYWJsZU11dGF0aW5nUmVjb25jaWxlcikge1xuICAgICAgLy8gTXV0YXRpb24gbW9kZVxuICAgICAgdXBkYXRlSG9zdENvbnRhaW5lciA9IGZ1bmN0aW9uKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29tcG9uZW50ID0gZnVuY3Rpb24oXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgICB0eXBlLFxuICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgICAgY3VycmVudEhvc3RDb250ZXh0XG4gICAgICApIHtcbiAgICAgICAgLy8gVE9ETzogVHlwZSB0aGlzIHNwZWNpZmljIHRvIHRoaXMgdHlwZSBvZiBjb21wb25lbnQuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gdXBkYXRlUGF5bG9hZDtcbiAgICAgICAgLy8gSWYgdGhlIHVwZGF0ZSBwYXlsb2FkIGluZGljYXRlcyB0aGF0IHRoZXJlIGlzIGEgY2hhbmdlIG9yIGlmIHRoZXJlXG4gICAgICAgIC8vIGlzIGEgbmV3IHJlZiB3ZSBtYXJrIHRoaXMgYXMgYW4gdXBkYXRlLiBBbGwgdGhlIHdvcmsgaXMgZG9uZSBpbiBjb21taXRXb3JrLlxuICAgICAgICBpZiAodXBkYXRlUGF5bG9hZCkge1xuICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdXBkYXRlSG9zdFRleHQgPSBmdW5jdGlvbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgICAvLyBJZiB0aGUgdGV4dCBkaWZmZXJzLCBtYXJrIGl0IGFzIGFuIHVwZGF0ZS4gQWxsIHRoZSB3b3JrIGluIGRvbmUgaW4gY29tbWl0V29yay5cbiAgICAgICAgaWYgKG9sZFRleHQgIT09IG5ld1RleHQpIHtcbiAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIk11dGF0aW5nIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwZXJzaXN0ZW5jZSkge1xuICAgIGlmIChlbmFibGVQZXJzaXN0ZW50UmVjb25jaWxlcikge1xuICAgICAgLy8gUGVyc2lzdGVudCBob3N0IHRyZWUgbW9kZVxuICAgICAgdmFyIGNsb25lSW5zdGFuY2UgPSBwZXJzaXN0ZW5jZS5jbG9uZUluc3RhbmNlLFxuICAgICAgICBjcmVhdGVDb250YWluZXJDaGlsZFNldCA9IHBlcnNpc3RlbmNlLmNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0LFxuICAgICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyQ2hpbGRTZXQgPVxuICAgICAgICAgIHBlcnNpc3RlbmNlLmFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldCxcbiAgICAgICAgZmluYWxpemVDb250YWluZXJDaGlsZHJlbiA9IHBlcnNpc3RlbmNlLmZpbmFsaXplQ29udGFpbmVyQ2hpbGRyZW47XG5cbiAgICAgIC8vIEFuIHVuZm9ydHVuYXRlIGZvcmsgb2YgYXBwZW5kQWxsQ2hpbGRyZW4gYmVjYXVzZSB3ZSBoYXZlIHR3byBkaWZmZXJlbnQgcGFyZW50IHR5cGVzLlxuXG4gICAgICB2YXIgYXBwZW5kQWxsQ2hpbGRyZW5Ub0NvbnRhaW5lciA9IGZ1bmN0aW9uKFxuICAgICAgICBjb250YWluZXJDaGlsZFNldCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICkge1xuICAgICAgICAvLyBXZSBvbmx5IGhhdmUgdGhlIHRvcCBGaWJlciB0aGF0IHdhcyBjcmVhdGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICAgICAgLy8gY2hpbGRyZW4gdG8gZmluZCBhbGwgdGhlIHRlcm1pbmFsIG5vZGVzLlxuICAgICAgICB2YXIgbm9kZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkVG9Db250YWluZXJDaGlsZFNldChjb250YWluZXJDaGlsZFNldCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSBwb3J0YWwgY2hpbGQsIHRoZW4gd2UgZG9uJ3Qgd2FudCB0byB0cmF2ZXJzZVxuICAgICAgICAgICAgLy8gZG93biBpdHMgY2hpbGRyZW4uIEluc3RlYWQsIHdlJ2xsIGdldCBpbnNlcnRpb25zIGZyb20gZWFjaCBjaGlsZCBpblxuICAgICAgICAgICAgLy8gdGhlIHBvcnRhbCBkaXJlY3RseS5cbiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChub2RlW1wicmV0dXJuXCJdID09PSBudWxsIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnNpYmxpbmdbXCJyZXR1cm5cIl0gPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29udGFpbmVyID0gZnVuY3Rpb24od29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgdmFyIHBvcnRhbE9yUm9vdCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIGNoaWxkcmVuVW5jaGFuZ2VkID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3QgPT09IG51bGw7XG4gICAgICAgIGlmIChjaGlsZHJlblVuY2hhbmdlZCkge1xuICAgICAgICAgIC8vIE5vIGNoYW5nZXMsIGp1c3QgcmV1c2UgdGhlIGV4aXN0aW5nIGluc3RhbmNlLlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBwb3J0YWxPclJvb3QuY29udGFpbmVySW5mbztcbiAgICAgICAgICB2YXIgbmV3Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXIpO1xuICAgICAgICAgIC8vIElmIGNoaWxkcmVuIG1pZ2h0IGhhdmUgY2hhbmdlZCwgd2UgaGF2ZSB0byBhZGQgdGhlbSBhbGwgdG8gdGhlIHNldC5cbiAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlblRvQ29udGFpbmVyKG5ld0NoaWxkU2V0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcG9ydGFsT3JSb290LnBlbmRpbmdDaGlsZHJlbiA9IG5ld0NoaWxkU2V0O1xuICAgICAgICAgIC8vIFNjaGVkdWxlIGFuIHVwZGF0ZSBvbiB0aGUgY29udGFpbmVyIHRvIHN3YXAgb3V0IHRoZSBjb250YWluZXIuXG4gICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZmluYWxpemVDb250YWluZXJDaGlsZHJlbihjb250YWluZXIsIG5ld0NoaWxkU2V0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RDb21wb25lbnQgPSBmdW5jdGlvbihcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIG9sZFByb3BzLFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICBjdXJyZW50SG9zdENvbnRleHRcbiAgICAgICkge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gZWZmZWN0cyBhc3NvY2lhdGVkIHdpdGggdGhpcyBub2RlLCB0aGVuIG5vbmUgb2Ygb3VyIGNoaWxkcmVuIGhhZCBhbnkgdXBkYXRlcy5cbiAgICAgICAgLy8gVGhpcyBndWFyYW50ZWVzIHRoYXQgd2UgY2FuIHJldXNlIGFsbCBvZiB0aGVtLlxuICAgICAgICB2YXIgY2hpbGRyZW5VbmNoYW5nZWQgPSB3b3JrSW5Qcm9ncmVzcy5maXJzdEVmZmVjdCA9PT0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRJbnN0YW5jZSA9IGN1cnJlbnQuc3RhdGVOb2RlO1xuICAgICAgICBpZiAoY2hpbGRyZW5VbmNoYW5nZWQgJiYgdXBkYXRlUGF5bG9hZCA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIE5vIGNoYW5nZXMsIGp1c3QgcmV1c2UgdGhlIGV4aXN0aW5nIGluc3RhbmNlLlxuICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIG1pZ2h0IHJlbGVhc2UgYSBwcmV2aW91cyBjbG9uZS5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50SW5zdGFuY2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlY3ljbGFibGVJbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgbmV3SW5zdGFuY2UgPSBjbG9uZUluc3RhbmNlKFxuICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLFxuICAgICAgICAgICAgdXBkYXRlUGF5bG9hZCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBjaGlsZHJlblVuY2hhbmdlZCxcbiAgICAgICAgICAgIHJlY3ljbGFibGVJbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmluYWxpemVJbml0aWFsQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIG5ld0luc3RhbmNlLFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICAgICAgICBjdXJyZW50SG9zdENvbnRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBuZXdJbnN0YW5jZTtcbiAgICAgICAgICBpZiAoY2hpbGRyZW5VbmNoYW5nZWQpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBvdGhlciBlZmZlY3RzIGluIHRoaXMgdHJlZSwgd2UgbmVlZCB0byBmbGFnIHRoaXMgbm9kZSBhcyBoYXZpbmcgb25lLlxuICAgICAgICAgICAgLy8gRXZlbiB0aG91Z2ggd2UncmUgbm90IGdvaW5nIHRvIHVzZSBpdCBmb3IgYW55dGhpbmcuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgcGFyZW50cyB3b24ndCBrbm93IHRoYXQgdGhlcmUgYXJlIG5ldyBjaGlsZHJlbiB0byBwcm9wYWdhdGUgdXB3YXJkcy5cbiAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBjaGlsZHJlbiBtaWdodCBoYXZlIGNoYW5nZWQsIHdlIGhhdmUgdG8gYWRkIHRoZW0gYWxsIHRvIHRoZSBzZXQuXG4gICAgICAgICAgICBhcHBlbmRBbGxDaGlsZHJlbihuZXdJbnN0YW5jZSwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RUZXh0ID0gZnVuY3Rpb24oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgICAgaWYgKG9sZFRleHQgIT09IG5ld1RleHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgdGV4dCBjb250ZW50IGRpZmZlcnMsIHdlJ2xsIGNyZWF0ZSBhIG5ldyB0ZXh0IGluc3RhbmNlIGZvciBpdC5cbiAgICAgICAgICB2YXIgcm9vdENvbnRhaW5lckluc3RhbmNlID0gZ2V0Um9vdEhvc3RDb250YWluZXIoKTtcbiAgICAgICAgICB2YXIgY3VycmVudEhvc3RDb250ZXh0ID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjcmVhdGVUZXh0SW5zdGFuY2UoXG4gICAgICAgICAgICBuZXdUZXh0LFxuICAgICAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICAgICAgY3VycmVudEhvc3RDb250ZXh0LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIFdlJ2xsIGhhdmUgdG8gbWFyayBpdCBhcyBoYXZpbmcgYW4gZWZmZWN0LCBldmVuIHRob3VnaCB3ZSB3b24ndCB1c2UgdGhlIGVmZmVjdCBmb3IgYW55dGhpbmcuXG4gICAgICAgICAgLy8gVGhpcyBsZXRzIHRoZSBwYXJlbnRzIGtub3cgdGhhdCBhdCBsZWFzdCBvbmUgb2YgdGhlaXIgY2hpbGRyZW4gaGFzIGNoYW5nZWQuXG4gICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJQZXJzaXN0ZW50IHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuXCIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZW5hYmxlTm9vcFJlY29uY2lsZXIpIHtcbiAgICAgIC8vIE5vIGhvc3Qgb3BlcmF0aW9uc1xuICAgICAgdXBkYXRlSG9zdENvbnRhaW5lciA9IGZ1bmN0aW9uKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIC8vIE5vb3BcbiAgICAgIH07XG4gICAgICB1cGRhdGVIb3N0Q29tcG9uZW50ID0gZnVuY3Rpb24oXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB1cGRhdGVQYXlsb2FkLFxuICAgICAgICB0eXBlLFxuICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgICAgY3VycmVudEhvc3RDb250ZXh0XG4gICAgICApIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfTtcbiAgICAgIHVwZGF0ZUhvc3RUZXh0ID0gZnVuY3Rpb24oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIk5vb3AgcmVjb25jaWxlciBpcyBkaXNhYmxlZC5cIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJFeHBpcmF0aW9uVGltZSkge1xuICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBGdW5jdGlvbmFsQ29tcG9uZW50OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6IHtcbiAgICAgICAgLy8gV2UgYXJlIGxlYXZpbmcgdGhpcyBzdWJ0cmVlLCBzbyBwb3AgY29udGV4dCBpZiBhbnkuXG4gICAgICAgIHBvcExlZ2FjeUNvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG5cbiAgICAgICAgLy8gSWYgdGhpcyBjb21wb25lbnQgY2F1Z2h0IGFuIGVycm9yLCBzY2hlZHVsZSBhbiBlcnJvciBsb2cgZWZmZWN0LlxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJj0gfkRpZENhcHR1cmU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gRXJyTG9nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb3JtYWxseSB3ZSBjbGVhciB0aGlzIGluIHRoZSBjb21taXQgcGhhc2UsIGJ1dCBzaW5jZSB3ZSBkaWQgbm90XG4gICAgICAgICAgICAvLyBzY2hlZHVsZSBhbiBlZmZlY3QsIHdlIG5lZWQgdG8gcmVzZXQgaXQgaGVyZS5cbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OiB7XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3Qod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB2YXIgZmliZXJSb290ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICBpZiAoZmliZXJSb290LnBlbmRpbmdDb250ZXh0KSB7XG4gICAgICAgICAgZmliZXJSb290LmNvbnRleHQgPSBmaWJlclJvb3QucGVuZGluZ0NvbnRleHQ7XG4gICAgICAgICAgZmliZXJSb290LnBlbmRpbmdDb250ZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50LmNoaWxkID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaHlkcmF0ZWQsIHBvcCBzbyB0aGF0IHdlIGNhbiBkZWxldGUgYW55IHJlbWFpbmluZyBjaGlsZHJlblxuICAgICAgICAgIC8vIHRoYXQgd2VyZW4ndCBoeWRyYXRlZC5cbiAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgLy8gVGhpcyByZXNldHMgdGhlIGhhY2t5IHN0YXRlIHRvIGZpeCBpc01vdW50ZWQgYmVmb3JlIGNvbW1pdHRpbmcuXG4gICAgICAgICAgLy8gVE9ETzogRGVsZXRlIHRoaXMgd2hlbiB3ZSBkZWxldGUgaXNNb3VudGVkIGFuZCBmaW5kRE9NTm9kZS5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgJj0gflBsYWNlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcblxuICAgICAgICB2YXIgX3VwZGF0ZVF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgIGlmIChfdXBkYXRlUXVldWUgIT09IG51bGwgJiYgX3VwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IEVyckxvZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHZhciByb290Q29udGFpbmVySW5zdGFuY2UgPSBnZXRSb290SG9zdENvbnRhaW5lcigpO1xuICAgICAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsICYmIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBhbHRlcm5hdGUsIHRoYXQgbWVhbnMgdGhpcyBpcyBhbiB1cGRhdGUgYW5kIHdlIG5lZWQgdG9cbiAgICAgICAgICAvLyBzY2hlZHVsZSBhIHNpZGUtZWZmZWN0IHRvIGRvIHRoZSB1cGRhdGVzLlxuICAgICAgICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAvLyBJZiB3ZSBnZXQgdXBkYXRlZCBiZWNhdXNlIG9uZSBvZiBvdXIgY2hpbGRyZW4gdXBkYXRlZCwgd2UgZG9uJ3RcbiAgICAgICAgICAvLyBoYXZlIG5ld1Byb3BzIHNvIHdlJ2xsIGhhdmUgdG8gcmV1c2UgdGhlbS5cbiAgICAgICAgICAvLyBUT0RPOiBTcGxpdCB0aGUgdXBkYXRlIEFQSSBhcyBzZXBhcmF0ZSBmb3IgdGhlIHByb3BzIHZzLiBjaGlsZHJlbi5cbiAgICAgICAgICAvLyBFdmVuIGJldHRlciB3b3VsZCBiZSBpZiBjaGlsZHJlbiB3ZXJlbid0IHNwZWNpYWwgY2FzZWQgYXQgYWxsIHRoby5cbiAgICAgICAgICB2YXIgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHZhciBjdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgIC8vIFRPRE86IEV4cGVyaWVuY2luZyBhbiBlcnJvciB3aGVyZSBvbGRQcm9wcyBpcyBudWxsLiBTdWdnZXN0cyBhIGhvc3RcbiAgICAgICAgICAvLyBjb21wb25lbnQgaXMgaGl0dGluZyB0aGUgcmVzdW1lIHBhdGguIEZpZ3VyZSBvdXQgd2h5LiBQb3NzaWJseVxuICAgICAgICAgIC8vIHJlbGF0ZWQgdG8gYGhpZGRlbmAuXG4gICAgICAgICAgdmFyIHVwZGF0ZVBheWxvYWQgPSBwcmVwYXJlVXBkYXRlKFxuICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG9sZFByb3BzLFxuICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICAgICAgICBjdXJyZW50SG9zdENvbnRleHRcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgdXBkYXRlSG9zdENvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgb2xkUHJvcHMsXG4gICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgICAgICAgIGN1cnJlbnRIb3N0Q29udGV4dFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudC5yZWYgIT09IHdvcmtJblByb2dyZXNzLnJlZikge1xuICAgICAgICAgICAgbWFya1JlZih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghbmV3UHJvcHMpIHtcbiAgICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlICE9PSBudWxsLFxuICAgICAgICAgICAgICBcIldlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IFwiICtcbiAgICAgICAgICAgICAgICBcImNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhYm9ydCB3b3JrLlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9jdXJyZW50SG9zdENvbnRleHQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgIC8vIFRPRE86IE1vdmUgY3JlYXRlSW5zdGFuY2UgdG8gYmVnaW5Xb3JrIGFuZCBrZWVwIGl0IG9uIGEgY29udGV4dFxuICAgICAgICAgIC8vIFwic3RhY2tcIiBhcyB0aGUgcGFyZW50LiBUaGVuIGFwcGVuZCBjaGlsZHJlbiBhcyB3ZSBnbyBpbiBiZWdpbldvcmtcbiAgICAgICAgICAvLyBvciBjb21wbGV0ZVdvcmsgZGVwZW5kaW5nIG9uIHdlIHdhbnQgdG8gYWRkIHRoZW4gdG9wLT5kb3duIG9yXG4gICAgICAgICAgLy8gYm90dG9tLT51cC4gVG9wLT5kb3duIGlzIGZhc3RlciBpbiBJRTExLlxuICAgICAgICAgIHZhciB3YXNIeWRyYXRlZCA9IHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAod2FzSHlkcmF0ZWQpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IE1vdmUgdGhpcyBhbmQgY3JlYXRlSW5zdGFuY2Ugc3RlcCBpbnRvIHRoZSBiZWdpblBoYXNlXG4gICAgICAgICAgICAvLyB0byBjb25zb2xpZGF0ZS5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZShcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgX2N1cnJlbnRIb3N0Q29udGV4dFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gSWYgY2hhbmdlcyB0byB0aGUgaHlkcmF0ZWQgbm9kZSBuZWVkcyB0byBiZSBhcHBsaWVkIGF0IHRoZVxuICAgICAgICAgICAgICAvLyBjb21taXQtcGhhc2Ugd2UgbWFyayB0aGlzIGFzIHN1Y2guXG4gICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGNyZWF0ZUluc3RhbmNlKFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgICAgICAgICBfY3VycmVudEhvc3RDb250ZXh0LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgYXBwZW5kQWxsQ2hpbGRyZW4oX2luc3RhbmNlMiwgd29ya0luUHJvZ3Jlc3MpO1xuXG4gICAgICAgICAgICAvLyBDZXJ0YWluIHJlbmRlcmVycyByZXF1aXJlIGNvbW1pdC10aW1lIGVmZmVjdHMgZm9yIGluaXRpYWwgbW91bnQuXG4gICAgICAgICAgICAvLyAoZWcgRE9NIHJlbmRlcmVyIHN1cHBvcnRzIGF1dG8tZm9jdXMgZm9yIGNlcnRhaW4gZWxlbWVudHMpLlxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHN1Y2ggcmVuZGVyZXJzIGdldCBzY2hlZHVsZWQgZm9yIGxhdGVyIHdvcmsuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKFxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIsXG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgX2N1cnJlbnRIb3N0Q29udGV4dFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBfaW5zdGFuY2UyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcmVmIG9uIGEgaG9zdCBub2RlIHdlIG5lZWQgdG8gc2NoZWR1bGUgYSBjYWxsYmFja1xuICAgICAgICAgICAgbWFya1JlZih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0VGV4dDoge1xuICAgICAgICB2YXIgbmV3VGV4dCA9IG5ld1Byb3BzO1xuICAgICAgICBpZiAoY3VycmVudCAmJiB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBvbGRUZXh0ID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIC8vIElmIHdlIGhhdmUgYW4gYWx0ZXJuYXRlLCB0aGF0IG1lYW5zIHRoaXMgaXMgYW4gdXBkYXRlIGFuZCB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gc2NoZWR1bGUgYSBzaWRlLWVmZmVjdCB0byBkbyB0aGUgdXBkYXRlcy5cbiAgICAgICAgICB1cGRhdGVIb3N0VGV4dChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgb2xkVGV4dCwgbmV3VGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXdUZXh0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSAhPT0gbnVsbCxcbiAgICAgICAgICAgICAgXCJXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBcIiArXG4gICAgICAgICAgICAgICAgXCJjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIHdoZW4gd2UgYWJvcnQgd29yay5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgX3Jvb3RDb250YWluZXJJbnN0YW5jZSA9IGdldFJvb3RIb3N0Q29udGFpbmVyKCk7XG4gICAgICAgICAgdmFyIF9jdXJyZW50SG9zdENvbnRleHQyID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICB2YXIgX3dhc0h5ZHJhdGVkID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmIChfd2FzSHlkcmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGNyZWF0ZVRleHRJbnN0YW5jZShcbiAgICAgICAgICAgICAgbmV3VGV4dCxcbiAgICAgICAgICAgICAgX3Jvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgICAgICAgICAgX2N1cnJlbnRIb3N0Q29udGV4dDIsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNhc2UgQ2FsbENvbXBvbmVudDpcbiAgICAgICAgcmV0dXJuIG1vdmVDYWxsVG9IYW5kbGVyUGhhc2UoXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICByZW5kZXJFeHBpcmF0aW9uVGltZVxuICAgICAgICApO1xuICAgICAgY2FzZSBDYWxsSGFuZGxlclBoYXNlOlxuICAgICAgICAvLyBSZXNldCB0aGUgdGFnIHRvIG5vdyBiZSBhIGZpcnN0IHBoYXNlIGNhbGwuXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IENhbGxDb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBSZXR1cm5Db21wb25lbnQ6XG4gICAgICAgIC8vIERvZXMgbm90aGluZy5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIEZvcndhcmRSZWY6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlIE1vZGU6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgdXBkYXRlSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIC8vIFBvcCBwcm92aWRlciBmaWJlclxuICAgICAgICBwb3BQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSBDb250ZXh0Q29uc3VtZXI6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgLy8gRXJyb3IgY2FzZXNcbiAgICAgIGNhc2UgSW5kZXRlcm1pbmF0ZUNvbXBvbmVudDpcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiQW4gaW5kZXRlcm1pbmF0ZSBjb21wb25lbnQgc2hvdWxkIGhhdmUgYmVjb21lIGRldGVybWluYXRlIGJlZm9yZSBcIiArXG4gICAgICAgICAgICBcImNvbXBsZXRpbmcuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIFwiICtcbiAgICAgICAgICAgIFwiZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJVbmtub3duIHVuaXQgb2Ygd29yayB0YWcuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBcIiArXG4gICAgICAgICAgICBcIlJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY29tcGxldGVXb3JrOiBjb21wbGV0ZVdvcmtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcHR1cmVkVmFsdWUodmFsdWUsIHNvdXJjZSkge1xuICAvLyBJZiB0aGUgdmFsdWUgaXMgYW4gZXJyb3IsIGNhbGwgdGhpcyBmdW5jdGlvbiBpbW1lZGlhdGVseSBhZnRlciBpdCBpcyB0aHJvd25cbiAgLy8gc28gdGhlIHN0YWNrIGlzIGFjY3VyYXRlLlxuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICBzdGFjazogZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihzb3VyY2UpXG4gIH07XG59XG5cbnZhciBSZWFjdEZpYmVyVW53aW5kV29yayA9IGZ1bmN0aW9uKFxuICBob3N0Q29udGV4dCxcbiAgbGVnYWN5Q29udGV4dCxcbiAgbmV3Q29udGV4dCxcbiAgc2NoZWR1bGVXb3JrLFxuICBpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5XG4pIHtcbiAgdmFyIHBvcEhvc3RDb250YWluZXIgPSBob3N0Q29udGV4dC5wb3BIb3N0Q29udGFpbmVyLFxuICAgIHBvcEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRleHQ7XG4gIHZhciBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIgPSBsZWdhY3lDb250ZXh0LnBvcENvbnRleHRQcm92aWRlcixcbiAgICBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QgPSBsZWdhY3lDb250ZXh0LnBvcFRvcExldmVsQ29udGV4dE9iamVjdDtcbiAgdmFyIHBvcFByb3ZpZGVyID0gbmV3Q29udGV4dC5wb3BQcm92aWRlcjtcblxuICBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbihyZXR1cm5GaWJlciwgc291cmNlRmliZXIsIHJhd1ZhbHVlKSB7XG4gICAgLy8gVGhlIHNvdXJjZSBmaWJlciBkaWQgbm90IGNvbXBsZXRlLlxuICAgIHNvdXJjZUZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgIC8vIEl0cyBlZmZlY3QgbGlzdCBpcyBubyBsb25nZXIgdmFsaWQuXG4gICAgc291cmNlRmliZXIuZmlyc3RFZmZlY3QgPSBzb3VyY2VGaWJlci5sYXN0RWZmZWN0ID0gbnVsbDtcblxuICAgIHZhciB2YWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWUocmF3VmFsdWUsIHNvdXJjZUZpYmVyKTtcblxuICAgIHZhciB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgIGRvIHtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgICAvLyBVbmNhdWdodCBlcnJvclxuICAgICAgICAgIHZhciBlcnJvckluZm8gPSB2YWx1ZTtcbiAgICAgICAgICBlbnN1cmVVcGRhdGVRdWV1ZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhcHR1cmVkVmFsdWVzID0gW2Vycm9ySW5mb107XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnIHw9IFNob3VsZENhcHR1cmU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgICAgLy8gQ2FwdHVyZSBhbmQgcmV0cnlcbiAgICAgICAgICB2YXIgY3RvciA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkgPT09IE5vRWZmZWN0ICYmXG4gICAgICAgICAgICAoKHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgIGVuYWJsZUdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCkgfHxcbiAgICAgICAgICAgICAgKF9pbnN0YW5jZSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkQ2F0Y2ggPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgICFpc0FscmVhZHlGYWlsZWRMZWdhY3lFcnJvckJvdW5kYXJ5KF9pbnN0YW5jZSkpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZW5zdXJlVXBkYXRlUXVldWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIHZhciBfdXBkYXRlUXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgIHZhciBjYXB0dXJlZFZhbHVlcyA9IF91cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgICAgIGlmIChjYXB0dXJlZFZhbHVlcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBfdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgPSBbdmFsdWVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FwdHVyZWRWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgfD0gU2hvdWxkQ2FwdHVyZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzW1wicmV0dXJuXCJdO1xuICAgIH0gd2hpbGUgKHdvcmtJblByb2dyZXNzICE9PSBudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVud2luZFdvcmsod29ya0luUHJvZ3Jlc3MpIHtcbiAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB2YXIgZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICBpZiAoZWZmZWN0VGFnICYgU2hvdWxkQ2FwdHVyZSkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyA9IChlZmZlY3RUYWcgJiB+U2hvdWxkQ2FwdHVyZSkgfCBEaWRDYXB0dXJlO1xuICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHBvcFRvcExldmVsTGVnYWN5Q29udGV4dE9iamVjdCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHZhciBfZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICBpZiAoX2VmZmVjdFRhZyAmIFNob3VsZENhcHR1cmUpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5lZmZlY3RUYWcgPSAoX2VmZmVjdFRhZyAmIH5TaG91bGRDYXB0dXJlKSB8IERpZENhcHR1cmU7XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICBwb3BQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdW53aW5kSW50ZXJydXB0ZWRXb3JrKGludGVycnVwdGVkV29yaykge1xuICAgIHN3aXRjaCAoaW50ZXJydXB0ZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OiB7XG4gICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgcG9wVG9wTGV2ZWxMZWdhY3lDb250ZXh0T2JqZWN0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgIHBvcEhvc3RDb250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb250ZXh0UHJvdmlkZXI6XG4gICAgICAgIHBvcFByb3ZpZGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0aHJvd0V4Y2VwdGlvbjogdGhyb3dFeGNlcHRpb24sXG4gICAgdW53aW5kV29yazogdW53aW5kV29yayxcbiAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcms6IHVud2luZEludGVycnVwdGVkV29ya1xuICB9O1xufTtcblxuLy8gTW9kdWxlIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBJbnRlcmNlcHQgbGlmZWN5Y2xlIGVycm9ycyBhbmQgZW5zdXJlIHRoZXkgYXJlIHNob3duIHdpdGggdGhlIGNvcnJlY3Qgc3RhY2tcbiAqIHRyYWNlIHdpdGhpbiB0aGUgbmF0aXZlIHJlZGJveCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIHNob3dFcnJvckRpYWxvZyhjYXB0dXJlZEVycm9yKSB7XG4gIHZhciBjb21wb25lbnRTdGFjayA9IGNhcHR1cmVkRXJyb3IuY29tcG9uZW50U3RhY2ssXG4gICAgZXJyb3IgPSBjYXB0dXJlZEVycm9yLmVycm9yO1xuXG4gIHZhciBlcnJvclRvSGFuZGxlID0gdm9pZCAwO1xuXG4gIC8vIFR5cGljYWxseSBFcnJvcnMgYXJlIHRocm93biBidXQgZWcgc3RyaW5ncyBvciBudWxsIGNhbiBiZSB0aHJvd24gYXMgd2VsbC5cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UsXG4gICAgICBuYW1lID0gZXJyb3IubmFtZTtcblxuICAgIHZhciBzdW1tYXJ5ID0gbWVzc2FnZSA/IG5hbWUgKyBcIjogXCIgKyBtZXNzYWdlIDogbmFtZTtcblxuICAgIGVycm9yVG9IYW5kbGUgPSBlcnJvcjtcblxuICAgIHRyeSB7XG4gICAgICBlcnJvclRvSGFuZGxlLm1lc3NhZ2UgPVxuICAgICAgICBzdW1tYXJ5ICsgXCJcXG5cXG5UaGlzIGVycm9yIGlzIGxvY2F0ZWQgYXQ6XCIgKyBjb21wb25lbnRTdGFjaztcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIikge1xuICAgIGVycm9yVG9IYW5kbGUgPSBuZXcgRXJyb3IoXG4gICAgICBlcnJvciArIFwiXFxuXFxuVGhpcyBlcnJvciBpcyBsb2NhdGVkIGF0OlwiICsgY29tcG9uZW50U3RhY2tcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGVycm9yVG9IYW5kbGUgPSBuZXcgRXJyb3IoXCJVbnNwZWNpZmllZCBlcnJvciBhdDpcIiArIGNvbXBvbmVudFN0YWNrKTtcbiAgfVxuXG4gIEV4Y2VwdGlvbnNNYW5hZ2VyLmhhbmRsZUV4Y2VwdGlvbihlcnJvclRvSGFuZGxlLCBmYWxzZSk7XG5cbiAgLy8gUmV0dXJuIGZhbHNlIGhlcmUgdG8gcHJldmVudCBSZWFjdEZpYmVyRXJyb3JMb2dnZXIgZGVmYXVsdCBiZWhhdmlvciBvZlxuICAvLyBsb2dnaW5nIGVycm9yIGRldGFpbHMgdG8gY29uc29sZS5lcnJvci4gQ2FsbHMgdG8gY29uc29sZS5lcnJvciBhcmVcbiAgLy8gYXV0b21hdGljYWxseSByb3V0ZWQgdG8gdGhlIG5hdGl2ZSByZWRib3ggY29udHJvbGxlciwgd2hpY2ggd2UndmUgYWxyZWFkeVxuICAvLyBkb25lIGFib3ZlIGJ5IGNhbGxpbmcgRXhjZXB0aW9uc01hbmFnZXIuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbG9nQ2FwdHVyZWRFcnJvcihjYXB0dXJlZEVycm9yKSB7XG4gIHZhciBsb2dFcnJvciA9IHNob3dFcnJvckRpYWxvZyhjYXB0dXJlZEVycm9yKTtcblxuICAvLyBBbGxvdyBpbmplY3RlZCBzaG93RXJyb3JEaWFsb2coKSB0byBwcmV2ZW50IGRlZmF1bHQgY29uc29sZS5lcnJvciBsb2dnaW5nLlxuICAvLyBUaGlzIGVuYWJsZXMgcmVuZGVyZXJzIGxpa2UgUmVhY3ROYXRpdmUgdG8gYmV0dGVyIG1hbmFnZSByZWRib3ggYmVoYXZpb3IuXG4gIGlmIChsb2dFcnJvciA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZXJyb3IgPSBjYXB0dXJlZEVycm9yLmVycm9yO1xuICB2YXIgc3VwcHJlc3NMb2dnaW5nID0gZXJyb3IgJiYgZXJyb3Iuc3VwcHJlc3NSZWFjdEVycm9yTG9nZ2luZztcbiAgaWYgKHN1cHByZXNzTG9nZ2luZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNhcHR1cmVkRXJyb3IuY29tcG9uZW50TmFtZSxcbiAgICAgIGNvbXBvbmVudFN0YWNrID0gY2FwdHVyZWRFcnJvci5jb21wb25lbnRTdGFjayxcbiAgICAgIGVycm9yQm91bmRhcnlOYW1lID0gY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5TmFtZSxcbiAgICAgIGVycm9yQm91bmRhcnlGb3VuZCA9IGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeUZvdW5kLFxuICAgICAgd2lsbFJldHJ5ID0gY2FwdHVyZWRFcnJvci53aWxsUmV0cnk7XG5cbiAgICB2YXIgY29tcG9uZW50TmFtZU1lc3NhZ2UgPSBjb21wb25lbnROYW1lXG4gICAgICA/IFwiVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkIGluIHRoZSA8XCIgKyBjb21wb25lbnROYW1lICsgXCI+IGNvbXBvbmVudDpcIlxuICAgICAgOiBcIlRoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzOlwiO1xuXG4gICAgdmFyIGVycm9yQm91bmRhcnlNZXNzYWdlID0gdm9pZCAwO1xuICAgIC8vIGVycm9yQm91bmRhcnlGb3VuZCBjaGVjayBpcyBzdWZmaWNpZW50OyBlcnJvckJvdW5kYXJ5TmFtZSBjaGVjayBpcyB0byBzYXRpc2Z5IEZsb3cuXG4gICAgaWYgKGVycm9yQm91bmRhcnlGb3VuZCAmJiBlcnJvckJvdW5kYXJ5TmFtZSkge1xuICAgICAgaWYgKHdpbGxSZXRyeSkge1xuICAgICAgICBlcnJvckJvdW5kYXJ5TWVzc2FnZSA9XG4gICAgICAgICAgXCJSZWFjdCB3aWxsIHRyeSB0byByZWNyZWF0ZSB0aGlzIGNvbXBvbmVudCB0cmVlIGZyb20gc2NyYXRjaCBcIiArXG4gICAgICAgICAgKFwidXNpbmcgdGhlIGVycm9yIGJvdW5kYXJ5IHlvdSBwcm92aWRlZCwgXCIgKyBlcnJvckJvdW5kYXJ5TmFtZSArIFwiLlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID1cbiAgICAgICAgICBcIlRoaXMgZXJyb3Igd2FzIGluaXRpYWxseSBoYW5kbGVkIGJ5IHRoZSBlcnJvciBib3VuZGFyeSBcIiArXG4gICAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgK1xuICAgICAgICAgIFwiLlxcblwiICtcbiAgICAgICAgICBcIlJlY3JlYXRpbmcgdGhlIHRyZWUgZnJvbSBzY3JhdGNoIGZhaWxlZCBzbyBSZWFjdCB3aWxsIHVubW91bnQgdGhlIHRyZWUuXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVycm9yQm91bmRhcnlNZXNzYWdlID1cbiAgICAgICAgXCJDb25zaWRlciBhZGRpbmcgYW4gZXJyb3IgYm91bmRhcnkgdG8geW91ciB0cmVlIHRvIGN1c3RvbWl6ZSBlcnJvciBoYW5kbGluZyBiZWhhdmlvci5cXG5cIiArXG4gICAgICAgIFwiVmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1lcnJvci1ib3VuZGFyaWVzIHRvIGxlYXJuIG1vcmUgYWJvdXQgZXJyb3IgYm91bmRhcmllcy5cIjtcbiAgICB9XG4gICAgdmFyIGNvbWJpbmVkTWVzc2FnZSA9XG4gICAgICBcIlwiICtcbiAgICAgIGNvbXBvbmVudE5hbWVNZXNzYWdlICtcbiAgICAgIGNvbXBvbmVudFN0YWNrICtcbiAgICAgIFwiXFxuXFxuXCIgK1xuICAgICAgKFwiXCIgKyBlcnJvckJvdW5kYXJ5TWVzc2FnZSk7XG5cbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UgcHJvdmlkZSBvdXIgb3duIG1lc3NhZ2Ugd2l0aCBqdXN0IHRoZSBjb21wb25lbnQgc3RhY2suXG4gICAgLy8gV2UgZG9uJ3QgaW5jbHVkZSB0aGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBhbmQgSlMgc3RhY2sgYmVjYXVzZSB0aGUgYnJvd3NlclxuICAgIC8vIGhhcyBhbHJlYWR5IHByaW50ZWQgaXQuIEV2ZW4gaWYgdGhlIGFwcGxpY2F0aW9uIHN3YWxsb3dzIHRoZSBlcnJvciwgaXQgaXMgc3RpbGxcbiAgICAvLyBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgdGhhbmtzIHRvIHRoZSBERVYtb25seSBmYWtlIGV2ZW50IHRyaWNrIGluIFJlYWN0RXJyb3JVdGlscy5cbiAgICBjb25zb2xlLmVycm9yKGNvbWJpbmVkTWVzc2FnZSk7XG4gIH1cbn1cblxudmFyIGludm9rZUd1YXJkZWRDYWxsYmFjayQzID0gUmVhY3RFcnJvclV0aWxzLmludm9rZUd1YXJkZWRDYWxsYmFjaztcbnZhciBoYXNDYXVnaHRFcnJvciQxID0gUmVhY3RFcnJvclV0aWxzLmhhc0NhdWdodEVycm9yO1xudmFyIGNsZWFyQ2F1Z2h0RXJyb3IkMSA9IFJlYWN0RXJyb3JVdGlscy5jbGVhckNhdWdodEVycm9yO1xuXG52YXIgZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUgPSBudWxsO1xue1xuICBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG5ldyBTZXQoKTtcbn1cblxuZnVuY3Rpb24gbG9nRXJyb3IoYm91bmRhcnksIGVycm9ySW5mbykge1xuICB2YXIgc291cmNlID0gZXJyb3JJbmZvLnNvdXJjZTtcbiAgdmFyIHN0YWNrID0gZXJyb3JJbmZvLnN0YWNrO1xuICBpZiAoc3RhY2sgPT09IG51bGwpIHtcbiAgICBzdGFjayA9IGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoc291cmNlKTtcbiAgfVxuXG4gIHZhciBjYXB0dXJlZEVycm9yID0ge1xuICAgIGNvbXBvbmVudE5hbWU6IHNvdXJjZSAhPT0gbnVsbCA/IGdldENvbXBvbmVudE5hbWUoc291cmNlKSA6IG51bGwsXG4gICAgY29tcG9uZW50U3RhY2s6IHN0YWNrICE9PSBudWxsID8gc3RhY2sgOiBcIlwiLFxuICAgIGVycm9yOiBlcnJvckluZm8udmFsdWUsXG4gICAgZXJyb3JCb3VuZGFyeTogbnVsbCxcbiAgICBlcnJvckJvdW5kYXJ5TmFtZTogbnVsbCxcbiAgICBlcnJvckJvdW5kYXJ5Rm91bmQ6IGZhbHNlLFxuICAgIHdpbGxSZXRyeTogZmFsc2VcbiAgfTtcblxuICBpZiAoYm91bmRhcnkgIT09IG51bGwgJiYgYm91bmRhcnkudGFnID09PSBDbGFzc0NvbXBvbmVudCkge1xuICAgIGNhcHR1cmVkRXJyb3IuZXJyb3JCb3VuZGFyeSA9IGJvdW5kYXJ5LnN0YXRlTm9kZTtcbiAgICBjYXB0dXJlZEVycm9yLmVycm9yQm91bmRhcnlOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShib3VuZGFyeSk7XG4gICAgY2FwdHVyZWRFcnJvci5lcnJvckJvdW5kYXJ5Rm91bmQgPSB0cnVlO1xuICAgIGNhcHR1cmVkRXJyb3Iud2lsbFJldHJ5ID0gdHJ1ZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nQ2FwdHVyZWRFcnJvcihjYXB0dXJlZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFByZXZlbnQgY3ljbGUgaWYgbG9nQ2FwdHVyZWRFcnJvcigpIHRocm93cy5cbiAgICAvLyBBIGN5Y2xlIG1heSBzdGlsbCBvY2N1ciBpZiBsb2dDYXB0dXJlZEVycm9yIHJlbmRlcnMgYSBjb21wb25lbnQgdGhhdCB0aHJvd3MuXG4gICAgdmFyIHN1cHByZXNzTG9nZ2luZyA9IGUgJiYgZS5zdXBwcmVzc1JlYWN0RXJyb3JMb2dnaW5nO1xuICAgIGlmICghc3VwcHJlc3NMb2dnaW5nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RGaWJlckNvbW1pdFdvcmsgPSBmdW5jdGlvbihcbiAgY29uZmlnLFxuICBjYXB0dXJlRXJyb3IsXG4gIHNjaGVkdWxlV29yayxcbiAgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlcixcbiAgbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZCxcbiAgcmVjYWxjdWxhdGVDdXJyZW50VGltZVxuKSB7XG4gIHZhciBnZXRQdWJsaWNJbnN0YW5jZSA9IGNvbmZpZy5nZXRQdWJsaWNJbnN0YW5jZSxcbiAgICBtdXRhdGlvbiA9IGNvbmZpZy5tdXRhdGlvbixcbiAgICBwZXJzaXN0ZW5jZSA9IGNvbmZpZy5wZXJzaXN0ZW5jZTtcblxuICB2YXIgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50V2l0aFRpbWVyID0gZnVuY3Rpb24oY3VycmVudCwgaW5zdGFuY2UpIHtcbiAgICBzdGFydFBoYXNlVGltZXIoY3VycmVudCwgXCJjb21wb25lbnRXaWxsVW5tb3VudFwiKTtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICBpbnN0YW5jZS5zdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgIHN0b3BQaGFzZVRpbWVyKCk7XG4gIH07XG5cbiAgLy8gQ2FwdHVyZSBlcnJvcnMgc28gdGhleSBkb24ndCBpbnRlcnJ1cHQgdW5tb3VudGluZy5cbiAgZnVuY3Rpb24gc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KGN1cnJlbnQsIGluc3RhbmNlKSB7XG4gICAge1xuICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFdpdGhUaW1lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgaW5zdGFuY2VcbiAgICAgICk7XG4gICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IkMSgpKSB7XG4gICAgICAgIHZhciB1bm1vdW50RXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgY2FwdHVyZUVycm9yKGN1cnJlbnQsIHVubW91bnRFcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQpIHtcbiAgICB2YXIgcmVmID0gY3VycmVudC5yZWY7XG4gICAgaWYgKHJlZiAhPT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiByZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB7XG4gICAgICAgICAgaW52b2tlR3VhcmRlZENhbGxiYWNrJDMobnVsbCwgcmVmLCBudWxsLCBudWxsKTtcbiAgICAgICAgICBpZiAoaGFzQ2F1Z2h0RXJyb3IkMSgpKSB7XG4gICAgICAgICAgICB2YXIgcmVmRXJyb3IgPSBjbGVhckNhdWdodEVycm9yJDEoKTtcbiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihjdXJyZW50LCByZWZFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmVmZmVjdFRhZyAmIFNuYXBzaG90KSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICB2YXIgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgc3RhcnRQaGFzZVRpbWVyKGZpbmlzaGVkV29yaywgXCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVwiKTtcbiAgICAgICAgICAgIHZhciBfaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgX2luc3RhbmNlLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgIHZhciBzbmFwc2hvdCA9IF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShcbiAgICAgICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgICAgICBwcmV2U3RhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBkaWRXYXJuU2V0ID0gZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGU7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzbmFwc2hvdCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgIWRpZFdhcm5TZXQuaGFzKGZpbmlzaGVkV29yay50eXBlKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkaWRXYXJuU2V0LmFkZChmaW5pc2hlZFdvcmsudHlwZSk7XG4gICAgICAgICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgXCIlcy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpOiBBIHNuYXBzaG90IHZhbHVlIChvciBudWxsKSBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwibXVzdCBiZSByZXR1cm5lZC4gWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLlwiLFxuICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZShmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2luc3RhbmNlLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlID0gc25hcHNob3Q7XG4gICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgIGNhc2UgSG9zdFBvcnRhbDpcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBmb3IgdGhlc2UgY29tcG9uZW50IHR5cGVzXG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgXCIgK1xuICAgICAgICAgICAgXCJsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdExpZmVDeWNsZXMoXG4gICAgZmluaXNoZWRSb290LFxuICAgIGN1cnJlbnQsXG4gICAgZmluaXNoZWRXb3JrLFxuICAgIGN1cnJlbnRUaW1lLFxuICAgIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lXG4gICkge1xuICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgIGlmIChmaW5pc2hlZFdvcmsuZWZmZWN0VGFnICYgVXBkYXRlKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssIFwiY29tcG9uZW50RGlkTW91bnRcIik7XG4gICAgICAgICAgICBfaW5zdGFuY2UyLnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICBfaW5zdGFuY2UyLnN0YXRlID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICBfaW5zdGFuY2UyLmNvbXBvbmVudERpZE1vdW50KCk7XG4gICAgICAgICAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJldlByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgdmFyIHByZXZTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgIHN0YXJ0UGhhc2VUaW1lcihmaW5pc2hlZFdvcmssIFwiY29tcG9uZW50RGlkVXBkYXRlXCIpO1xuICAgICAgICAgICAgX2luc3RhbmNlMi5wcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgX2luc3RhbmNlMi5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgX2luc3RhbmNlMi5jb21wb25lbnREaWRVcGRhdGUoXG4gICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgcHJldlN0YXRlLFxuICAgICAgICAgICAgICBfaW5zdGFuY2UyLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgc3RvcFBoYXNlVGltZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICBpZiAodXBkYXRlUXVldWUgIT09IG51bGwpIHtcbiAgICAgICAgICBjb21taXRDYWxsYmFja3ModXBkYXRlUXVldWUsIF9pbnN0YW5jZTIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgdmFyIF91cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgaWYgKF91cGRhdGVRdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBfaW5zdGFuY2UzID0gbnVsbDtcbiAgICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay5jaGlsZC50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZTMgPSBnZXRQdWJsaWNJbnN0YW5jZShmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2UzID0gZmluaXNoZWRXb3JrLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29tbWl0Q2FsbGJhY2tzKF91cGRhdGVRdWV1ZSwgX2luc3RhbmNlMyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OiB7XG4gICAgICAgIHZhciBfaW5zdGFuY2U0ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcblxuICAgICAgICAvLyBSZW5kZXJlcnMgbWF5IHNjaGVkdWxlIHdvcmsgdG8gYmUgZG9uZSBhZnRlciBob3N0IGNvbXBvbmVudHMgYXJlIG1vdW50ZWRcbiAgICAgICAgLy8gKGVnIERPTSByZW5kZXJlciBtYXkgc2NoZWR1bGUgYXV0by1mb2N1cyBmb3IgaW5wdXRzIGFuZCBmb3JtIGNvbnRyb2xzKS5cbiAgICAgICAgLy8gVGhlc2UgZWZmZWN0cyBzaG91bGQgb25seSBiZSBjb21taXR0ZWQgd2hlbiBjb21wb25lbnRzIGFyZSBmaXJzdCBtb3VudGVkLFxuICAgICAgICAvLyBha2Egd2hlbiB0aGVyZSBpcyBubyBjdXJyZW50L2FsdGVybmF0ZS5cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwgJiYgZmluaXNoZWRXb3JrLmVmZmVjdFRhZyAmIFVwZGF0ZSkge1xuICAgICAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgdmFyIHByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgY29tbWl0TW91bnQoX2luc3RhbmNlNCwgdHlwZSwgcHJvcHMsIGZpbmlzaGVkV29yayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OiB7XG4gICAgICAgIC8vIFdlIGhhdmUgbm8gbGlmZS1jeWNsZXMgYXNzb2NpYXRlZCB3aXRoIHRleHQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFBvcnRhbDoge1xuICAgICAgICAvLyBXZSBoYXZlIG5vIGxpZmUtY3ljbGVzIGFzc29jaWF0ZWQgd2l0aCBwb3J0YWxzLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIlRoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIFwiICtcbiAgICAgICAgICAgIFwibGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRFcnJvckxvZ2dpbmcoZmluaXNoZWRXb3JrLCBvblVuY2F1Z2h0RXJyb3IpIHtcbiAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgIGNhc2UgQ2xhc3NDb21wb25lbnQ6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgY3RvciA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgIHZhciBfaW5zdGFuY2U1ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgdXBkYXRlUXVldWUgIT09IG51bGwgJiYgdXBkYXRlUXVldWUuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwsXG4gICAgICAgICAgICBcIkFuIGVycm9yIGxvZ2dpbmcgZWZmZWN0IHNob3VsZCBub3QgaGF2ZSBiZWVuIHNjaGVkdWxlZCBpZiBubyBlcnJvcnMgXCIgK1xuICAgICAgICAgICAgICBcIndlcmUgY2FwdHVyZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gXCIgK1xuICAgICAgICAgICAgICBcIlBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICB2YXIgY2FwdHVyZWRFcnJvcnMgPSB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcztcbiAgICAgICAgICB1cGRhdGVRdWV1ZS5jYXB0dXJlZFZhbHVlcyA9IG51bGw7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUNhdGNoICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIC8vIFRvIHByZXNlcnZlIHRoZSBwcmVleGlzdGluZyByZXRyeSBiZWhhdmlvciBvZiBlcnJvciBib3VuZGFyaWVzLFxuICAgICAgICAgICAgLy8gd2Uga2VlcCB0cmFjayBvZiB3aGljaCBvbmVzIGFscmVhZHkgZmFpbGVkIGR1cmluZyB0aGlzIGJhdGNoLlxuICAgICAgICAgICAgLy8gVGhpcyBnZXRzIHJlc2V0IGJlZm9yZSB3ZSB5aWVsZCBiYWNrIHRvIHRoZSBicm93c2VyLlxuICAgICAgICAgICAgLy8gVE9ETzogV2FybiBpbiBzdHJpY3QgbW9kZSBpZiBnZXREZXJpdmVkU3RhdGVGcm9tQ2F0Y2ggaXNcbiAgICAgICAgICAgIC8vIG5vdCBkZWZpbmVkLlxuICAgICAgICAgICAgbWFya0xlZ2FjeUVycm9yQm91bmRhcnlBc0ZhaWxlZChfaW5zdGFuY2U1KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfaW5zdGFuY2U1LnByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgX2luc3RhbmNlNS5zdGF0ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FwdHVyZWRFcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlcnJvckluZm8gPSBjYXB0dXJlZEVycm9yc1tpXTtcbiAgICAgICAgICAgIHZhciBfZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gICAgICAgICAgICBsb2dFcnJvcihmaW5pc2hlZFdvcmssIGVycm9ySW5mbyk7XG4gICAgICAgICAgICBfaW5zdGFuY2U1LmNvbXBvbmVudERpZENhdGNoKF9lcnJvciwge1xuICAgICAgICAgICAgICBjb21wb25lbnRTdGFjazogc3RhY2sgIT09IG51bGwgPyBzdGFjayA6IFwiXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFJvb3Q6IHtcbiAgICAgICAgdmFyIF91cGRhdGVRdWV1ZTIgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBfdXBkYXRlUXVldWUyICE9PSBudWxsICYmIF91cGRhdGVRdWV1ZTIuY2FwdHVyZWRWYWx1ZXMgIT09IG51bGwsXG4gICAgICAgICAgXCJBbiBlcnJvciBsb2dnaW5nIGVmZmVjdCBzaG91bGQgbm90IGhhdmUgYmVlbiBzY2hlZHVsZWQgaWYgbm8gZXJyb3JzIFwiICtcbiAgICAgICAgICAgIFwid2VyZSBjYXB0dXJlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBcIiArXG4gICAgICAgICAgICBcIlBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICAgIHZhciBfY2FwdHVyZWRFcnJvcnMgPSBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzO1xuICAgICAgICBfdXBkYXRlUXVldWUyLmNhcHR1cmVkVmFsdWVzID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IF9jYXB0dXJlZEVycm9ycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgX2Vycm9ySW5mbyA9IF9jYXB0dXJlZEVycm9yc1tfaV07XG4gICAgICAgICAgbG9nRXJyb3IoZmluaXNoZWRXb3JrLCBfZXJyb3JJbmZvKTtcbiAgICAgICAgICBvblVuY2F1Z2h0RXJyb3IoX2Vycm9ySW5mby52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgY2Fubm90IGNhcHR1cmUgZXJyb3JzLiAgVGhpcyBlcnJvciBpcyBcIiArXG4gICAgICAgICAgICBcImxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QXR0YWNoUmVmKGZpbmlzaGVkV29yaykge1xuICAgIHZhciByZWYgPSBmaW5pc2hlZFdvcmsucmVmO1xuICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgIHZhciBfaW5zdGFuY2U2ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIHZhciBpbnN0YW5jZVRvVXNlID0gdm9pZCAwO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICBpbnN0YW5jZVRvVXNlID0gZ2V0UHVibGljSW5zdGFuY2UoX2luc3RhbmNlNik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaW5zdGFuY2VUb1VzZSA9IF9pbnN0YW5jZTY7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlZihpbnN0YW5jZVRvVXNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoIXJlZi5oYXNPd25Qcm9wZXJ0eShcImN1cnJlbnRcIikpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgcmVmIG9iamVjdCBwcm92aWRlZCBmb3IgJXMuIFwiICtcbiAgICAgICAgICAgICAgICBcIlVzZSBlaXRoZXIgYSByZWYtc2V0dGVyIGZ1bmN0aW9uIG9yIFJlYWN0LmNyZWF0ZVJlZigpLiVzXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWUoZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAgICAgZ2V0U3RhY2tBZGRlbmR1bUJ5V29ya0luUHJvZ3Jlc3NGaWJlcihmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlZi5jdXJyZW50ID0gaW5zdGFuY2VUb1VzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXREZXRhY2hSZWYoY3VycmVudCkge1xuICAgIHZhciBjdXJyZW50UmVmID0gY3VycmVudC5yZWY7XG4gICAgaWYgKGN1cnJlbnRSZWYgIT09IG51bGwpIHtcbiAgICAgIGlmICh0eXBlb2YgY3VycmVudFJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGN1cnJlbnRSZWYobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFVzZXItb3JpZ2luYXRpbmcgZXJyb3JzIChsaWZlY3ljbGVzIGFuZCByZWZzKSBzaG91bGQgbm90IGludGVycnVwdFxuICAvLyBkZWxldGlvbiwgc28gZG9uJ3QgbGV0IHRoZW0gdGhyb3cuIEhvc3Qtb3JpZ2luYXRpbmcgZXJyb3JzIHNob3VsZFxuICAvLyBpbnRlcnJ1cHQgZGVsZXRpb24sIHNvIGl0J3Mgb2theVxuICBmdW5jdGlvbiBjb21taXRVbm1vdW50KGN1cnJlbnQpIHtcbiAgICBpZiAodHlwZW9mIG9uQ29tbWl0VW5tb3VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBvbkNvbW1pdFVubW91bnQoY3VycmVudCk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChjdXJyZW50LnRhZykge1xuICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDoge1xuICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgIHZhciBfaW5zdGFuY2U3ID0gY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgIGlmICh0eXBlb2YgX2luc3RhbmNlNy5jb21wb25lbnRXaWxsVW5tb3VudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KGN1cnJlbnQsIF9pbnN0YW5jZTcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgQ2FsbENvbXBvbmVudDoge1xuICAgICAgICBjb21taXROZXN0ZWRVbm1vdW50cyhjdXJyZW50LnN0YXRlTm9kZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdFBvcnRhbDoge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIHJlY3Vyc2l2ZS5cbiAgICAgICAgLy8gV2UgYXJlIGFsc28gbm90IHVzaW5nIHRoaXMgcGFyZW50IGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIHBvcnRhbCB3aWxsIGdldCBwdXNoZWQgaW1tZWRpYXRlbHkuXG4gICAgICAgIGlmIChlbmFibGVNdXRhdGluZ1JlY29uY2lsZXIgJiYgbXV0YXRpb24pIHtcbiAgICAgICAgICB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZW5hYmxlUGVyc2lzdGVudFJlY29uY2lsZXIgJiYgcGVyc2lzdGVuY2UpIHtcbiAgICAgICAgICBlbXB0eVBvcnRhbENvbnRhaW5lcihjdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0TmVzdGVkVW5tb3VudHMocm9vdCkge1xuICAgIC8vIFdoaWxlIHdlJ3JlIGluc2lkZSBhIHJlbW92ZWQgaG9zdCBub2RlIHdlIGRvbid0IHdhbnQgdG8gY2FsbFxuICAgIC8vIHJlbW92ZUNoaWxkIG9uIHRoZSBpbm5lciBub2RlcyBiZWNhdXNlIHRoZXkncmUgcmVtb3ZlZCBieSB0aGUgdG9wXG4gICAgLy8gY2FsbCBhbnl3YXkuIFdlIGFsc28gd2FudCB0byBjYWxsIGNvbXBvbmVudFdpbGxVbm1vdW50IG9uIGFsbFxuICAgIC8vIGNvbXBvc2l0ZXMgYmVmb3JlIHRoaXMgaG9zdCBub2RlIGlzIHJlbW92ZWQgZnJvbSB0aGUgdHJlZS4gVGhlcmVmb3JlXG4gICAgdmFyIG5vZGUgPSByb290O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb21taXRVbm1vdW50KG5vZGUpO1xuICAgICAgLy8gVmlzaXQgY2hpbGRyZW4gYmVjYXVzZSB0aGV5IG1heSBjb250YWluIG1vcmUgY29tcG9zaXRlIG9yIGhvc3Qgbm9kZXMuXG4gICAgICAvLyBTa2lwIHBvcnRhbHMgYmVjYXVzZSBjb21taXRVbm1vdW50KCkgY3VycmVudGx5IHZpc2l0cyB0aGVtIHJlY3Vyc2l2ZWx5LlxuICAgICAgaWYgKFxuICAgICAgICBub2RlLmNoaWxkICE9PSBudWxsICYmXG4gICAgICAgIC8vIElmIHdlIHVzZSBtdXRhdGlvbiB3ZSBkcmlsbCBkb3duIGludG8gcG9ydGFscyB1c2luZyBjb21taXRVbm1vdW50IGFib3ZlLlxuICAgICAgICAvLyBJZiB3ZSBkb24ndCB1c2UgbXV0YXRpb24gd2UgZHJpbGwgZG93biBpbnRvIHBvcnRhbHMgaGVyZSBpbnN0ZWFkLlxuICAgICAgICAoIW11dGF0aW9uIHx8IG5vZGUudGFnICE9PSBIb3N0UG9ydGFsKVxuICAgICAgKSB7XG4gICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobm9kZSA9PT0gcm9vdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlW1wicmV0dXJuXCJdID09PSBudWxsIHx8IG5vZGVbXCJyZXR1cm5cIl0gPT09IHJvb3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbXCJyZXR1cm5cIl0gPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXRhY2hGaWJlcihjdXJyZW50KSB7XG4gICAgLy8gQ3V0IG9mZiB0aGUgcmV0dXJuIHBvaW50ZXJzIHRvIGRpc2Nvbm5lY3QgaXQgZnJvbSB0aGUgdHJlZS4gSWRlYWxseSwgd2VcbiAgICAvLyBzaG91bGQgY2xlYXIgdGhlIGNoaWxkIHBvaW50ZXIgb2YgdGhlIHBhcmVudCBhbHRlcm5hdGUgdG8gbGV0IHRoaXNcbiAgICAvLyBnZXQgR0M6ZWQgYnV0IHdlIGRvbid0IGtub3cgd2hpY2ggZm9yIHN1cmUgd2hpY2ggcGFyZW50IGlzIHRoZSBjdXJyZW50XG4gICAgLy8gb25lIHNvIHdlJ2xsIHNldHRsZSBmb3IgR0M6aW5nIHRoZSBzdWJ0cmVlIG9mIHRoaXMgY2hpbGQuIFRoaXMgY2hpbGRcbiAgICAvLyBpdHNlbGYgd2lsbCBiZSBHQzplZCB3aGVuIHRoZSBwYXJlbnQgdXBkYXRlcyB0aGUgbmV4dCB0aW1lLlxuICAgIGN1cnJlbnRbXCJyZXR1cm5cIl0gPSBudWxsO1xuICAgIGN1cnJlbnQuY2hpbGQgPSBudWxsO1xuICAgIGlmIChjdXJyZW50LmFsdGVybmF0ZSkge1xuICAgICAgY3VycmVudC5hbHRlcm5hdGUuY2hpbGQgPSBudWxsO1xuICAgICAgY3VycmVudC5hbHRlcm5hdGVbXCJyZXR1cm5cIl0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHZhciBlbXB0eVBvcnRhbENvbnRhaW5lciA9IHZvaWQgMDtcblxuICBpZiAoIW11dGF0aW9uKSB7XG4gICAgdmFyIGNvbW1pdENvbnRhaW5lciA9IHZvaWQgMDtcbiAgICBpZiAocGVyc2lzdGVuY2UpIHtcbiAgICAgIHZhciByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4gPSBwZXJzaXN0ZW5jZS5yZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4sXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lckNoaWxkU2V0ID0gcGVyc2lzdGVuY2UuY3JlYXRlQ29udGFpbmVyQ2hpbGRTZXQ7XG5cbiAgICAgIGVtcHR5UG9ydGFsQ29udGFpbmVyID0gZnVuY3Rpb24oY3VycmVudCkge1xuICAgICAgICB2YXIgcG9ydGFsID0gY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgIHZhciBjb250YWluZXJJbmZvID0gcG9ydGFsLmNvbnRhaW5lckluZm87XG5cbiAgICAgICAgdmFyIGVtcHR5Q2hpbGRTZXQgPSBjcmVhdGVDb250YWluZXJDaGlsZFNldChjb250YWluZXJJbmZvKTtcbiAgICAgICAgcmVwbGFjZUNvbnRhaW5lckNoaWxkcmVuKGNvbnRhaW5lckluZm8sIGVtcHR5Q2hpbGRTZXQpO1xuICAgICAgfTtcbiAgICAgIGNvbW1pdENvbnRhaW5lciA9IGZ1bmN0aW9uKGZpbmlzaGVkV29yaykge1xuICAgICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OiB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEhvc3RUZXh0OiB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgY2FzZSBIb3N0UG9ydGFsOiB7XG4gICAgICAgICAgICB2YXIgcG9ydGFsT3JSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHZhciBjb250YWluZXJJbmZvID0gcG9ydGFsT3JSb290LmNvbnRhaW5lckluZm8sXG4gICAgICAgICAgICAgIF9wZW5kaW5nQ2hpbGRyZW4gPSBwb3J0YWxPclJvb3QucGVuZGluZ0NoaWxkcmVuO1xuXG4gICAgICAgICAgICByZXBsYWNlQ29udGFpbmVyQ2hpbGRyZW4oY29udGFpbmVySW5mbywgX3BlbmRpbmdDaGlsZHJlbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgIFwiVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgXCIgK1xuICAgICAgICAgICAgICAgIFwibGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21taXRDb250YWluZXIgPSBmdW5jdGlvbihmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgLy8gTm9vcFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVBlcnNpc3RlbnRSZWNvbmNpbGVyIHx8IGVuYWJsZU5vb3BSZWNvbmNpbGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21taXRSZXNldFRleHRDb250ZW50OiBmdW5jdGlvbihmaW5pc2hlZFdvcmspIHt9LFxuICAgICAgICBjb21taXRQbGFjZW1lbnQ6IGZ1bmN0aW9uKGZpbmlzaGVkV29yaykge30sXG4gICAgICAgIGNvbW1pdERlbGV0aW9uOiBmdW5jdGlvbihjdXJyZW50KSB7XG4gICAgICAgICAgLy8gRGV0YWNoIHJlZnMgYW5kIGNhbGwgY29tcG9uZW50V2lsbFVubW91bnQoKSBvbiB0aGUgd2hvbGUgc3VidHJlZS5cbiAgICAgICAgICBjb21taXROZXN0ZWRVbm1vdW50cyhjdXJyZW50KTtcbiAgICAgICAgICBkZXRhY2hGaWJlcihjdXJyZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgY29tbWl0V29yazogZnVuY3Rpb24oY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICAgICAgY29tbWl0Q29udGFpbmVyKGZpbmlzaGVkV29yayk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tbWl0TGlmZUN5Y2xlczogY29tbWl0TGlmZUN5Y2xlcyxcbiAgICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzOiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICAgIGNvbW1pdEVycm9yTG9nZ2luZzogY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgICBjb21taXRBdHRhY2hSZWY6IGNvbW1pdEF0dGFjaFJlZixcbiAgICAgICAgY29tbWl0RGV0YWNoUmVmOiBjb21taXREZXRhY2hSZWZcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChwZXJzaXN0ZW5jZSkge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIlBlcnNpc3RlbnQgcmVjb25jaWxlciBpcyBkaXNhYmxlZC5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJOb29wIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuXCIpO1xuICAgIH1cbiAgfVxuICB2YXIgY29tbWl0TW91bnQgPSBtdXRhdGlvbi5jb21taXRNb3VudCxcbiAgICBjb21taXRVcGRhdGUgPSBtdXRhdGlvbi5jb21taXRVcGRhdGUsXG4gICAgcmVzZXRUZXh0Q29udGVudCA9IG11dGF0aW9uLnJlc2V0VGV4dENvbnRlbnQsXG4gICAgY29tbWl0VGV4dFVwZGF0ZSA9IG11dGF0aW9uLmNvbW1pdFRleHRVcGRhdGUsXG4gICAgYXBwZW5kQ2hpbGQgPSBtdXRhdGlvbi5hcHBlbmRDaGlsZCxcbiAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyID0gbXV0YXRpb24uYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcixcbiAgICBpbnNlcnRCZWZvcmUgPSBtdXRhdGlvbi5pbnNlcnRCZWZvcmUsXG4gICAgaW5zZXJ0SW5Db250YWluZXJCZWZvcmUgPSBtdXRhdGlvbi5pbnNlcnRJbkNvbnRhaW5lckJlZm9yZSxcbiAgICByZW1vdmVDaGlsZCA9IG11dGF0aW9uLnJlbW92ZUNoaWxkLFxuICAgIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lciA9IG11dGF0aW9uLnJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcjtcblxuICBmdW5jdGlvbiBnZXRIb3N0UGFyZW50RmliZXIoZmliZXIpIHtcbiAgICB2YXIgcGFyZW50ID0gZmliZXJbXCJyZXR1cm5cIl07XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgaWYgKGlzSG9zdFBhcmVudChwYXJlbnQpKSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnRbXCJyZXR1cm5cIl07XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGZhbHNlLFxuICAgICAgXCJFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBcIiArXG4gICAgICAgIFwiaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSG9zdFBhcmVudChmaWJlcikge1xuICAgIHJldHVybiAoXG4gICAgICBmaWJlci50YWcgPT09IEhvc3RDb21wb25lbnQgfHxcbiAgICAgIGZpYmVyLnRhZyA9PT0gSG9zdFJvb3QgfHxcbiAgICAgIGZpYmVyLnRhZyA9PT0gSG9zdFBvcnRhbFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIb3N0U2libGluZyhmaWJlcikge1xuICAgIC8vIFdlJ3JlIGdvaW5nIHRvIHNlYXJjaCBmb3J3YXJkIGludG8gdGhlIHRyZWUgdW50aWwgd2UgZmluZCBhIHNpYmxpbmcgaG9zdFxuICAgIC8vIG5vZGUuIFVuZm9ydHVuYXRlbHksIGlmIG11bHRpcGxlIGluc2VydGlvbnMgYXJlIGRvbmUgaW4gYSByb3cgd2UgaGF2ZSB0b1xuICAgIC8vIHNlYXJjaCBwYXN0IHRoZW0uIFRoaXMgbGVhZHMgdG8gZXhwb25lbnRpYWwgc2VhcmNoIGZvciB0aGUgbmV4dCBzaWJsaW5nLlxuICAgIHZhciBub2RlID0gZmliZXI7XG4gICAgc2libGluZ3M6IHdoaWxlICh0cnVlKSB7XG4gICAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZywgbGV0J3MgdHJ5IHRoZSBuZXh0IHNpYmxpbmcuXG4gICAgICB3aGlsZSAobm9kZS5zaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgIGlmIChub2RlW1wicmV0dXJuXCJdID09PSBudWxsIHx8IGlzSG9zdFBhcmVudChub2RlW1wicmV0dXJuXCJdKSkge1xuICAgICAgICAgIC8vIElmIHdlIHBvcCBvdXQgb2YgdGhlIHJvb3Qgb3IgaGl0IHRoZSBwYXJlbnQgdGhlIGZpYmVyIHdlIGFyZSB0aGVcbiAgICAgICAgICAvLyBsYXN0IHNpYmxpbmcuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbXCJyZXR1cm5cIl0gPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgIHdoaWxlIChub2RlLnRhZyAhPT0gSG9zdENvbXBvbmVudCAmJiBub2RlLnRhZyAhPT0gSG9zdFRleHQpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgbm90IGhvc3Qgbm9kZSBhbmQsIHdlIG1pZ2h0IGhhdmUgYSBob3N0IG5vZGUgaW5zaWRlIGl0LlxuICAgICAgICAvLyBUcnkgdG8gc2VhcmNoIGRvd24gdW50aWwgd2UgZmluZCBvbmUuXG4gICAgICAgIGlmIChub2RlLmVmZmVjdFRhZyAmIFBsYWNlbWVudCkge1xuICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjaGlsZCwgdHJ5IHRoZSBzaWJsaW5ncyBpbnN0ZWFkLlxuICAgICAgICAgIGNvbnRpbnVlIHNpYmxpbmdzO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBjaGlsZCwgdHJ5IHRoZSBzaWJsaW5ncyBpbnN0ZWFkLlxuICAgICAgICAvLyBXZSBhbHNvIHNraXAgcG9ydGFscyBiZWNhdXNlIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIHRoaXMgaG9zdCB0cmVlLlxuICAgICAgICBpZiAobm9kZS5jaGlsZCA9PT0gbnVsbCB8fCBub2RlLnRhZyA9PT0gSG9zdFBvcnRhbCkge1xuICAgICAgICAgIGNvbnRpbnVlIHNpYmxpbmdzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY2hpbGRbXCJyZXR1cm5cIl0gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGhvc3Qgbm9kZSBpcyBzdGFibGUgb3IgYWJvdXQgdG8gYmUgcGxhY2VkLlxuICAgICAgaWYgKCEobm9kZS5lZmZlY3RUYWcgJiBQbGFjZW1lbnQpKSB7XG4gICAgICAgIC8vIEZvdW5kIGl0IVxuICAgICAgICByZXR1cm4gbm9kZS5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0UGxhY2VtZW50KGZpbmlzaGVkV29yaykge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGluc2VydCBhbGwgaG9zdCBub2RlcyBpbnRvIHRoZSBwYXJlbnQuXG4gICAgdmFyIHBhcmVudEZpYmVyID0gZ2V0SG9zdFBhcmVudEZpYmVyKGZpbmlzaGVkV29yayk7XG4gICAgdmFyIHBhcmVudCA9IHZvaWQgMDtcbiAgICB2YXIgaXNDb250YWluZXIgPSB2b2lkIDA7XG4gICAgc3dpdGNoIChwYXJlbnRGaWJlci50YWcpIHtcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICBpc0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICBpc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgaXNDb250YWluZXIgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIkludmFsaWQgaG9zdCBwYXJlbnQgZmliZXIuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBcIiArXG4gICAgICAgICAgICBcImluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAocGFyZW50RmliZXIuZWZmZWN0VGFnICYgQ29udGVudFJlc2V0KSB7XG4gICAgICAvLyBSZXNldCB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBwYXJlbnQgYmVmb3JlIGRvaW5nIGFueSBpbnNlcnRpb25zXG4gICAgICByZXNldFRleHRDb250ZW50KHBhcmVudCk7XG4gICAgICAvLyBDbGVhciBDb250ZW50UmVzZXQgZnJvbSB0aGUgZWZmZWN0IHRhZ1xuICAgICAgcGFyZW50RmliZXIuZWZmZWN0VGFnICY9IH5Db250ZW50UmVzZXQ7XG4gICAgfVxuXG4gICAgdmFyIGJlZm9yZSA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gICAgLy8gV2Ugb25seSBoYXZlIHRoZSB0b3AgRmliZXIgdGhhdCB3YXMgaW5zZXJ0ZWQgYnV0IHdlIG5lZWQgcmVjdXJzZSBkb3duIGl0c1xuICAgIC8vIGNoaWxkcmVuIHRvIGZpbmQgYWxsIHRoZSB0ZXJtaW5hbCBub2Rlcy5cbiAgICB2YXIgbm9kZSA9IGZpbmlzaGVkV29yaztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0Q29tcG9uZW50IHx8IG5vZGUudGFnID09PSBIb3N0VGV4dCkge1xuICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgaWYgKGlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBpbnNlcnRJbkNvbnRhaW5lckJlZm9yZShwYXJlbnQsIG5vZGUuc3RhdGVOb2RlLCBiZWZvcmUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnNlcnRCZWZvcmUocGFyZW50LCBub2RlLnN0YXRlTm9kZSwgYmVmb3JlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyKHBhcmVudCwgbm9kZS5zdGF0ZU5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBlbmRDaGlsZChwYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gSWYgdGhlIGluc2VydGlvbiBpdHNlbGYgaXMgYSBwb3J0YWwsIHRoZW4gd2UgZG9uJ3Qgd2FudCB0byB0cmF2ZXJzZVxuICAgICAgICAvLyBkb3duIGl0cyBjaGlsZHJlbi4gSW5zdGVhZCwgd2UnbGwgZ2V0IGluc2VydGlvbnMgZnJvbSBlYWNoIGNoaWxkIGluXG4gICAgICAgIC8vIHRoZSBwb3J0YWwgZGlyZWN0bHkuXG4gICAgICB9IGVsc2UgaWYgKG5vZGUuY2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgbm9kZS5jaGlsZFtcInJldHVyblwiXSA9IG5vZGU7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSBmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2hpbGUgKG5vZGUuc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZVtcInJldHVyblwiXSA9PT0gbnVsbCB8fCBub2RlW1wicmV0dXJuXCJdID09PSBmaW5pc2hlZFdvcmspIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbXCJyZXR1cm5cIl0gPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1bm1vdW50SG9zdENvbXBvbmVudHMoY3VycmVudCkge1xuICAgIC8vIFdlIG9ubHkgaGF2ZSB0aGUgdG9wIEZpYmVyIHRoYXQgd2FzIGluc2VydGVkIGJ1dCB3ZSBuZWVkIHJlY3Vyc2UgZG93biBpdHNcbiAgICB2YXIgbm9kZSA9IGN1cnJlbnQ7XG5cbiAgICAvLyBFYWNoIGl0ZXJhdGlvbiwgY3VycmVudFBhcmVudCBpcyBwb3B1bGF0ZWQgd2l0aCBub2RlJ3MgaG9zdCBwYXJlbnQgaWYgbm90XG4gICAgLy8gY3VycmVudFBhcmVudElzVmFsaWQuXG4gICAgdmFyIGN1cnJlbnRQYXJlbnRJc1ZhbGlkID0gZmFsc2U7XG4gICAgdmFyIGN1cnJlbnRQYXJlbnQgPSB2b2lkIDA7XG4gICAgdmFyIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHZvaWQgMDtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoIWN1cnJlbnRQYXJlbnRJc1ZhbGlkKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgICBmaW5kUGFyZW50OiB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgIHBhcmVudCAhPT0gbnVsbCxcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCBhIGhvc3QgcGFyZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgXCIgK1xuICAgICAgICAgICAgICBcImEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBjdXJyZW50UGFyZW50SXNDb250YWluZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWsgZmluZFBhcmVudDtcbiAgICAgICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrIGZpbmRQYXJlbnQ7XG4gICAgICAgICAgICBjYXNlIEhvc3RQb3J0YWw6XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRJc0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrIGZpbmRQYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudCA9IHBhcmVudFtcInJldHVyblwiXTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGFyZW50SXNWYWxpZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChub2RlLnRhZyA9PT0gSG9zdENvbXBvbmVudCB8fCBub2RlLnRhZyA9PT0gSG9zdFRleHQpIHtcbiAgICAgICAgY29tbWl0TmVzdGVkVW5tb3VudHMobm9kZSk7XG4gICAgICAgIC8vIEFmdGVyIGFsbCB0aGUgY2hpbGRyZW4gaGF2ZSB1bm1vdW50ZWQsIGl0IGlzIG5vdyBzYWZlIHRvIHJlbW92ZSB0aGVcbiAgICAgICAgLy8gbm9kZSBmcm9tIHRoZSB0cmVlLlxuICAgICAgICBpZiAoY3VycmVudFBhcmVudElzQ29udGFpbmVyKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGN1cnJlbnRQYXJlbnQsIG5vZGUuc3RhdGVOb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDaGlsZChjdXJyZW50UGFyZW50LCBub2RlLnN0YXRlTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG9uJ3QgdmlzaXQgY2hpbGRyZW4gYmVjYXVzZSB3ZSBhbHJlYWR5IHZpc2l0ZWQgdGhlbS5cbiAgICAgIH0gZWxzZSBpZiAobm9kZS50YWcgPT09IEhvc3RQb3J0YWwpIHtcbiAgICAgICAgLy8gV2hlbiB3ZSBnbyBpbnRvIGEgcG9ydGFsLCBpdCBiZWNvbWVzIHRoZSBwYXJlbnQgdG8gcmVtb3ZlIGZyb20uXG4gICAgICAgIC8vIFdlIHdpbGwgcmVhc3NpZ24gaXQgYmFjayB3aGVuIHdlIHBvcCB0aGUgcG9ydGFsIG9uIHRoZSB3YXkgdXAuXG4gICAgICAgIGN1cnJlbnRQYXJlbnQgPSBub2RlLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAvLyBWaXNpdCBjaGlsZHJlbiBiZWNhdXNlIHBvcnRhbHMgbWlnaHQgY29udGFpbiBob3N0IGNvbXBvbmVudHMuXG4gICAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgbm9kZS5jaGlsZFtcInJldHVyblwiXSA9IG5vZGU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbW1pdFVubW91bnQobm9kZSk7XG4gICAgICAgIC8vIFZpc2l0IGNoaWxkcmVuIGJlY2F1c2Ugd2UgbWF5IGZpbmQgbW9yZSBob3N0IGNvbXBvbmVudHMgYmVsb3cuXG4gICAgICAgIGlmIChub2RlLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgbm9kZS5jaGlsZFtcInJldHVyblwiXSA9IG5vZGU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub2RlID09PSBjdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChub2RlLnNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVbXCJyZXR1cm5cIl0gPT09IG51bGwgfHwgbm9kZVtcInJldHVyblwiXSA9PT0gY3VycmVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZVtcInJldHVyblwiXTtcbiAgICAgICAgaWYgKG5vZGUudGFnID09PSBIb3N0UG9ydGFsKSB7XG4gICAgICAgICAgLy8gV2hlbiB3ZSBnbyBvdXQgb2YgdGhlIHBvcnRhbCwgd2UgbmVlZCB0byByZXN0b3JlIHRoZSBwYXJlbnQuXG4gICAgICAgICAgLy8gU2luY2Ugd2UgZG9uJ3Qga2VlcCBhIHN0YWNrIG9mIHRoZW0sIHdlIHdpbGwgc2VhcmNoIGZvciBpdC5cbiAgICAgICAgICBjdXJyZW50UGFyZW50SXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLnNpYmxpbmdbXCJyZXR1cm5cIl0gPSBub2RlW1wicmV0dXJuXCJdO1xuICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXREZWxldGlvbihjdXJyZW50KSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgZGVsZXRlIGFsbCBob3N0IG5vZGVzIGZyb20gdGhlIHBhcmVudC5cbiAgICAvLyBEZXRhY2ggcmVmcyBhbmQgY2FsbCBjb21wb25lbnRXaWxsVW5tb3VudCgpIG9uIHRoZSB3aG9sZSBzdWJ0cmVlLlxuICAgIHVubW91bnRIb3N0Q29tcG9uZW50cyhjdXJyZW50KTtcbiAgICBkZXRhY2hGaWJlcihjdXJyZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdFdvcmsoY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICBjYXNlIENsYXNzQ29tcG9uZW50OiB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICB2YXIgX2luc3RhbmNlOCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgIGlmIChfaW5zdGFuY2U4ICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBDb21taXQgdGhlIHdvcmsgcHJlcGFyZWQgZWFybGllci5cbiAgICAgICAgICB2YXIgbmV3UHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAvLyBGb3IgaHlkcmF0aW9uIHdlIHJldXNlIHRoZSB1cGRhdGUgcGF0aCBidXQgd2UgdHJlYXQgdGhlIG9sZFByb3BzXG4gICAgICAgICAgLy8gYXMgdGhlIG5ld1Byb3BzLiBUaGUgdXBkYXRlUGF5bG9hZCB3aWxsIGNvbnRhaW4gdGhlIHJlYWwgY2hhbmdlIGluXG4gICAgICAgICAgLy8gdGhpcyBjYXNlLlxuICAgICAgICAgIHZhciBvbGRQcm9wcyA9IGN1cnJlbnQgIT09IG51bGwgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBuZXdQcm9wcztcbiAgICAgICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgIC8vIFRPRE86IFR5cGUgdGhlIHVwZGF0ZVF1ZXVlIHRvIGJlIHNwZWNpZmljIHRvIGhvc3QgY29tcG9uZW50cy5cbiAgICAgICAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUgPSBudWxsO1xuICAgICAgICAgIGlmICh1cGRhdGVQYXlsb2FkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21taXRVcGRhdGUoXG4gICAgICAgICAgICAgIF9pbnN0YW5jZTgsXG4gICAgICAgICAgICAgIHVwZGF0ZVBheWxvYWQsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIG9sZFByb3BzLFxuICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OiB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlICE9PSBudWxsLFxuICAgICAgICAgIFwiVGhpcyBzaG91bGQgaGF2ZSBhIHRleHQgbm9kZSBpbml0aWFsaXplZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgXCIgK1xuICAgICAgICAgICAgXCJjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICAgIHZhciB0ZXh0SW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICB2YXIgbmV3VGV4dCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAvLyBGb3IgaHlkcmF0aW9uIHdlIHJldXNlIHRoZSB1cGRhdGUgcGF0aCBidXQgd2UgdHJlYXQgdGhlIG9sZFByb3BzXG4gICAgICAgIC8vIGFzIHRoZSBuZXdQcm9wcy4gVGhlIHVwZGF0ZVBheWxvYWQgd2lsbCBjb250YWluIHRoZSByZWFsIGNoYW5nZSBpblxuICAgICAgICAvLyB0aGlzIGNhc2UuXG4gICAgICAgIHZhciBvbGRUZXh0ID0gY3VycmVudCAhPT0gbnVsbCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IG5ld1RleHQ7XG4gICAgICAgIGNvbW1pdFRleHRVcGRhdGUodGV4dEluc3RhbmNlLCBvbGRUZXh0LCBuZXdUZXh0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FzZSBIb3N0Um9vdDoge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGludmFyaWFudChcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIlRoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIFwiICtcbiAgICAgICAgICAgIFwibGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRSZXNldFRleHRDb250ZW50KGN1cnJlbnQpIHtcbiAgICByZXNldFRleHRDb250ZW50KGN1cnJlbnQuc3RhdGVOb2RlKTtcbiAgfVxuXG4gIGlmIChlbmFibGVNdXRhdGluZ1JlY29uY2lsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzOiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgICBjb21taXRSZXNldFRleHRDb250ZW50OiBjb21taXRSZXNldFRleHRDb250ZW50LFxuICAgICAgY29tbWl0UGxhY2VtZW50OiBjb21taXRQbGFjZW1lbnQsXG4gICAgICBjb21taXREZWxldGlvbjogY29tbWl0RGVsZXRpb24sXG4gICAgICBjb21taXRXb3JrOiBjb21taXRXb3JrLFxuICAgICAgY29tbWl0TGlmZUN5Y2xlczogY29tbWl0TGlmZUN5Y2xlcyxcbiAgICAgIGNvbW1pdEVycm9yTG9nZ2luZzogY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgICAgY29tbWl0QXR0YWNoUmVmOiBjb21taXRBdHRhY2hSZWYsXG4gICAgICBjb21taXREZXRhY2hSZWY6IGNvbW1pdERldGFjaFJlZlxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgaW52YXJpYW50KGZhbHNlLCBcIk11dGF0aW5nIHJlY29uY2lsZXIgaXMgZGlzYWJsZWQuXCIpO1xuICB9XG59O1xuXG52YXIgTk9fQ09OVEVYVCA9IHt9O1xuXG52YXIgUmVhY3RGaWJlckhvc3RDb250ZXh0ID0gZnVuY3Rpb24oY29uZmlnLCBzdGFjaykge1xuICB2YXIgZ2V0Q2hpbGRIb3N0Q29udGV4dCA9IGNvbmZpZy5nZXRDaGlsZEhvc3RDb250ZXh0LFxuICAgIGdldFJvb3RIb3N0Q29udGV4dCA9IGNvbmZpZy5nZXRSb290SG9zdENvbnRleHQ7XG4gIHZhciBjcmVhdGVDdXJzb3IgPSBzdGFjay5jcmVhdGVDdXJzb3IsXG4gICAgcHVzaCA9IHN0YWNrLnB1c2gsXG4gICAgcG9wID0gc3RhY2sucG9wO1xuXG4gIHZhciBjb250ZXh0U3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoTk9fQ09OVEVYVCk7XG4gIHZhciBjb250ZXh0RmliZXJTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihOT19DT05URVhUKTtcbiAgdmFyIHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKE5PX0NPTlRFWFQpO1xuXG4gIGZ1bmN0aW9uIHJlcXVpcmVkQ29udGV4dChjKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgYyAhPT0gTk9fQ09OVEVYVCxcbiAgICAgIFwiRXhwZWN0ZWQgaG9zdCBjb250ZXh0IHRvIGV4aXN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgXCIgK1xuICAgICAgICBcImluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSb290SG9zdENvbnRhaW5lcigpIHtcbiAgICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHJldHVybiByb290SW5zdGFuY2U7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAgIC8vIFB1c2ggY3VycmVudCByb290IGluc3RhbmNlIG9udG8gdGhlIHN0YWNrO1xuICAgIC8vIFRoaXMgYWxsb3dzIHVzIHRvIHJlc2V0IHJvb3Qgd2hlbiBwb3J0YWxzIGFyZSBwb3BwZWQuXG4gICAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpO1xuICAgIC8vIFRyYWNrIHRoZSBjb250ZXh0IGFuZCB0aGUgRmliZXIgdGhhdCBwcm92aWRlZCBpdC5cbiAgICAvLyBUaGlzIGVuYWJsZXMgdXMgdG8gcG9wIG9ubHkgRmliZXJzIHRoYXQgcHJvdmlkZSB1bmlxdWUgY29udGV4dHMuXG4gICAgcHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKTtcblxuICAgIC8vIEZpbmFsbHksIHdlIG5lZWQgdG8gcHVzaCB0aGUgaG9zdCBjb250ZXh0IHRvIHRoZSBzdGFjay5cbiAgICAvLyBIb3dldmVyLCB3ZSBjYW4ndCBqdXN0IGNhbGwgZ2V0Um9vdEhvc3RDb250ZXh0KCkgYW5kIHB1c2ggaXQgYmVjYXVzZVxuICAgIC8vIHdlJ2QgaGF2ZSBhIGRpZmZlcmVudCBudW1iZXIgb2YgZW50cmllcyBvbiB0aGUgc3RhY2sgZGVwZW5kaW5nIG9uXG4gICAgLy8gd2hldGhlciBnZXRSb290SG9zdENvbnRleHQoKSB0aHJvd3Mgc29tZXdoZXJlIGluIHJlbmRlcmVyIGNvZGUgb3Igbm90LlxuICAgIC8vIFNvIHdlIHB1c2ggYW4gZW1wdHkgdmFsdWUgZmlyc3QuIFRoaXMgbGV0cyB1cyBzYWZlbHkgdW53aW5kIG9uIGVycm9ycy5cbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgTk9fQ09OVEVYVCwgZmliZXIpO1xuICAgIHZhciBuZXh0Um9vdENvbnRleHQgPSBnZXRSb290SG9zdENvbnRleHQobmV4dFJvb3RJbnN0YW5jZSk7XG4gICAgLy8gTm93IHRoYXQgd2Uga25vdyB0aGlzIGZ1bmN0aW9uIGRvZXNuJ3QgdGhyb3csIHJlcGxhY2UgaXQuXG4gICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Um9vdENvbnRleHQsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcEhvc3RDb250YWluZXIoZmliZXIpIHtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIb3N0Q29udGV4dCgpIHtcbiAgICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICB2YXIgcm9vdEluc3RhbmNlID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIHZhciBjb250ZXh0ID0gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICB2YXIgbmV4dENvbnRleHQgPSBnZXRDaGlsZEhvc3RDb250ZXh0KGNvbnRleHQsIGZpYmVyLnR5cGUsIHJvb3RJbnN0YW5jZSk7XG5cbiAgICAvLyBEb24ndCBwdXNoIHRoaXMgRmliZXIncyBjb250ZXh0IHVubGVzcyBpdCdzIHVuaXF1ZS5cbiAgICBpZiAoY29udGV4dCA9PT0gbmV4dENvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFjayB0aGUgY29udGV4dCBhbmQgdGhlIEZpYmVyIHRoYXQgcHJvdmlkZWQgaXQuXG4gICAgLy8gVGhpcyBlbmFibGVzIHVzIHRvIHBvcCBvbmx5IEZpYmVycyB0aGF0IHByb3ZpZGUgdW5pcXVlIGNvbnRleHRzLlxuICAgIHB1c2goY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlcik7XG4gICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG5leHRDb250ZXh0LCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BIb3N0Q29udGV4dChmaWJlcikge1xuICAgIC8vIERvIG5vdCBwb3AgdW5sZXNzIHRoaXMgRmliZXIgcHJvdmlkZWQgdGhlIGN1cnJlbnQgY29udGV4dC5cbiAgICAvLyBwdXNoSG9zdENvbnRleHQoKSBvbmx5IHB1c2hlcyBGaWJlcnMgdGhhdCBwcm92aWRlIHVuaXF1ZSBjb250ZXh0cy5cbiAgICBpZiAoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IuY3VycmVudCAhPT0gZmliZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEhvc3RDb250ZXh0OiBnZXRIb3N0Q29udGV4dCxcbiAgICBnZXRSb290SG9zdENvbnRhaW5lcjogZ2V0Um9vdEhvc3RDb250YWluZXIsXG4gICAgcG9wSG9zdENvbnRhaW5lcjogcG9wSG9zdENvbnRhaW5lcixcbiAgICBwb3BIb3N0Q29udGV4dDogcG9wSG9zdENvbnRleHQsXG4gICAgcHVzaEhvc3RDb250YWluZXI6IHB1c2hIb3N0Q29udGFpbmVyLFxuICAgIHB1c2hIb3N0Q29udGV4dDogcHVzaEhvc3RDb250ZXh0XG4gIH07XG59O1xuXG52YXIgUmVhY3RGaWJlckh5ZHJhdGlvbkNvbnRleHQgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgdmFyIHNob3VsZFNldFRleHRDb250ZW50ID0gY29uZmlnLnNob3VsZFNldFRleHRDb250ZW50LFxuICAgIGh5ZHJhdGlvbiA9IGNvbmZpZy5oeWRyYXRpb247XG5cbiAgLy8gSWYgdGhpcyBkb2Vzbid0IGhhdmUgaHlkcmF0aW9uIG1vZGUuXG5cbiAgaWYgKCFoeWRyYXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW50ZXJIeWRyYXRpb25TdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICByZXNldEh5ZHJhdGlvblN0YXRlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2U6IGZ1bmN0aW9uKCkge30sXG4gICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiRXhwZWN0ZWQgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSgpIHRvIG5ldmVyIGJlIGNhbGxlZC4gXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnZhcmlhbnQoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJFeHBlY3RlZCBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSgpIHRvIG5ldmVyIGJlIGNhbGxlZC4gXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgcG9wSHlkcmF0aW9uU3RhdGU6IGZ1bmN0aW9uKGZpYmVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGNhbkh5ZHJhdGVJbnN0YW5jZSA9IGh5ZHJhdGlvbi5jYW5IeWRyYXRlSW5zdGFuY2UsXG4gICAgY2FuSHlkcmF0ZVRleHRJbnN0YW5jZSA9IGh5ZHJhdGlvbi5jYW5IeWRyYXRlVGV4dEluc3RhbmNlLFxuICAgIGdldE5leHRIeWRyYXRhYmxlU2libGluZyA9IGh5ZHJhdGlvbi5nZXROZXh0SHlkcmF0YWJsZVNpYmxpbmcsXG4gICAgZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQgPSBoeWRyYXRpb24uZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQsXG4gICAgaHlkcmF0ZUluc3RhbmNlID0gaHlkcmF0aW9uLmh5ZHJhdGVJbnN0YW5jZSxcbiAgICBoeWRyYXRlVGV4dEluc3RhbmNlID0gaHlkcmF0aW9uLmh5ZHJhdGVUZXh0SW5zdGFuY2UsXG4gICAgZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZSA9XG4gICAgICBoeWRyYXRpb24uZGlkTm90TWF0Y2hIeWRyYXRlZENvbnRhaW5lclRleHRJbnN0YW5jZSxcbiAgICBkaWROb3RNYXRjaEh5ZHJhdGVkVGV4dEluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdE1hdGNoSHlkcmF0ZWRUZXh0SW5zdGFuY2UsXG4gICAgZGlkTm90SHlkcmF0ZUNvbnRhaW5lckluc3RhbmNlID0gaHlkcmF0aW9uLmRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZSxcbiAgICBkaWROb3RIeWRyYXRlSW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90SHlkcmF0ZUluc3RhbmNlLFxuICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UgPVxuICAgICAgaHlkcmF0aW9uLmRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVySW5zdGFuY2UsXG4gICAgZGlkTm90RmluZEh5ZHJhdGFibGVDb250YWluZXJUZXh0SW5zdGFuY2UgPVxuICAgICAgaHlkcmF0aW9uLmRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlLFxuICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZSxcbiAgICBkaWROb3RGaW5kSHlkcmF0YWJsZVRleHRJbnN0YW5jZSA9XG4gICAgICBoeWRyYXRpb24uZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2U7XG5cbiAgLy8gVGhlIGRlZXBlc3QgRmliZXIgb24gdGhlIHN0YWNrIGludm9sdmVkIGluIGEgaHlkcmF0aW9uIGNvbnRleHQuXG4gIC8vIFRoaXMgbWF5IGhhdmUgYmVlbiBhbiBpbnNlcnRpb24gb3IgYSBoeWRyYXRpb24uXG5cbiAgdmFyIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gbnVsbDtcbiAgdmFyIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsO1xuICB2YXIgaXNIeWRyYXRpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBlbnRlckh5ZHJhdGlvblN0YXRlKGZpYmVyKSB7XG4gICAgdmFyIHBhcmVudEluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldEZpcnN0SHlkcmF0YWJsZUNoaWxkKHBhcmVudEluc3RhbmNlKTtcbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgIGlzSHlkcmF0aW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZUh5ZHJhdGFibGVJbnN0YW5jZShyZXR1cm5GaWJlciwgaW5zdGFuY2UpIHtcbiAgICB7XG4gICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RSb290OlxuICAgICAgICAgIGRpZE5vdEh5ZHJhdGVDb250YWluZXJJbnN0YW5jZShcbiAgICAgICAgICAgIHJldHVybkZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgZGlkTm90SHlkcmF0ZUluc3RhbmNlKFxuICAgICAgICAgICAgcmV0dXJuRmliZXIudHlwZSxcbiAgICAgICAgICAgIHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHMsXG4gICAgICAgICAgICByZXR1cm5GaWJlci5zdGF0ZU5vZGUsXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkVG9EZWxldGUgPSBjcmVhdGVGaWJlckZyb21Ib3N0SW5zdGFuY2VGb3JEZWxldGlvbigpO1xuICAgIGNoaWxkVG9EZWxldGUuc3RhdGVOb2RlID0gaW5zdGFuY2U7XG4gICAgY2hpbGRUb0RlbGV0ZVtcInJldHVyblwiXSA9IHJldHVybkZpYmVyO1xuICAgIGNoaWxkVG9EZWxldGUuZWZmZWN0VGFnID0gRGVsZXRpb247XG5cbiAgICAvLyBUaGlzIG1pZ2h0IHNlZW0gbGlrZSBpdCBiZWxvbmdzIG9uIHByb2dyZXNzZWRGaXJzdERlbGV0aW9uLiBIb3dldmVyLFxuICAgIC8vIHRoZXNlIGNoaWxkcmVuIGFyZSBub3QgcGFydCBvZiB0aGUgcmVjb25jaWxpYXRpb24gbGlzdCBvZiBjaGlsZHJlbi5cbiAgICAvLyBFdmVuIGlmIHdlIGFib3J0IGFuZCByZXJlY29uY2lsZSB0aGUgY2hpbGRyZW4sIHRoYXQgd2lsbCB0cnkgdG8gaHlkcmF0ZVxuICAgIC8vIGFnYWluIGFuZCB0aGUgbm9kZXMgYXJlIHN0aWxsIGluIHRoZSBob3N0IHRyZWUgc28gdGhlc2Ugd2lsbCBiZVxuICAgIC8vIHJlY3JlYXRlZC5cbiAgICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICAgIHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluc2VydE5vbkh5ZHJhdGVkSW5zdGFuY2UocmV0dXJuRmliZXIsIGZpYmVyKSB7XG4gICAgZmliZXIuZWZmZWN0VGFnIHw9IFBsYWNlbWVudDtcbiAgICB7XG4gICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RSb290OiB7XG4gICAgICAgICAgdmFyIHBhcmVudENvbnRhaW5lciA9IHJldHVybkZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgICAgICAgICAgdmFyIHByb3BzID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgICBkaWROb3RGaW5kSHlkcmF0YWJsZUNvbnRhaW5lckluc3RhbmNlKFxuICAgICAgICAgICAgICAgIHBhcmVudENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgIHByb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBIb3N0VGV4dDpcbiAgICAgICAgICAgICAgdmFyIHRleHQgPSBmaWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICAgIGRpZE5vdEZpbmRIeWRyYXRhYmxlQ29udGFpbmVyVGV4dEluc3RhbmNlKHBhcmVudENvbnRhaW5lciwgdGV4dCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6IHtcbiAgICAgICAgICB2YXIgcGFyZW50VHlwZSA9IHJldHVybkZpYmVyLnR5cGU7XG4gICAgICAgICAgdmFyIHBhcmVudFByb3BzID0gcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICB2YXIgcGFyZW50SW5zdGFuY2UgPSByZXR1cm5GaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDpcbiAgICAgICAgICAgICAgdmFyIF90eXBlID0gZmliZXIudHlwZTtcbiAgICAgICAgICAgICAgdmFyIF9wcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVJbnN0YW5jZShcbiAgICAgICAgICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICAgICAgICAgIHBhcmVudFByb3BzLFxuICAgICAgICAgICAgICAgIHBhcmVudEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIF90eXBlLFxuICAgICAgICAgICAgICAgIF9wcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSG9zdFRleHQ6XG4gICAgICAgICAgICAgIHZhciBfdGV4dCA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgICAgZGlkTm90RmluZEh5ZHJhdGFibGVUZXh0SW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgcGFyZW50VHlwZSxcbiAgICAgICAgICAgICAgICBwYXJlbnRQcm9wcyxcbiAgICAgICAgICAgICAgICBwYXJlbnRJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBfdGV4dFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5SHlkcmF0ZShmaWJlciwgbmV4dEluc3RhbmNlKSB7XG4gICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICAgIHZhciBwcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgICAgdmFyIGluc3RhbmNlID0gY2FuSHlkcmF0ZUluc3RhbmNlKG5leHRJbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUgPSBpbnN0YW5jZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjYXNlIEhvc3RUZXh0OiB7XG4gICAgICAgIHZhciB0ZXh0ID0gZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgICB2YXIgdGV4dEluc3RhbmNlID0gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShuZXh0SW5zdGFuY2UsIHRleHQpO1xuICAgICAgICBpZiAodGV4dEluc3RhbmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgZmliZXIuc3RhdGVOb2RlID0gdGV4dEluc3RhbmNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZShmaWJlcikge1xuICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG5leHRJbnN0YW5jZSA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgaWYgKCFuZXh0SW5zdGFuY2UpIHtcbiAgICAgIC8vIE5vdGhpbmcgdG8gaHlkcmF0ZS4gTWFrZSBpdCBhbiBpbnNlcnRpb24uXG4gICAgICBpbnNlcnROb25IeWRyYXRlZEluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBmaWJlcik7XG4gICAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0cnlIeWRyYXRlKGZpYmVyLCBuZXh0SW5zdGFuY2UpKSB7XG4gICAgICAvLyBJZiB3ZSBjYW4ndCBoeWRyYXRlIHRoaXMgaW5zdGFuY2UgbGV0J3MgdHJ5IHRoZSBuZXh0IG9uZS5cbiAgICAgIC8vIFdlIHVzZSB0aGlzIGFzIGEgaGV1cmlzdGljLiBJdCdzIGJhc2VkIG9uIGludHVpdGlvbiBhbmQgbm90IGRhdGEgc28gaXRcbiAgICAgIC8vIG1pZ2h0IGJlIGZsYXdlZCBvciB1bm5lY2Vzc2FyeS5cbiAgICAgIG5leHRJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlU2libGluZyhuZXh0SW5zdGFuY2UpO1xuICAgICAgaWYgKCFuZXh0SW5zdGFuY2UgfHwgIXRyeUh5ZHJhdGUoZmliZXIsIG5leHRJbnN0YW5jZSkpIHtcbiAgICAgICAgLy8gTm90aGluZyB0byBoeWRyYXRlLiBNYWtlIGl0IGFuIGluc2VydGlvbi5cbiAgICAgICAgaW5zZXJ0Tm9uSHlkcmF0ZWRJbnN0YW5jZShoeWRyYXRpb25QYXJlbnRGaWJlciwgZmliZXIpO1xuICAgICAgICBpc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBXZSBtYXRjaGVkIHRoZSBuZXh0IG9uZSwgd2UnbGwgbm93IGFzc3VtZSB0aGF0IHRoZSBmaXJzdCBvbmUgd2FzXG4gICAgICAvLyBzdXBlcmZsdW91cyBhbmQgd2UnbGwgZGVsZXRlIGl0LiBTaW5jZSB3ZSBjYW4ndCBlYWdlcmx5IGRlbGV0ZSBpdFxuICAgICAgLy8gd2UnbGwgaGF2ZSB0byBzY2hlZHVsZSBhIGRlbGV0aW9uLiBUbyBkbyB0aGF0LCB0aGlzIG5vZGUgbmVlZHMgYSBkdW1teVxuICAgICAgLy8gZmliZXIgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAgZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKGh5ZHJhdGlvblBhcmVudEZpYmVyLCBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKTtcbiAgICB9XG4gICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlcjtcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0Rmlyc3RIeWRyYXRhYmxlQ2hpbGQobmV4dEluc3RhbmNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoXG4gICAgZmliZXIsXG4gICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgIGhvc3RDb250ZXh0XG4gICkge1xuICAgIHZhciBpbnN0YW5jZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGh5ZHJhdGVJbnN0YW5jZShcbiAgICAgIGluc3RhbmNlLFxuICAgICAgZmliZXIudHlwZSxcbiAgICAgIGZpYmVyLm1lbW9pemVkUHJvcHMsXG4gICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICBob3N0Q29udGV4dCxcbiAgICAgIGZpYmVyXG4gICAgKTtcbiAgICAvLyBUT0RPOiBUeXBlIHRoaXMgc3BlY2lmaWMgdG8gdGhpcyB0eXBlIG9mIGNvbXBvbmVudC5cbiAgICBmaWJlci51cGRhdGVRdWV1ZSA9IHVwZGF0ZVBheWxvYWQ7XG4gICAgLy8gSWYgdGhlIHVwZGF0ZSBwYXlsb2FkIGluZGljYXRlcyB0aGF0IHRoZXJlIGlzIGEgY2hhbmdlIG9yIGlmIHRoZXJlXG4gICAgLy8gaXMgYSBuZXcgcmVmIHdlIG1hcmsgdGhpcyBhcyBhbiB1cGRhdGUuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZShmaWJlcikge1xuICAgIHZhciB0ZXh0SW5zdGFuY2UgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgdmFyIHRleHRDb250ZW50ID0gZmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gaHlkcmF0ZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UsIHRleHRDb250ZW50LCBmaWJlcik7XG4gICAge1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZSBpcyBjYWxsZWQgaW4gYSBjb250ZXh0IHdoZXJlIHRoZVxuICAgICAgICAvLyBoeWRyYXRpb24gcGFyZW50IGlzIHRoZSBwYXJlbnQgaG9zdCBjb21wb25lbnQgb2YgdGhpcyBob3N0IHRleHQuXG4gICAgICAgIHZhciByZXR1cm5GaWJlciA9IGh5ZHJhdGlvblBhcmVudEZpYmVyO1xuICAgICAgICBpZiAocmV0dXJuRmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICAgICAgY2FzZSBIb3N0Um9vdDoge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50Q29udGFpbmVyID0gcmV0dXJuRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgIGRpZE5vdE1hdGNoSHlkcmF0ZWRDb250YWluZXJUZXh0SW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgcGFyZW50Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHRleHRJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICB0ZXh0Q29udGVudFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgSG9zdENvbXBvbmVudDoge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50VHlwZSA9IHJldHVybkZpYmVyLnR5cGU7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRQcm9wcyA9IHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRJbnN0YW5jZSA9IHJldHVybkZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgZGlkTm90TWF0Y2hIeWRyYXRlZFRleHRJbnN0YW5jZShcbiAgICAgICAgICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICAgICAgICAgIHBhcmVudFByb3BzLFxuICAgICAgICAgICAgICAgIHBhcmVudEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIHRleHRJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICB0ZXh0Q29udGVudFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZFVwZGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpIHtcbiAgICB2YXIgcGFyZW50ID0gZmliZXJbXCJyZXR1cm5cIl07XG4gICAgd2hpbGUgKFxuICAgICAgcGFyZW50ICE9PSBudWxsICYmXG4gICAgICBwYXJlbnQudGFnICE9PSBIb3N0Q29tcG9uZW50ICYmXG4gICAgICBwYXJlbnQudGFnICE9PSBIb3N0Um9vdFxuICAgICkge1xuICAgICAgcGFyZW50ID0gcGFyZW50W1wicmV0dXJuXCJdO1xuICAgIH1cbiAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IHBhcmVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcEh5ZHJhdGlvblN0YXRlKGZpYmVyKSB7XG4gICAgaWYgKGZpYmVyICE9PSBoeWRyYXRpb25QYXJlbnRGaWJlcikge1xuICAgICAgLy8gV2UncmUgZGVlcGVyIHRoYW4gdGhlIGN1cnJlbnQgaHlkcmF0aW9uIGNvbnRleHQsIGluc2lkZSBhbiBpbnNlcnRlZFxuICAgICAgLy8gdHJlZS5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFpc0h5ZHJhdGluZykge1xuICAgICAgLy8gSWYgd2UncmUgbm90IGN1cnJlbnRseSBoeWRyYXRpbmcgYnV0IHdlJ3JlIGluIGEgaHlkcmF0aW9uIGNvbnRleHQsIHRoZW5cbiAgICAgIC8vIHdlIHdlcmUgYW4gaW5zZXJ0aW9uIGFuZCBub3cgbmVlZCB0byBwb3AgdXAgcmVlbnRlciBoeWRyYXRpb24gb2Ygb3VyXG4gICAgICAvLyBzaWJsaW5ncy5cbiAgICAgIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpO1xuICAgICAgaXNIeWRyYXRpbmcgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcblxuICAgIC8vIElmIHdlIGhhdmUgYW55IHJlbWFpbmluZyBoeWRyYXRhYmxlIG5vZGVzLCB3ZSBuZWVkIHRvIGRlbGV0ZSB0aGVtIG5vdy5cbiAgICAvLyBXZSBvbmx5IGRvIHRoaXMgZGVlcGVyIHRoYW4gaGVhZCBhbmQgYm9keSBzaW5jZSB0aGV5IHRlbmQgdG8gaGF2ZSByYW5kb21cbiAgICAvLyBvdGhlciBub2RlcyBpbiB0aGVtLiBXZSBhbHNvIGlnbm9yZSBjb21wb25lbnRzIHdpdGggcHVyZSB0ZXh0IGNvbnRlbnQgaW5cbiAgICAvLyBzaWRlIG9mIHRoZW0uXG4gICAgLy8gVE9ETzogQmV0dGVyIGhldXJpc3RpYy5cbiAgICBpZiAoXG4gICAgICBmaWJlci50YWcgIT09IEhvc3RDb21wb25lbnQgfHxcbiAgICAgICh0eXBlICE9PSBcImhlYWRcIiAmJlxuICAgICAgICB0eXBlICE9PSBcImJvZHlcIiAmJlxuICAgICAgICAhc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgZmliZXIubWVtb2l6ZWRQcm9wcykpXG4gICAgKSB7XG4gICAgICB2YXIgbmV4dEluc3RhbmNlID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcbiAgICAgIHdoaWxlIChuZXh0SW5zdGFuY2UpIHtcbiAgICAgICAgZGVsZXRlSHlkcmF0YWJsZUluc3RhbmNlKGZpYmVyLCBuZXh0SW5zdGFuY2UpO1xuICAgICAgICBuZXh0SW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZVNpYmxpbmcobmV4dEluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKTtcbiAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uUGFyZW50RmliZXJcbiAgICAgID8gZ2V0TmV4dEh5ZHJhdGFibGVTaWJsaW5nKGZpYmVyLnN0YXRlTm9kZSlcbiAgICAgIDogbnVsbDtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSB7XG4gICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsO1xuICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsO1xuICAgIGlzSHlkcmF0aW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVudGVySHlkcmF0aW9uU3RhdGU6IGVudGVySHlkcmF0aW9uU3RhdGUsXG4gICAgcmVzZXRIeWRyYXRpb25TdGF0ZTogcmVzZXRIeWRyYXRpb25TdGF0ZSxcbiAgICB0cnlUb0NsYWltTmV4dEh5ZHJhdGFibGVJbnN0YW5jZTogdHJ5VG9DbGFpbU5leHRIeWRyYXRhYmxlSW5zdGFuY2UsXG4gICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZTogcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSxcbiAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdFRleHRJbnN0YW5jZTogcHJlcGFyZVRvSHlkcmF0ZUhvc3RUZXh0SW5zdGFuY2UsXG4gICAgcG9wSHlkcmF0aW9uU3RhdGU6IHBvcEh5ZHJhdGlvblN0YXRlXG4gIH07XG59O1xuXG4vLyBUaGlzIGxldHMgdXMgaG9vayBpbnRvIEZpYmVyIHRvIGRlYnVnIHdoYXQgaXQncyBkb2luZy5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC84MDMzLlxuLy8gVGhpcyBpcyBub3QgcGFydCBvZiB0aGUgcHVibGljIEFQSSwgbm90IGV2ZW4gZm9yIFJlYWN0IERldlRvb2xzLlxuLy8gWW91IG1heSBvbmx5IGluamVjdCBhIGRlYnVnVG9vbCBpZiB5b3Ugd29yayBvbiBSZWFjdCBGaWJlciBpdHNlbGYuXG52YXIgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbiA9IHtcbiAgZGVidWdUb29sOiBudWxsXG59O1xuXG52YXIgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xID0gUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbjtcblxudmFyIHdhcm5lZEFib3V0TWlzc2luZ0dldENoaWxkQ29udGV4dCA9IHZvaWQgMDtcblxue1xuICB3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHQgPSB7fTtcbn1cblxudmFyIFJlYWN0RmliZXJMZWdhY3lDb250ZXh0ID0gZnVuY3Rpb24oc3RhY2spIHtcbiAgdmFyIGNyZWF0ZUN1cnNvciA9IHN0YWNrLmNyZWF0ZUN1cnNvcixcbiAgICBwdXNoID0gc3RhY2sucHVzaCxcbiAgICBwb3AgPSBzdGFjay5wb3A7XG5cbiAgLy8gQSBjdXJzb3IgdG8gdGhlIGN1cnJlbnQgbWVyZ2VkIGNvbnRleHQgb2JqZWN0IG9uIHRoZSBzdGFjay5cblxuICB2YXIgY29udGV4dFN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKGVtcHR5T2JqZWN0KTtcbiAgLy8gQSBjdXJzb3IgdG8gYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgY29udGV4dCBoYXMgY2hhbmdlZC5cbiAgdmFyIGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoZmFsc2UpO1xuICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBwcmV2aW91cyBjb250ZXh0IG9iamVjdCB0aGF0IHdhcyBvbiB0aGUgc3RhY2suXG4gIC8vIFdlIHVzZSB0aGlzIHRvIGdldCBhY2Nlc3MgdG8gdGhlIHBhcmVudCBjb250ZXh0IGFmdGVyIHdlIGhhdmUgYWxyZWFkeVxuICAvLyBwdXNoZWQgdGhlIG5leHQgY29udGV4dCBwcm92aWRlciwgYW5kIG5vdyBuZWVkIHRvIG1lcmdlIHRoZWlyIGNvbnRleHRzLlxuICB2YXIgcHJldmlvdXNDb250ZXh0ID0gZW1wdHlPYmplY3Q7XG5cbiAgZnVuY3Rpb24gZ2V0VW5tYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gICAgdmFyIGhhc093bkNvbnRleHQgPSBpc0NvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgaWYgKGhhc093bkNvbnRleHQpIHtcbiAgICAgIC8vIElmIHRoZSBmaWJlciBpcyBhIGNvbnRleHQgcHJvdmlkZXIgaXRzZWxmLCB3aGVuIHdlIHJlYWQgaXRzIGNvbnRleHRcbiAgICAgIC8vIHdlIGhhdmUgYWxyZWFkeSBwdXNoZWQgaXRzIG93biBjaGlsZCBjb250ZXh0IG9uIHRoZSBzdGFjay4gQSBjb250ZXh0XG4gICAgICAvLyBwcm92aWRlciBzaG91bGQgbm90IFwic2VlXCIgaXRzIG93biBjaGlsZCBjb250ZXh0LiBUaGVyZWZvcmUgd2UgcmVhZCB0aGVcbiAgICAgIC8vIHByZXZpb3VzIChwYXJlbnQpIGNvbnRleHQgaW5zdGVhZCBmb3IgYSBjb250ZXh0IHByb3ZpZGVyLlxuICAgICAgcmV0dXJuIHByZXZpb3VzQ29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FjaGVDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQsIG1hc2tlZENvbnRleHQpIHtcbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgaW5zdGFuY2UuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9IHVubWFza2VkQ29udGV4dDtcbiAgICBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dCA9IG1hc2tlZENvbnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNYXNrZWRDb250ZXh0KHdvcmtJblByb2dyZXNzLCB1bm1hc2tlZENvbnRleHQpIHtcbiAgICB2YXIgdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgdmFyIGNvbnRleHRUeXBlcyA9IHR5cGUuY29udGV4dFR5cGVzO1xuICAgIGlmICghY29udGV4dFR5cGVzKSB7XG4gICAgICByZXR1cm4gZW1wdHlPYmplY3Q7XG4gICAgfVxuXG4gICAgLy8gQXZvaWQgcmVjcmVhdGluZyBtYXNrZWQgY29udGV4dCB1bmxlc3MgdW5tYXNrZWQgY29udGV4dCBoYXMgY2hhbmdlZC5cbiAgICAvLyBGYWlsaW5nIHRvIGRvIHRoaXMgd2lsbCByZXN1bHQgaW4gdW5uZWNlc3NhcnkgY2FsbHMgdG8gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5cbiAgICAvLyBUaGlzIG1heSB0cmlnZ2VyIGluZmluaXRlIGxvb3BzIGlmIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgY2FsbHMgc2V0U3RhdGUuXG4gICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgIGlmIChcbiAgICAgIGluc3RhbmNlICYmXG4gICAgICBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0ID09PSB1bm1hc2tlZENvbnRleHRcbiAgICApIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dDtcbiAgICB9XG5cbiAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBjb250ZXh0VHlwZXMpIHtcbiAgICAgIGNvbnRleHRba2V5XSA9IHVubWFza2VkQ29udGV4dFtrZXldO1xuICAgIH1cblxuICAgIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh3b3JrSW5Qcm9ncmVzcykgfHwgXCJVbmtub3duXCI7XG4gICAgICBjaGVja1Byb3BUeXBlcyhcbiAgICAgICAgY29udGV4dFR5cGVzLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBcImNvbnRleHRcIixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5nZXRDdXJyZW50RmliZXJTdGFja0FkZGVuZHVtXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENhY2hlIHVubWFza2VkIGNvbnRleHQgc28gd2UgY2FuIGF2b2lkIHJlY3JlYXRpbmcgbWFza2VkIGNvbnRleHQgdW5sZXNzIG5lY2Vzc2FyeS5cbiAgICAvLyBDb250ZXh0IGlzIGNyZWF0ZWQgYmVmb3JlIHRoZSBjbGFzcyBjb21wb25lbnQgaXMgaW5zdGFudGlhdGVkIHNvIGNoZWNrIGZvciBpbnN0YW5jZS5cbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIGNhY2hlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgdW5tYXNrZWRDb250ZXh0LCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbnRleHRDaGFuZ2VkKCkge1xuICAgIHJldHVybiBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvbnRleHRDb25zdW1lcihmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY29udGV4dFR5cGVzICE9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpc0NvbnRleHRQcm92aWRlcihmaWJlcikge1xuICAgIHJldHVybiBmaWJlci50YWcgPT09IENsYXNzQ29tcG9uZW50ICYmIGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXMgIT0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcENvbnRleHRQcm92aWRlcihmaWJlcikge1xuICAgIGlmICghaXNDb250ZXh0UHJvdmlkZXIoZmliZXIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwb3BUb3BMZXZlbENvbnRleHRPYmplY3QoZmliZXIpIHtcbiAgICBwb3AoZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hUb3BMZXZlbENvbnRleHRPYmplY3QoZmliZXIsIGNvbnRleHQsIGRpZENoYW5nZSkge1xuICAgIGludmFyaWFudChcbiAgICAgIGNvbnRleHRTdGFja0N1cnNvci5jdXJzb3IgPT0gbnVsbCxcbiAgICAgIFwiVW5leHBlY3RlZCBjb250ZXh0IGZvdW5kIG9uIHN0YWNrLiBcIiArXG4gICAgICAgIFwiVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG5cbiAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgY29udGV4dCwgZmliZXIpO1xuICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCBmaWJlcik7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQ2hpbGRDb250ZXh0KGZpYmVyLCBwYXJlbnRDb250ZXh0KSB7XG4gICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgIHZhciBjaGlsZENvbnRleHRUeXBlcyA9IGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXM7XG5cbiAgICAvLyBUT0RPIChidmF1Z2huKSBSZXBsYWNlIHRoaXMgYmVoYXZpb3Igd2l0aCBhbiBpbnZhcmlhbnQoKSBpbiB0aGUgZnV0dXJlLlxuICAgIC8vIEl0IGhhcyBvbmx5IGJlZW4gYWRkZWQgaW4gRmliZXIgdG8gbWF0Y2ggdGhlICh1bmludGVudGlvbmFsKSBiZWhhdmlvciBpbiBTdGFjay5cbiAgICBpZiAodHlwZW9mIGluc3RhbmNlLmdldENoaWxkQ29udGV4dCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJVbmtub3duXCI7XG5cbiAgICAgICAgaWYgKCF3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHRbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgICB3YXJuZWRBYm91dE1pc3NpbmdHZXRDaGlsZENvbnRleHRbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiJXMuY2hpbGRDb250ZXh0VHlwZXMgaXMgc3BlY2lmaWVkIGJ1dCB0aGVyZSBpcyBubyBnZXRDaGlsZENvbnRleHQoKSBtZXRob2QgXCIgK1xuICAgICAgICAgICAgICBcIm9uIHRoZSBpbnN0YW5jZS4gWW91IGNhbiBlaXRoZXIgZGVmaW5lIGdldENoaWxkQ29udGV4dCgpIG9uICVzIG9yIHJlbW92ZSBcIiArXG4gICAgICAgICAgICAgIFwiY2hpbGRDb250ZXh0VHlwZXMgZnJvbSBpdC5cIixcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmVudENvbnRleHQ7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IHZvaWQgMDtcbiAgICB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnNldEN1cnJlbnRQaGFzZShcImdldENoaWxkQ29udGV4dFwiKTtcbiAgICB9XG4gICAgc3RhcnRQaGFzZVRpbWVyKGZpYmVyLCBcImdldENoaWxkQ29udGV4dFwiKTtcbiAgICBjaGlsZENvbnRleHQgPSBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQoKTtcbiAgICBzdG9wUGhhc2VUaW1lcigpO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudFBoYXNlKG51bGwpO1xuICAgIH1cbiAgICBmb3IgKHZhciBjb250ZXh0S2V5IGluIGNoaWxkQ29udGV4dCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjb250ZXh0S2V5IGluIGNoaWxkQ29udGV4dFR5cGVzLFxuICAgICAgICAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGtleSBcIiVzXCIgaXMgbm90IGRlZmluZWQgaW4gY2hpbGRDb250ZXh0VHlwZXMuJyxcbiAgICAgICAgZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJVbmtub3duXCIsXG4gICAgICAgIGNvbnRleHRLZXlcbiAgICAgICk7XG4gICAgfVxuICAgIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJVbmtub3duXCI7XG4gICAgICBjaGVja1Byb3BUeXBlcyhcbiAgICAgICAgY2hpbGRDb250ZXh0VHlwZXMsXG4gICAgICAgIGNoaWxkQ29udGV4dCxcbiAgICAgICAgXCJjaGlsZCBjb250ZXh0XCIsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIC8vIEluIHByYWN0aWNlLCB0aGVyZSBpcyBvbmUgY2FzZSBpbiB3aGljaCB3ZSB3b24ndCBnZXQgYSBzdGFjay4gSXQncyB3aGVuXG4gICAgICAgIC8vIHNvbWVib2R5IGNhbGxzIHVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKCkgYW5kIHdlIHByb2Nlc3NcbiAgICAgICAgLy8gY29udGV4dCBmcm9tIHRoZSBwYXJlbnQgY29tcG9uZW50IGluc3RhbmNlLiBUaGUgc3RhY2sgd2lsbCBiZSBtaXNzaW5nXG4gICAgICAgIC8vIGJlY2F1c2UgaXQncyBvdXRzaWRlIG9mIHRoZSByZWNvbmNpbGlhdGlvbiwgYW5kIHNvIHRoZSBwb2ludGVyIGhhcyBub3RcbiAgICAgICAgLy8gYmVlbiBzZXQuIFRoaXMgaXMgcmFyZSBhbmQgZG9lc24ndCBtYXR0ZXIuIFdlJ2xsIGFsc28gcmVtb3ZlIHRoYXQgQVBJLlxuICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLmdldEN1cnJlbnRGaWJlclN0YWNrQWRkZW5kdW1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHBhcmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoQ29udGV4dFByb3ZpZGVyKHdvcmtJblByb2dyZXNzKSB7XG4gICAgaWYgKCFpc0NvbnRleHRQcm92aWRlcih3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgLy8gV2UgcHVzaCB0aGUgY29udGV4dCBhcyBlYXJseSBhcyBwb3NzaWJsZSB0byBlbnN1cmUgc3RhY2sgaW50ZWdyaXR5LlxuICAgIC8vIElmIHRoZSBpbnN0YW5jZSBkb2VzIG5vdCBleGlzdCB5ZXQsIHdlIHdpbGwgcHVzaCBudWxsIGF0IGZpcnN0LFxuICAgIC8vIGFuZCByZXBsYWNlIGl0IG9uIHRoZSBzdGFjayBsYXRlciB3aGVuIGludmFsaWRhdGluZyB0aGUgY29udGV4dC5cbiAgICB2YXIgbWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPVxuICAgICAgKGluc3RhbmNlICYmIGluc3RhbmNlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0KSB8fFxuICAgICAgZW1wdHlPYmplY3Q7XG5cbiAgICAvLyBSZW1lbWJlciB0aGUgcGFyZW50IGNvbnRleHQgc28gd2UgY2FuIG1lcmdlIHdpdGggaXQgbGF0ZXIuXG4gICAgLy8gSW5oZXJpdCB0aGUgcGFyZW50J3MgZGlkLXBlcmZvcm0td29yayB2YWx1ZSB0byBhdm9pZCBpbmFkdmVydGVudGx5IGJsb2NraW5nIHVwZGF0ZXMuXG4gICAgcHJldmlvdXNDb250ZXh0ID0gY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgcHVzaChcbiAgICAgIGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsXG4gICAgICBkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLmN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGludmFsaWRhdGVDb250ZXh0UHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIGRpZENoYW5nZSkge1xuICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIFwiRXhwZWN0ZWQgdG8gaGF2ZSBhbiBpbnN0YW5jZSBieSB0aGlzIHBvaW50LiBcIiArXG4gICAgICAgIFwiVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG5cbiAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAvLyBNZXJnZSBwYXJlbnQgYW5kIG93biBjb250ZXh0LlxuICAgICAgLy8gU2tpcCB0aGlzIGlmIHdlJ3JlIG5vdCB1cGRhdGluZyBkdWUgdG8gc0NVLlxuICAgICAgLy8gVGhpcyBhdm9pZHMgdW5uZWNlc3NhcmlseSByZWNvbXB1dGluZyBtZW1vaXplZCB2YWx1ZXMuXG4gICAgICB2YXIgbWVyZ2VkQ29udGV4dCA9IHByb2Nlc3NDaGlsZENvbnRleHQod29ya0luUHJvZ3Jlc3MsIHByZXZpb3VzQ29udGV4dCk7XG4gICAgICBpbnN0YW5jZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1lcmdlZENoaWxkQ29udGV4dCA9IG1lcmdlZENvbnRleHQ7XG5cbiAgICAgIC8vIFJlcGxhY2UgdGhlIG9sZCAob3IgZW1wdHkpIGNvbnRleHQgd2l0aCB0aGUgbmV3IG9uZS5cbiAgICAgIC8vIEl0IGlzIGltcG9ydGFudCB0byB1bndpbmQgdGhlIGNvbnRleHQgaW4gdGhlIHJldmVyc2Ugb3JkZXIuXG4gICAgICBwb3AoZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgLy8gTm93IHB1c2ggdGhlIG5ldyBjb250ZXh0IGFuZCBtYXJrIHRoYXQgaXQgaGFzIGNoYW5nZWQuXG4gICAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbWVyZ2VkQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcHVzaChkaWRQZXJmb3JtV29ya1N0YWNrQ3Vyc29yLCBkaWRDaGFuZ2UsIHdvcmtJblByb2dyZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9wKGRpZFBlcmZvcm1Xb3JrU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHB1c2goZGlkUGVyZm9ybVdvcmtTdGFja0N1cnNvciwgZGlkQ2hhbmdlLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQoZmliZXIpIHtcbiAgICAvLyBDdXJyZW50bHkgdGhpcyBpcyBvbmx5IHVzZWQgd2l0aCByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjsgbm90IHN1cmUgaWYgaXRcbiAgICAvLyBtYWtlcyBzZW5zZSBlbHNld2hlcmVcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpc0ZpYmVyTW91bnRlZChmaWJlcikgJiYgZmliZXIudGFnID09PSBDbGFzc0NvbXBvbmVudCxcbiAgICAgIFwiRXhwZWN0ZWQgc3VidHJlZSBwYXJlbnQgdG8gYmUgYSBtb3VudGVkIGNsYXNzIGNvbXBvbmVudC4gXCIgK1xuICAgICAgICBcIlRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuXG4gICAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgICB3aGlsZSAobm9kZS50YWcgIT09IEhvc3RSb290KSB7XG4gICAgICBpZiAoaXNDb250ZXh0UHJvdmlkZXIobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudCA9IG5vZGVbXCJyZXR1cm5cIl07XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgXCJGb3VuZCB1bmV4cGVjdGVkIGRldGFjaGVkIHN1YnRyZWUgcGFyZW50LiBcIiArXG4gICAgICAgICAgXCJUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICApO1xuICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGUuc3RhdGVOb2RlLmNvbnRleHQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFVubWFza2VkQ29udGV4dDogZ2V0VW5tYXNrZWRDb250ZXh0LFxuICAgIGNhY2hlQ29udGV4dDogY2FjaGVDb250ZXh0LFxuICAgIGdldE1hc2tlZENvbnRleHQ6IGdldE1hc2tlZENvbnRleHQsXG4gICAgaGFzQ29udGV4dENoYW5nZWQ6IGhhc0NvbnRleHRDaGFuZ2VkLFxuICAgIGlzQ29udGV4dENvbnN1bWVyOiBpc0NvbnRleHRDb25zdW1lcixcbiAgICBpc0NvbnRleHRQcm92aWRlcjogaXNDb250ZXh0UHJvdmlkZXIsXG4gICAgcG9wQ29udGV4dFByb3ZpZGVyOiBwb3BDb250ZXh0UHJvdmlkZXIsXG4gICAgcG9wVG9wTGV2ZWxDb250ZXh0T2JqZWN0OiBwb3BUb3BMZXZlbENvbnRleHRPYmplY3QsXG4gICAgcHVzaFRvcExldmVsQ29udGV4dE9iamVjdDogcHVzaFRvcExldmVsQ29udGV4dE9iamVjdCxcbiAgICBwcm9jZXNzQ2hpbGRDb250ZXh0OiBwcm9jZXNzQ2hpbGRDb250ZXh0LFxuICAgIHB1c2hDb250ZXh0UHJvdmlkZXI6IHB1c2hDb250ZXh0UHJvdmlkZXIsXG4gICAgaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcjogaW52YWxpZGF0ZUNvbnRleHRQcm92aWRlcixcbiAgICBmaW5kQ3VycmVudFVubWFza2VkQ29udGV4dDogZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHRcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyTmV3Q29udGV4dCA9IGZ1bmN0aW9uKHN0YWNrKSB7XG4gIHZhciBjcmVhdGVDdXJzb3IgPSBzdGFjay5jcmVhdGVDdXJzb3IsXG4gICAgcHVzaCA9IHN0YWNrLnB1c2gsXG4gICAgcG9wID0gc3RhY2sucG9wO1xuXG4gIHZhciBwcm92aWRlckN1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKTtcbiAgdmFyIHZhbHVlQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xuICB2YXIgY2hhbmdlZEJpdHNDdXJzb3IgPSBjcmVhdGVDdXJzb3IoMCk7XG5cbiAgdmFyIHJlbmRlcmVyU2lnaWwgPSB2b2lkIDA7XG4gIHtcbiAgICAvLyBVc2UgdGhpcyB0byBkZXRlY3QgbXVsdGlwbGUgcmVuZGVyZXJzIHVzaW5nIHRoZSBzYW1lIGNvbnRleHRcbiAgICByZW5kZXJlclNpZ2lsID0ge307XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoUHJvdmlkZXIocHJvdmlkZXJGaWJlcikge1xuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJGaWJlci50eXBlLl9jb250ZXh0O1xuXG4gICAgcHVzaChjaGFuZ2VkQml0c0N1cnNvciwgY29udGV4dC5fY2hhbmdlZEJpdHMsIHByb3ZpZGVyRmliZXIpO1xuICAgIHB1c2godmFsdWVDdXJzb3IsIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSwgcHJvdmlkZXJGaWJlcik7XG4gICAgcHVzaChwcm92aWRlckN1cnNvciwgcHJvdmlkZXJGaWJlciwgcHJvdmlkZXJGaWJlcik7XG5cbiAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBwcm92aWRlckZpYmVyLnBlbmRpbmdQcm9wcy52YWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IHByb3ZpZGVyRmliZXIuc3RhdGVOb2RlO1xuXG4gICAge1xuICAgICAgIShcbiAgICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID09PSBudWxsIHx8XG4gICAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9PT0gcmVuZGVyZXJTaWdpbFxuICAgICAgKVxuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiRGV0ZWN0ZWQgbXVsdGlwbGUgcmVuZGVyZXJzIGNvbmN1cnJlbnRseSByZW5kZXJpbmcgdGhlIFwiICtcbiAgICAgICAgICAgICAgXCJzYW1lIGNvbnRleHQgcHJvdmlkZXIuIFRoaXMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6IHZvaWQgMDtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcG9wUHJvdmlkZXIocHJvdmlkZXJGaWJlcikge1xuICAgIHZhciBjaGFuZ2VkQml0cyA9IGNoYW5nZWRCaXRzQ3Vyc29yLmN1cnJlbnQ7XG4gICAgdmFyIGN1cnJlbnRWYWx1ZSA9IHZhbHVlQ3Vyc29yLmN1cnJlbnQ7XG5cbiAgICBwb3AocHJvdmlkZXJDdXJzb3IsIHByb3ZpZGVyRmliZXIpO1xuICAgIHBvcCh2YWx1ZUN1cnNvciwgcHJvdmlkZXJGaWJlcik7XG4gICAgcG9wKGNoYW5nZWRCaXRzQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcblxuICAgIHZhciBjb250ZXh0ID0gcHJvdmlkZXJGaWJlci50eXBlLl9jb250ZXh0O1xuICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICBjb250ZXh0Ll9jaGFuZ2VkQml0cyA9IGNoYW5nZWRCaXRzO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwdXNoUHJvdmlkZXI6IHB1c2hQcm92aWRlcixcbiAgICBwb3BQcm92aWRlcjogcG9wUHJvdmlkZXJcbiAgfTtcbn07XG5cbnZhciBSZWFjdEZpYmVyU3RhY2sgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHZhbHVlU3RhY2sgPSBbXTtcblxuICB2YXIgZmliZXJTdGFjayA9IHZvaWQgMDtcblxuICB7XG4gICAgZmliZXJTdGFjayA9IFtdO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gLTE7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ3Vyc29yKGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBjdXJyZW50OiBkZWZhdWx0VmFsdWVcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wKGN1cnNvciwgZmliZXIpIHtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICB7XG4gICAgICAgIHdhcm5pbmcoZmFsc2UsIFwiVW5leHBlY3RlZCBwb3AuXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmIChmaWJlciAhPT0gZmliZXJTdGFja1tpbmRleF0pIHtcbiAgICAgICAgd2FybmluZyhmYWxzZSwgXCJVbmV4cGVjdGVkIEZpYmVyIHBvcHBlZC5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZVN0YWNrW2luZGV4XTtcblxuICAgIHZhbHVlU3RhY2tbaW5kZXhdID0gbnVsbDtcblxuICAgIHtcbiAgICAgIGZpYmVyU3RhY2tbaW5kZXhdID0gbnVsbDtcbiAgICB9XG5cbiAgICBpbmRleC0tO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChjdXJzb3IsIHZhbHVlLCBmaWJlcikge1xuICAgIGluZGV4Kys7XG5cbiAgICB2YWx1ZVN0YWNrW2luZGV4XSA9IGN1cnNvci5jdXJyZW50O1xuXG4gICAge1xuICAgICAgZmliZXJTdGFja1tpbmRleF0gPSBmaWJlcjtcbiAgICB9XG5cbiAgICBjdXJzb3IuY3VycmVudCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tUaGF0U3RhY2tJc0VtcHR5KCkge1xuICAgIHtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIkV4cGVjdGVkIGFuIGVtcHR5IHN0YWNrLiBTb21ldGhpbmcgd2FzIG5vdCByZXNldCBwcm9wZXJseS5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0U3RhY2tBZnRlckZhdGFsRXJyb3JJbkRldigpIHtcbiAgICB7XG4gICAgICBpbmRleCA9IC0xO1xuICAgICAgdmFsdWVTdGFjay5sZW5ndGggPSAwO1xuICAgICAgZmliZXJTdGFjay5sZW5ndGggPSAwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlQ3Vyc29yOiBjcmVhdGVDdXJzb3IsXG4gICAgaXNFbXB0eTogaXNFbXB0eSxcbiAgICBwb3A6IHBvcCxcbiAgICBwdXNoOiBwdXNoLFxuICAgIGNoZWNrVGhhdFN0YWNrSXNFbXB0eTogY2hlY2tUaGF0U3RhY2tJc0VtcHR5LFxuICAgIHJlc2V0U3RhY2tBZnRlckZhdGFsRXJyb3JJbkRldjogcmVzZXRTdGFja0FmdGVyRmF0YWxFcnJvckluRGV2XG4gIH07XG59O1xuXG52YXIgaW52b2tlR3VhcmRlZENhbGxiYWNrJDIgPSBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrO1xudmFyIGhhc0NhdWdodEVycm9yID0gUmVhY3RFcnJvclV0aWxzLmhhc0NhdWdodEVycm9yO1xudmFyIGNsZWFyQ2F1Z2h0RXJyb3IgPSBSZWFjdEVycm9yVXRpbHMuY2xlYXJDYXVnaHRFcnJvcjtcblxudmFyIGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbiA9IHZvaWQgMDtcbnZhciBkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSB2b2lkIDA7XG52YXIgd2FybkFib3V0SW52YWxpZFVwZGF0ZXMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0U3RhdGVUcmFuc2l0aW9uID0gZmFsc2U7XG4gIGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCA9IGZhbHNlO1xuICB2YXIgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge307XG5cbiAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQgPSBmdW5jdGlvbihmaWJlcikge1xuICAgIC8vIFdlIHNob3cgdGhlIHdob2xlIHN0YWNrIGJ1dCBkZWR1cGUgb24gdGhlIHRvcCBjb21wb25lbnQncyBuYW1lIGJlY2F1c2VcbiAgICAvLyB0aGUgcHJvYmxlbWF0aWMgY29kZSBhbG1vc3QgYWx3YXlzIGxpZXMgaW5zaWRlIHRoYXQgY29tcG9uZW50LlxuICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZShmaWJlcikgfHwgXCJSZWFjdENsYXNzXCI7XG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFtjb21wb25lbnROYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBcIkNhbid0IGNhbGwgc2V0U3RhdGUgKG9yIGZvcmNlVXBkYXRlKSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LiBUaGlzIFwiICtcbiAgICAgICAgXCJpcyBhIG5vLW9wLCBidXQgaXQgaW5kaWNhdGVzIGEgbWVtb3J5IGxlYWsgaW4geW91ciBhcHBsaWNhdGlvbi4gVG8gXCIgK1xuICAgICAgICBcImZpeCwgY2FuY2VsIGFsbCBzdWJzY3JpcHRpb25zIGFuZCBhc3luY2hyb25vdXMgdGFza3MgaW4gdGhlIFwiICtcbiAgICAgICAgXCJjb21wb25lbnRXaWxsVW5tb3VudCBtZXRob2QuJXNcIixcbiAgICAgIGdldFN0YWNrQWRkZW5kdW1CeVdvcmtJblByb2dyZXNzRmliZXIoZmliZXIpXG4gICAgKTtcbiAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICB9O1xuXG4gIHdhcm5BYm91dEludmFsaWRVcGRhdGVzID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICBzd2l0Y2ggKFJlYWN0RGVidWdDdXJyZW50RmliZXIucGhhc2UpIHtcbiAgICAgIGNhc2UgXCJnZXRDaGlsZENvbnRleHRcIjpcbiAgICAgICAgaWYgKGRpZFdhcm5TZXRTdGF0ZUNoaWxkQ29udGV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwic2V0U3RhdGUoLi4uKTogQ2Fubm90IGNhbGwgc2V0U3RhdGUoKSBpbnNpZGUgZ2V0Q2hpbGRDb250ZXh0KClcIlxuICAgICAgICApO1xuICAgICAgICBkaWRXYXJuU2V0U3RhdGVDaGlsZENvbnRleHQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZW5kZXJcIjpcbiAgICAgICAgaWYgKGRpZFdhcm5BYm91dFN0YXRlVHJhbnNpdGlvbikge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiQ2Fubm90IHVwZGF0ZSBkdXJpbmcgYW4gZXhpc3Rpbmcgc3RhdGUgdHJhbnNpdGlvbiAoc3VjaCBhcyB3aXRoaW4gXCIgK1xuICAgICAgICAgICAgXCJgcmVuZGVyYCBvciBhbm90aGVyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yKS4gUmVuZGVyIG1ldGhvZHMgc2hvdWxkIFwiICtcbiAgICAgICAgICAgIFwiYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZTsgY29uc3RydWN0b3Igc2lkZS1lZmZlY3RzIGFyZSBcIiArXG4gICAgICAgICAgICBcImFuIGFudGktcGF0dGVybiwgYnV0IGNhbiBiZSBtb3ZlZCB0byBgY29tcG9uZW50V2lsbE1vdW50YC5cIlxuICAgICAgICApO1xuICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZVRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG59XG5cbnZhciBSZWFjdEZpYmVyU2NoZWR1bGVyID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gIHZhciBzdGFjayA9IFJlYWN0RmliZXJTdGFjaygpO1xuICB2YXIgaG9zdENvbnRleHQgPSBSZWFjdEZpYmVySG9zdENvbnRleHQoY29uZmlnLCBzdGFjayk7XG4gIHZhciBsZWdhY3lDb250ZXh0ID0gUmVhY3RGaWJlckxlZ2FjeUNvbnRleHQoc3RhY2spO1xuICB2YXIgbmV3Q29udGV4dCA9IFJlYWN0RmliZXJOZXdDb250ZXh0KHN0YWNrKTtcbiAgdmFyIHBvcEhvc3RDb250ZXh0ID0gaG9zdENvbnRleHQucG9wSG9zdENvbnRleHQsXG4gICAgcG9wSG9zdENvbnRhaW5lciA9IGhvc3RDb250ZXh0LnBvcEhvc3RDb250YWluZXI7XG4gIHZhciBwb3BUb3BMZXZlbExlZ2FjeUNvbnRleHRPYmplY3QgPSBsZWdhY3lDb250ZXh0LnBvcFRvcExldmVsQ29udGV4dE9iamVjdCxcbiAgICBwb3BMZWdhY3lDb250ZXh0UHJvdmlkZXIgPSBsZWdhY3lDb250ZXh0LnBvcENvbnRleHRQcm92aWRlcjtcbiAgdmFyIHBvcFByb3ZpZGVyID0gbmV3Q29udGV4dC5wb3BQcm92aWRlcjtcblxuICB2YXIgaHlkcmF0aW9uQ29udGV4dCA9IFJlYWN0RmliZXJIeWRyYXRpb25Db250ZXh0KGNvbmZpZyk7XG5cbiAgdmFyIF9SZWFjdEZpYmVyQmVnaW5Xb3JrID0gUmVhY3RGaWJlckJlZ2luV29yayhcbiAgICAgIGNvbmZpZyxcbiAgICAgIGhvc3RDb250ZXh0LFxuICAgICAgbGVnYWN5Q29udGV4dCxcbiAgICAgIG5ld0NvbnRleHQsXG4gICAgICBoeWRyYXRpb25Db250ZXh0LFxuICAgICAgc2NoZWR1bGVXb3JrLFxuICAgICAgY29tcHV0ZUV4cGlyYXRpb25Gb3JGaWJlclxuICAgICksXG4gICAgYmVnaW5Xb3JrID0gX1JlYWN0RmliZXJCZWdpbldvcmsuYmVnaW5Xb3JrO1xuXG4gIHZhciBfUmVhY3RGaWJlckNvbXBsZXRlV28gPSBSZWFjdEZpYmVyQ29tcGxldGVXb3JrKFxuICAgICAgY29uZmlnLFxuICAgICAgaG9zdENvbnRleHQsXG4gICAgICBsZWdhY3lDb250ZXh0LFxuICAgICAgbmV3Q29udGV4dCxcbiAgICAgIGh5ZHJhdGlvbkNvbnRleHRcbiAgICApLFxuICAgIGNvbXBsZXRlV29yayA9IF9SZWFjdEZpYmVyQ29tcGxldGVXby5jb21wbGV0ZVdvcms7XG5cbiAgdmFyIF9SZWFjdEZpYmVyVW53aW5kV29yayA9IFJlYWN0RmliZXJVbndpbmRXb3JrKFxuICAgICAgaG9zdENvbnRleHQsXG4gICAgICBsZWdhY3lDb250ZXh0LFxuICAgICAgbmV3Q29udGV4dCxcbiAgICAgIHNjaGVkdWxlV29yayxcbiAgICAgIGlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnlcbiAgICApLFxuICAgIHRocm93RXhjZXB0aW9uID0gX1JlYWN0RmliZXJVbndpbmRXb3JrLnRocm93RXhjZXB0aW9uLFxuICAgIHVud2luZFdvcmsgPSBfUmVhY3RGaWJlclVud2luZFdvcmsudW53aW5kV29yayxcbiAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsgPSBfUmVhY3RGaWJlclVud2luZFdvcmsudW53aW5kSW50ZXJydXB0ZWRXb3JrO1xuXG4gIHZhciBfUmVhY3RGaWJlckNvbW1pdFdvcmsgPSBSZWFjdEZpYmVyQ29tbWl0V29yayhcbiAgICAgIGNvbmZpZyxcbiAgICAgIG9uQ29tbWl0UGhhc2VFcnJvcixcbiAgICAgIHNjaGVkdWxlV29yayxcbiAgICAgIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIsXG4gICAgICBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkLFxuICAgICAgcmVjYWxjdWxhdGVDdXJyZW50VGltZVxuICAgICksXG4gICAgY29tbWl0QmVmb3JlTXV0YXRpb25MaWZlQ3ljbGVzID1cbiAgICAgIF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMsXG4gICAgY29tbWl0UmVzZXRUZXh0Q29udGVudCA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRSZXNldFRleHRDb250ZW50LFxuICAgIGNvbW1pdFBsYWNlbWVudCA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRQbGFjZW1lbnQsXG4gICAgY29tbWl0RGVsZXRpb24gPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RGVsZXRpb24sXG4gICAgY29tbWl0V29yayA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRXb3JrLFxuICAgIGNvbW1pdExpZmVDeWNsZXMgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0TGlmZUN5Y2xlcyxcbiAgICBjb21taXRFcnJvckxvZ2dpbmcgPSBfUmVhY3RGaWJlckNvbW1pdFdvcmsuY29tbWl0RXJyb3JMb2dnaW5nLFxuICAgIGNvbW1pdEF0dGFjaFJlZiA9IF9SZWFjdEZpYmVyQ29tbWl0V29yay5jb21taXRBdHRhY2hSZWYsXG4gICAgY29tbWl0RGV0YWNoUmVmID0gX1JlYWN0RmliZXJDb21taXRXb3JrLmNvbW1pdERldGFjaFJlZjtcblxuICB2YXIgbm93ID0gY29uZmlnLm5vdyxcbiAgICBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2sgPSBjb25maWcuc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrLFxuICAgIGNhbmNlbERlZmVycmVkQ2FsbGJhY2sgPSBjb25maWcuY2FuY2VsRGVmZXJyZWRDYWxsYmFjayxcbiAgICBwcmVwYXJlRm9yQ29tbWl0ID0gY29uZmlnLnByZXBhcmVGb3JDb21taXQsXG4gICAgcmVzZXRBZnRlckNvbW1pdCA9IGNvbmZpZy5yZXNldEFmdGVyQ29tbWl0O1xuXG4gIC8vIFJlcHJlc2VudHMgdGhlIGN1cnJlbnQgdGltZSBpbiBtcy5cblxuICB2YXIgb3JpZ2luYWxTdGFydFRpbWVNcyA9IG5vdygpO1xuICB2YXIgbW9zdFJlY2VudEN1cnJlbnRUaW1lID0gbXNUb0V4cGlyYXRpb25UaW1lKDApO1xuICB2YXIgbW9zdFJlY2VudEN1cnJlbnRUaW1lTXMgPSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuXG4gIC8vIFVzZWQgdG8gZW5zdXJlIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24gaXMgbW9ub3RvbmljYWxseSBpbmNyZWFzZXMuXG4gIHZhciBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uID0gMDtcblxuICAvLyBSZXByZXNlbnRzIHRoZSBleHBpcmF0aW9uIHRpbWUgdGhhdCBpbmNvbWluZyB1cGRhdGVzIHNob3VsZCB1c2UuIChJZiB0aGlzXG4gIC8vIGlzIE5vV29yaywgdXNlIHRoZSBkZWZhdWx0IHN0cmF0ZWd5OiBhc3luYyB1cGRhdGVzIGluIGFzeW5jIG1vZGUsIHN5bmNcbiAgLy8gdXBkYXRlcyBpbiBzeW5jIG1vZGUuKVxuICB2YXIgZXhwaXJhdGlvbkNvbnRleHQgPSBOb1dvcms7XG5cbiAgdmFyIGlzV29ya2luZyA9IGZhbHNlO1xuXG4gIC8vIFRoZSBuZXh0IHdvcmsgaW4gcHJvZ3Jlc3MgZmliZXIgdGhhdCB3ZSdyZSBjdXJyZW50bHkgd29ya2luZyBvbi5cbiAgdmFyIG5leHRVbml0T2ZXb3JrID0gbnVsbDtcbiAgdmFyIG5leHRSb290ID0gbnVsbDtcbiAgLy8gVGhlIHRpbWUgYXQgd2hpY2ggd2UncmUgY3VycmVudGx5IHJlbmRlcmluZyB3b3JrLlxuICB2YXIgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gIC8vIFRoZSBuZXh0IGZpYmVyIHdpdGggYW4gZWZmZWN0IHRoYXQgd2UncmUgY3VycmVudGx5IGNvbW1pdHRpbmcuXG4gIHZhciBuZXh0RWZmZWN0ID0gbnVsbDtcblxuICB2YXIgaXNDb21taXR0aW5nID0gZmFsc2U7XG5cbiAgdmFyIGlzUm9vdFJlYWR5Rm9yQ29tbWl0ID0gZmFsc2U7XG5cbiAgdmFyIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcblxuICAvLyBVc2VkIGZvciBwZXJmb3JtYW5jZSB0cmFja2luZy5cbiAgdmFyIGludGVycnVwdGVkQnkgPSBudWxsO1xuXG4gIHZhciBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gdm9pZCAwO1xuICB2YXIgcmVwbGF5VW5pdE9mV29yayA9IHZvaWQgMDtcbiAgdmFyIGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yayA9IHZvaWQgMDtcbiAgdmFyIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSB2b2lkIDA7XG4gIHZhciByZXRocm93T3JpZ2luYWxFcnJvciA9IHZvaWQgMDtcbiAgaWYgKHRydWUgJiYgcmVwbGF5RmFpbGVkVW5pdE9mV29ya1dpdGhJbnZva2VHdWFyZGVkQ2FsbGJhY2spIHtcbiAgICBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSBmYWxzZTtcbiAgICBvcmlnaW5hbFJlcGxheUVycm9yID0gbnVsbDtcbiAgICByZXBsYXlVbml0T2ZXb3JrID0gZnVuY3Rpb24oZmFpbGVkVW5pdE9mV29yaywgZXJyb3IsIGlzQXN5bmMpIHtcbiAgICAgIC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIHN0YXRlIG9mIHRoZSB3b3JrLWluLXByb2dyZXNzXG4gICAgICBhc3NpZ25GaWJlclByb3BlcnRpZXNJbkRFVihcbiAgICAgICAgZmFpbGVkVW5pdE9mV29yayxcbiAgICAgICAgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllc1xuICAgICAgKTtcbiAgICAgIHN3aXRjaCAoZmFpbGVkVW5pdE9mV29yay50YWcpIHtcbiAgICAgICAgY2FzZSBIb3N0Um9vdDpcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIHBvcFRvcExldmVsTGVnYWN5Q29udGV4dE9iamVjdChmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBIb3N0Q29tcG9uZW50OlxuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENsYXNzQ29tcG9uZW50OlxuICAgICAgICAgIHBvcExlZ2FjeUNvbnRleHRQcm92aWRlcihmYWlsZWRVbml0T2ZXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBIb3N0UG9ydGFsOlxuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoZmFpbGVkVW5pdE9mV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29udGV4dFByb3ZpZGVyOlxuICAgICAgICAgIHBvcFByb3ZpZGVyKGZhaWxlZFVuaXRPZldvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gUmVwbGF5IHRoZSBiZWdpbiBwaGFzZS5cbiAgICAgIGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yayA9IHRydWU7XG4gICAgICBvcmlnaW5hbFJlcGxheUVycm9yID0gZXJyb3I7XG4gICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihudWxsLCB3b3JrTG9vcCwgbnVsbCwgaXNBc3luYyk7XG4gICAgICBpc1JlcGxheWluZ0ZhaWxlZFVuaXRPZldvcmsgPSBmYWxzZTtcbiAgICAgIG9yaWdpbmFsUmVwbGF5RXJyb3IgPSBudWxsO1xuICAgICAgaWYgKGhhc0NhdWdodEVycm9yKCkpIHtcbiAgICAgICAgY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIGJlZ2luIHBoYXNlIGRpZCBub3QgZmFpbCB0aGUgc2Vjb25kIHRpbWUsIHNldCB0aGlzIHBvaW50ZXJcbiAgICAgICAgLy8gYmFjayB0byB0aGUgb3JpZ2luYWwgdmFsdWUuXG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gZmFpbGVkVW5pdE9mV29yaztcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldGhyb3dPcmlnaW5hbEVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBvcmlnaW5hbFJlcGxheUVycm9yO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFN0YWNrKCkge1xuICAgIGlmIChuZXh0VW5pdE9mV29yayAhPT0gbnVsbCkge1xuICAgICAgdmFyIGludGVycnVwdGVkV29yayA9IG5leHRVbml0T2ZXb3JrW1wicmV0dXJuXCJdO1xuICAgICAgd2hpbGUgKGludGVycnVwdGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgaW50ZXJydXB0ZWRXb3JrID0gaW50ZXJydXB0ZWRXb3JrW1wicmV0dXJuXCJdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MoKTtcbiAgICAgIHN0YWNrLmNoZWNrVGhhdFN0YWNrSXNFbXB0eSgpO1xuICAgIH1cblxuICAgIG5leHRSb290ID0gbnVsbDtcbiAgICBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgbmV4dFVuaXRPZldvcmsgPSBudWxsO1xuXG4gICAgaXNSb290UmVhZHlGb3JDb21taXQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1pdEFsbEhvc3RFZmZlY3RzKCkge1xuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB7XG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudEZpYmVyKG5leHRFZmZlY3QpO1xuICAgICAgfVxuICAgICAgcmVjb3JkRWZmZWN0KCk7XG5cbiAgICAgIHZhciBlZmZlY3RUYWcgPSBuZXh0RWZmZWN0LmVmZmVjdFRhZztcblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIENvbnRlbnRSZXNldCkge1xuICAgICAgICBjb21taXRSZXNldFRleHRDb250ZW50KG5leHRFZmZlY3QpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgUmVmKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgY29tbWl0RGV0YWNoUmVmKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBmb2xsb3dpbmcgc3dpdGNoIHN0YXRlbWVudCBpcyBvbmx5IGNvbmNlcm5lZCBhYm91dCBwbGFjZW1lbnQsXG4gICAgICAvLyB1cGRhdGVzLCBhbmQgZGVsZXRpb25zLiBUbyBhdm9pZCBuZWVkaW5nIHRvIGFkZCBhIGNhc2UgZm9yIGV2ZXJ5XG4gICAgICAvLyBwb3NzaWJsZSBiaXRtYXAgdmFsdWUsIHdlIHJlbW92ZSB0aGUgc2Vjb25kYXJ5IGVmZmVjdHMgZnJvbSB0aGVcbiAgICAgIC8vIGVmZmVjdCB0YWcgYW5kIHN3aXRjaCBvbiB0aGF0IHZhbHVlLlxuICAgICAgdmFyIHByaW1hcnlFZmZlY3RUYWcgPSBlZmZlY3RUYWcgJiAoUGxhY2VtZW50IHwgVXBkYXRlIHwgRGVsZXRpb24pO1xuICAgICAgc3dpdGNoIChwcmltYXJ5RWZmZWN0VGFnKSB7XG4gICAgICAgIGNhc2UgUGxhY2VtZW50OiB7XG4gICAgICAgICAgY29tbWl0UGxhY2VtZW50KG5leHRFZmZlY3QpO1xuICAgICAgICAgIC8vIENsZWFyIHRoZSBcInBsYWNlbWVudFwiIGZyb20gZWZmZWN0IHRhZyBzbyB0aGF0IHdlIGtub3cgdGhhdCB0aGlzIGlzIGluc2VydGVkLCBiZWZvcmVcbiAgICAgICAgICAvLyBhbnkgbGlmZS1jeWNsZXMgbGlrZSBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZC5cbiAgICAgICAgICAvLyBUT0RPOiBmaW5kRE9NTm9kZSBkb2Vzbid0IHJlbHkgb24gdGhpcyBhbnkgbW9yZSBidXQgaXNNb3VudGVkXG4gICAgICAgICAgLy8gZG9lcyBhbmQgaXNNb3VudGVkIGlzIGRlcHJlY2F0ZWQgYW55d2F5IHNvIHdlIHNob3VsZCBiZSBhYmxlXG4gICAgICAgICAgLy8gdG8ga2lsbCB0aGlzLlxuICAgICAgICAgIG5leHRFZmZlY3QuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBQbGFjZW1lbnRBbmRVcGRhdGU6IHtcbiAgICAgICAgICAvLyBQbGFjZW1lbnRcbiAgICAgICAgICBjb21taXRQbGFjZW1lbnQobmV4dEVmZmVjdCk7XG4gICAgICAgICAgLy8gQ2xlYXIgdGhlIFwicGxhY2VtZW50XCIgZnJvbSBlZmZlY3QgdGFnIHNvIHRoYXQgd2Uga25vdyB0aGF0IHRoaXMgaXMgaW5zZXJ0ZWQsIGJlZm9yZVxuICAgICAgICAgIC8vIGFueSBsaWZlLWN5Y2xlcyBsaWtlIGNvbXBvbmVudERpZE1vdW50IGdldHMgY2FsbGVkLlxuICAgICAgICAgIG5leHRFZmZlY3QuZWZmZWN0VGFnICY9IH5QbGFjZW1lbnQ7XG5cbiAgICAgICAgICAvLyBVcGRhdGVcbiAgICAgICAgICB2YXIgX2N1cnJlbnQgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgICBjb21taXRXb3JrKF9jdXJyZW50LCBuZXh0RWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFVwZGF0ZToge1xuICAgICAgICAgIHZhciBfY3VycmVudDIgPSBuZXh0RWZmZWN0LmFsdGVybmF0ZTtcbiAgICAgICAgICBjb21taXRXb3JrKF9jdXJyZW50MiwgbmV4dEVmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBEZWxldGlvbjoge1xuICAgICAgICAgIGNvbW1pdERlbGV0aW9uKG5leHRFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgIH1cblxuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIucmVzZXRDdXJyZW50RmliZXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVjeWNsZXMoKSB7XG4gICAgd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHZhciBlZmZlY3RUYWcgPSBuZXh0RWZmZWN0LmVmZmVjdFRhZztcblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIFNuYXBzaG90KSB7XG4gICAgICAgIHJlY29yZEVmZmVjdCgpO1xuICAgICAgICB2YXIgY3VycmVudCA9IG5leHRFZmZlY3QuYWx0ZXJuYXRlO1xuICAgICAgICBjb21taXRCZWZvcmVNdXRhdGlvbkxpZmVDeWNsZXMoY3VycmVudCwgbmV4dEVmZmVjdCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IGNsZWFudXAgZWZmZWN0cyB5ZXQ7XG4gICAgICAvLyBUaGlzIHdpbGwgYmUgZG9uZSBieSBjb21taXRBbGxMaWZlQ3ljbGVzKClcbiAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0QWxsTGlmZUN5Y2xlcyhcbiAgICBmaW5pc2hlZFJvb3QsXG4gICAgY3VycmVudFRpbWUsXG4gICAgY29tbWl0dGVkRXhwaXJhdGlvblRpbWVcbiAgKSB7XG4gICAge1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MoKTtcblxuICAgICAgaWYgKHdhcm5BYm91dERlcHJlY2F0ZWRMaWZlY3ljbGVzKSB7XG4gICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ0RlcHJlY2F0aW9uV2FybmluZ3MoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgIHZhciBlZmZlY3RUYWcgPSBuZXh0RWZmZWN0LmVmZmVjdFRhZztcblxuICAgICAgaWYgKGVmZmVjdFRhZyAmIChVcGRhdGUgfCBDYWxsYmFjaykpIHtcbiAgICAgICAgcmVjb3JkRWZmZWN0KCk7XG4gICAgICAgIHZhciBjdXJyZW50ID0gbmV4dEVmZmVjdC5hbHRlcm5hdGU7XG4gICAgICAgIGNvbW1pdExpZmVDeWNsZXMoXG4gICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgbmV4dEVmZmVjdCxcbiAgICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgICBjb21taXR0ZWRFeHBpcmF0aW9uVGltZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgRXJyTG9nKSB7XG4gICAgICAgIGNvbW1pdEVycm9yTG9nZ2luZyhuZXh0RWZmZWN0LCBvblVuY2F1Z2h0RXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZWZmZWN0VGFnICYgUmVmKSB7XG4gICAgICAgIHJlY29yZEVmZmVjdCgpO1xuICAgICAgICBjb21taXRBdHRhY2hSZWYobmV4dEVmZmVjdCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXh0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgLy8gRW5zdXJlIHRoYXQgd2UgY2xlYW4gdGhlc2UgdXAgc28gdGhhdCB3ZSBkb24ndCBhY2NpZGVudGFsbHkga2VlcCB0aGVtLlxuICAgICAgLy8gSSdtIG5vdCBhY3R1YWxseSBzdXJlIHRoaXMgbWF0dGVycyBiZWNhdXNlIHdlIGNhbid0IHJlc2V0IGZpcnN0RWZmZWN0XG4gICAgICAvLyBhbmQgbGFzdEVmZmVjdCBzaW5jZSB0aGV5J3JlIG9uIGV2ZXJ5IG5vZGUsIG5vdCBqdXN0IHRoZSBlZmZlY3RmdWxcbiAgICAgIC8vIG9uZXMuIFNvIHdlIGhhdmUgdG8gY2xlYW4gZXZlcnl0aGluZyBhcyB3ZSByZXVzZSBub2RlcyBhbnl3YXkuXG4gICAgICBuZXh0RWZmZWN0Lm5leHRFZmZlY3QgPSBudWxsO1xuICAgICAgLy8gRW5zdXJlIHRoYXQgd2UgcmVzZXQgdGhlIGVmZmVjdFRhZyBoZXJlIHNvIHRoYXQgd2UgY2FuIHJlbHkgb24gZWZmZWN0XG4gICAgICAvLyB0YWdzIHRvIHJlYXNvbiBhYm91dCB0aGUgY3VycmVudCBsaWZlLWN5Y2xlLlxuICAgICAgbmV4dEVmZmVjdCA9IG5leHQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNBbHJlYWR5RmFpbGVkTGVnYWN5RXJyb3JCb3VuZGFyeShpbnN0YW5jZSkge1xuICAgIHJldHVybiAoXG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCAhPT0gbnVsbCAmJlxuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuaGFzKGluc3RhbmNlKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrTGVnYWN5RXJyb3JCb3VuZGFyeUFzRmFpbGVkKGluc3RhbmNlKSB7XG4gICAgaWYgKGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID09PSBudWxsKSB7XG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG5ldyBTZXQoW2luc3RhbmNlXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmFkZChpbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspIHtcbiAgICBpc1dvcmtpbmcgPSB0cnVlO1xuICAgIGlzQ29tbWl0dGluZyA9IHRydWU7XG4gICAgc3RhcnRDb21taXRUaW1lcigpO1xuXG4gICAgdmFyIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgIGludmFyaWFudChcbiAgICAgIHJvb3QuY3VycmVudCAhPT0gZmluaXNoZWRXb3JrLFxuICAgICAgXCJDYW5ub3QgY29tbWl0IHRoZSBzYW1lIHRyZWUgYXMgYmVmb3JlLiBUaGlzIGlzIHByb2JhYmx5IGEgYnVnIFwiICtcbiAgICAgICAgXCJyZWxhdGVkIHRvIHRoZSByZXR1cm4gZmllbGQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBcIiArXG4gICAgICAgIFwiaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcbiAgICB2YXIgY29tbWl0dGVkRXhwaXJhdGlvblRpbWUgPSByb290LnBlbmRpbmdDb21taXRFeHBpcmF0aW9uVGltZTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBjb21taXR0ZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrLFxuICAgICAgXCJDYW5ub3QgY29tbWl0IGFuIGluY29tcGxldGUgcm9vdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgXCIgK1xuICAgICAgICBcImJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICApO1xuICAgIHJvb3QucGVuZGluZ0NvbW1pdEV4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuXG4gICAgLy8gUmVzZXQgdGhpcyB0byBudWxsIGJlZm9yZSBjYWxsaW5nIGxpZmVjeWNsZXNcbiAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcblxuICAgIHZhciBmaXJzdEVmZmVjdCA9IHZvaWQgMDtcbiAgICBpZiAoZmluaXNoZWRXb3JrLmVmZmVjdFRhZyA+IFBlcmZvcm1lZFdvcmspIHtcbiAgICAgIC8vIEEgZmliZXIncyBlZmZlY3QgbGlzdCBjb25zaXN0cyBvbmx5IG9mIGl0cyBjaGlsZHJlbiwgbm90IGl0c2VsZi4gU28gaWZcbiAgICAgIC8vIHRoZSByb290IGhhcyBhbiBlZmZlY3QsIHdlIG5lZWQgdG8gYWRkIGl0IHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuIFRoZVxuICAgICAgLy8gcmVzdWx0aW5nIGxpc3QgaXMgdGhlIHNldCB0aGF0IHdvdWxkIGJlbG9uZyB0byB0aGUgcm9vdCdzIHBhcmVudCwgaWZcbiAgICAgIC8vIGl0IGhhZCBvbmU7IHRoYXQgaXMsIGFsbCB0aGUgZWZmZWN0cyBpbiB0aGUgdHJlZSBpbmNsdWRpbmcgdGhlIHJvb3QuXG4gICAgICBpZiAoZmluaXNoZWRXb3JrLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgZmluaXNoZWRXb3JrLmxhc3RFZmZlY3QubmV4dEVmZmVjdCA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdEVmZmVjdCA9IGZpbmlzaGVkV29yaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlcmUgaXMgbm8gZWZmZWN0IG9uIHRoZSByb290LlxuICAgICAgZmlyc3RFZmZlY3QgPSBmaW5pc2hlZFdvcmsuZmlyc3RFZmZlY3Q7XG4gICAgfVxuXG4gICAgcHJlcGFyZUZvckNvbW1pdChyb290LmNvbnRhaW5lckluZm8pO1xuXG4gICAgLy8gSW52b2tlIGluc3RhbmNlcyBvZiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSBiZWZvcmUgbXV0YXRpb24uXG4gICAgbmV4dEVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuICAgIHN0YXJ0Q29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICB7XG4gICAgICAgIGludm9rZUd1YXJkZWRDYWxsYmFjayQyKG51bGwsIGNvbW1pdEJlZm9yZU11dGF0aW9uTGlmZWN5Y2xlcywgbnVsbCk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIGVycm9yID0gY2xlYXJDYXVnaHRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIG5leHRFZmZlY3QgIT09IG51bGwsXG4gICAgICAgICAgXCJTaG91bGQgaGF2ZSBuZXh0IGVmZmVjdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIFwiICtcbiAgICAgICAgICAgIFwiaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICAgIG9uQ29tbWl0UGhhc2VFcnJvcihuZXh0RWZmZWN0LCBlcnJvcik7XG4gICAgICAgIC8vIENsZWFuLXVwXG4gICAgICAgIGlmIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgbmV4dEVmZmVjdCA9IG5leHRFZmZlY3QubmV4dEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBzdG9wQ29tbWl0U25hcHNob3RFZmZlY3RzVGltZXIoKTtcblxuICAgIC8vIENvbW1pdCBhbGwgdGhlIHNpZGUtZWZmZWN0cyB3aXRoaW4gYSB0cmVlLiBXZSdsbCBkbyB0aGlzIGluIHR3byBwYXNzZXMuXG4gICAgLy8gVGhlIGZpcnN0IHBhc3MgcGVyZm9ybXMgYWxsIHRoZSBob3N0IGluc2VydGlvbnMsIHVwZGF0ZXMsIGRlbGV0aW9ucyBhbmRcbiAgICAvLyByZWYgdW5tb3VudHMuXG4gICAgbmV4dEVmZmVjdCA9IGZpcnN0RWZmZWN0O1xuICAgIHN0YXJ0Q29tbWl0SG9zdEVmZmVjdHNUaW1lcigpO1xuICAgIHdoaWxlIChuZXh0RWZmZWN0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgX2RpZEVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2Vycm9yID0gdm9pZCAwO1xuICAgICAge1xuICAgICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihudWxsLCBjb21taXRBbGxIb3N0RWZmZWN0cywgbnVsbCk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgX2RpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICBfZXJyb3IgPSBjbGVhckNhdWdodEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChfZGlkRXJyb3IpIHtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIG5leHRFZmZlY3QgIT09IG51bGwsXG4gICAgICAgICAgXCJTaG91bGQgaGF2ZSBuZXh0IGVmZmVjdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIFwiICtcbiAgICAgICAgICAgIFwiaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICAgIG9uQ29tbWl0UGhhc2VFcnJvcihuZXh0RWZmZWN0LCBfZXJyb3IpO1xuICAgICAgICAvLyBDbGVhbi11cFxuICAgICAgICBpZiAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgIG5leHRFZmZlY3QgPSBuZXh0RWZmZWN0Lm5leHRFZmZlY3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3RvcENvbW1pdEhvc3RFZmZlY3RzVGltZXIoKTtcblxuICAgIHJlc2V0QWZ0ZXJDb21taXQocm9vdC5jb250YWluZXJJbmZvKTtcblxuICAgIC8vIFRoZSB3b3JrLWluLXByb2dyZXNzIHRyZWUgaXMgbm93IHRoZSBjdXJyZW50IHRyZWUuIFRoaXMgbXVzdCBjb21lIGFmdGVyXG4gICAgLy8gdGhlIGZpcnN0IHBhc3Mgb2YgdGhlIGNvbW1pdCBwaGFzZSwgc28gdGhhdCB0aGUgcHJldmlvdXMgdHJlZSBpcyBzdGlsbFxuICAgIC8vIGN1cnJlbnQgZHVyaW5nIGNvbXBvbmVudFdpbGxVbm1vdW50LCBidXQgYmVmb3JlIHRoZSBzZWNvbmQgcGFzcywgc28gdGhhdFxuICAgIC8vIHRoZSBmaW5pc2hlZCB3b3JrIGlzIGN1cnJlbnQgZHVyaW5nIGNvbXBvbmVudERpZE1vdW50L1VwZGF0ZS5cbiAgICByb290LmN1cnJlbnQgPSBmaW5pc2hlZFdvcms7XG5cbiAgICAvLyBJbiB0aGUgc2Vjb25kIHBhc3Mgd2UnbGwgcGVyZm9ybSBhbGwgbGlmZS1jeWNsZXMgYW5kIHJlZiBjYWxsYmFja3MuXG4gICAgLy8gTGlmZS1jeWNsZXMgaGFwcGVuIGFzIGEgc2VwYXJhdGUgcGFzcyBzbyB0aGF0IGFsbCBwbGFjZW1lbnRzLCB1cGRhdGVzLFxuICAgIC8vIGFuZCBkZWxldGlvbnMgaW4gdGhlIGVudGlyZSB0cmVlIGhhdmUgYWxyZWFkeSBiZWVuIGludm9rZWQuXG4gICAgLy8gVGhpcyBwYXNzIGFsc28gdHJpZ2dlcnMgYW55IHJlbmRlcmVyLXNwZWNpZmljIGluaXRpYWwgZWZmZWN0cy5cbiAgICBuZXh0RWZmZWN0ID0gZmlyc3RFZmZlY3Q7XG4gICAgc3RhcnRDb21taXRMaWZlQ3ljbGVzVGltZXIoKTtcbiAgICB3aGlsZSAobmV4dEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIF9kaWRFcnJvcjIgPSBmYWxzZTtcbiAgICAgIHZhciBfZXJyb3IyID0gdm9pZCAwO1xuICAgICAge1xuICAgICAgICBpbnZva2VHdWFyZGVkQ2FsbGJhY2skMihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGNvbW1pdEFsbExpZmVDeWNsZXMsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICByb290LFxuICAgICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICAgIGNvbW1pdHRlZEV4cGlyYXRpb25UaW1lXG4gICAgICAgICk7XG4gICAgICAgIGlmIChoYXNDYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgX2RpZEVycm9yMiA9IHRydWU7XG4gICAgICAgICAgX2Vycm9yMiA9IGNsZWFyQ2F1Z2h0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKF9kaWRFcnJvcjIpIHtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIG5leHRFZmZlY3QgIT09IG51bGwsXG4gICAgICAgICAgXCJTaG91bGQgaGF2ZSBuZXh0IGVmZmVjdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIFwiICtcbiAgICAgICAgICAgIFwiaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICAgIG9uQ29tbWl0UGhhc2VFcnJvcihuZXh0RWZmZWN0LCBfZXJyb3IyKTtcbiAgICAgICAgaWYgKG5leHRFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICBuZXh0RWZmZWN0ID0gbmV4dEVmZmVjdC5uZXh0RWZmZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaXNDb21taXR0aW5nID0gZmFsc2U7XG4gICAgaXNXb3JraW5nID0gZmFsc2U7XG4gICAgc3RvcENvbW1pdExpZmVDeWNsZXNUaW1lcigpO1xuICAgIHN0b3BDb21taXRUaW1lcigpO1xuICAgIGlmICh0eXBlb2Ygb25Db21taXRSb290ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIG9uQ29tbWl0Um9vdChmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKTtcbiAgICB9XG4gICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbC5vbkNvbW1pdFdvcmsoZmluaXNoZWRXb3JrKTtcbiAgICB9XG5cbiAgICB2YXIgcmVtYWluaW5nVGltZSA9IHJvb3QuY3VycmVudC5leHBpcmF0aW9uVGltZTtcbiAgICBpZiAocmVtYWluaW5nVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgICAvLyBJZiB0aGVyZSdzIG5vIHJlbWFpbmluZyB3b3JrLCB3ZSBjYW4gY2xlYXIgdGhlIHNldCBvZiBhbHJlYWR5IGZhaWxlZFxuICAgICAgLy8gZXJyb3IgYm91bmRhcmllcy5cbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbWFpbmluZ1RpbWU7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldEV4cGlyYXRpb25UaW1lKHdvcmtJblByb2dyZXNzLCByZW5kZXJUaW1lKSB7XG4gICAgaWYgKHJlbmRlclRpbWUgIT09IE5ldmVyICYmIHdvcmtJblByb2dyZXNzLmV4cGlyYXRpb25UaW1lID09PSBOZXZlcikge1xuICAgICAgLy8gVGhlIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9uZW50IGFyZSBoaWRkZW4uIERvbid0IGJ1YmJsZSB0aGVpclxuICAgICAgLy8gZXhwaXJhdGlvbiB0aW1lcy5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgcGVuZGluZyB1cGRhdGVzLlxuICAgIHZhciBuZXdFeHBpcmF0aW9uVGltZSA9IGdldFVwZGF0ZUV4cGlyYXRpb25UaW1lKHdvcmtJblByb2dyZXNzKTtcblxuICAgIC8vIFRPRE86IENhbGxzIG5lZWQgdG8gdmlzaXQgc3RhdGVOb2RlXG5cbiAgICAvLyBCdWJibGUgdXAgdGhlIGVhcmxpZXN0IGV4cGlyYXRpb24gdGltZS5cbiAgICB2YXIgY2hpbGQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT09IG51bGwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgY2hpbGQuZXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJlxuICAgICAgICAobmV3RXhwaXJhdGlvblRpbWUgPT09IE5vV29yayB8fFxuICAgICAgICAgIG5ld0V4cGlyYXRpb25UaW1lID4gY2hpbGQuZXhwaXJhdGlvblRpbWUpXG4gICAgICApIHtcbiAgICAgICAgbmV3RXhwaXJhdGlvblRpbWUgPSBjaGlsZC5leHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgICB9XG4gICAgd29ya0luUHJvZ3Jlc3MuZXhwaXJhdGlvblRpbWUgPSBuZXdFeHBpcmF0aW9uVGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcykge1xuICAgIC8vIEF0dGVtcHQgdG8gY29tcGxldGUgdGhlIGN1cnJlbnQgdW5pdCBvZiB3b3JrLCB0aGVuIG1vdmUgdG8gdGhlXG4gICAgLy8gbmV4dCBzaWJsaW5nLiBJZiB0aGVyZSBhcmUgbm8gbW9yZSBzaWJsaW5ncywgcmV0dXJuIHRvIHRoZVxuICAgIC8vIHBhcmVudCBmaWJlci5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgLy8gVGhlIGN1cnJlbnQsIGZsdXNoZWQsIHN0YXRlIG9mIHRoaXMgZmliZXIgaXMgdGhlIGFsdGVybmF0ZS5cbiAgICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgICAvLyBtZWFucyB0aGF0IHdlIGRvbid0IG5lZWQgYW4gYWRkaXRpb25hbCBmaWVsZCBvbiB0aGUgd29yayBpblxuICAgICAgLy8gcHJvZ3Jlc3MuXG4gICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgIHtcbiAgICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5zZXRDdXJyZW50RmliZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzc1tcInJldHVyblwiXTtcbiAgICAgIHZhciBzaWJsaW5nRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nO1xuXG4gICAgICBpZiAoKHdvcmtJblByb2dyZXNzLmVmZmVjdFRhZyAmIEluY29tcGxldGUpID09PSBOb0VmZmVjdCkge1xuICAgICAgICAvLyBUaGlzIGZpYmVyIGNvbXBsZXRlZC5cbiAgICAgICAgdmFyIG5leHQgPSBjb21wbGV0ZVdvcmsoXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgKTtcbiAgICAgICAgc3RvcFdvcmtUaW1lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJlc2V0RXhwaXJhdGlvblRpbWUod29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAgICAgIHtcbiAgICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0b3BXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmICh0cnVlICYmIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wpIHtcbiAgICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiBjb21wbGV0aW5nIHRoaXMgd29yayBzcGF3bmVkIG5ldyB3b3JrLCBkbyB0aGF0IG5leHQuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAvLyBiYWNrIGhlcmUgYWdhaW4uXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcmV0dXJuRmliZXIgIT09IG51bGwgJiZcbiAgICAgICAgICAvLyBEbyBub3QgYXBwZW5kIGVmZmVjdHMgdG8gcGFyZW50cyBpZiBhIHNpYmxpbmcgZmFpbGVkIHRvIGNvbXBsZXRlXG4gICAgICAgICAgKHJldHVybkZpYmVyLmVmZmVjdFRhZyAmIEluY29tcGxldGUpID09PSBOb0VmZmVjdFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBBcHBlbmQgYWxsIHRoZSBlZmZlY3RzIG9mIHRoZSBzdWJ0cmVlIGFuZCB0aGlzIGZpYmVyIG9udG8gdGhlIGVmZmVjdFxuICAgICAgICAgIC8vIGxpc3Qgb2YgdGhlIHBhcmVudC4gVGhlIGNvbXBsZXRpb24gb3JkZXIgb2YgdGhlIGNoaWxkcmVuIGFmZmVjdHMgdGhlXG4gICAgICAgICAgLy8gc2lkZS1lZmZlY3Qgb3JkZXIuXG4gICAgICAgICAgaWYgKHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHdvcmtJblByb2dyZXNzLmZpcnN0RWZmZWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHJldHVybkZpYmVyLmxhc3RFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubGFzdEVmZmVjdC5uZXh0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MuZmlyc3RFZmZlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3MubGFzdEVmZmVjdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJZiB0aGlzIGZpYmVyIGhhZCBzaWRlLWVmZmVjdHMsIHdlIGFwcGVuZCBpdCBBRlRFUiB0aGUgY2hpbGRyZW4nc1xuICAgICAgICAgIC8vIHNpZGUtZWZmZWN0cy4gV2UgY2FuIHBlcmZvcm0gY2VydGFpbiBzaWRlLWVmZmVjdHMgZWFybGllciBpZlxuICAgICAgICAgIC8vIG5lZWRlZCwgYnkgZG9pbmcgbXVsdGlwbGUgcGFzc2VzIG92ZXIgdGhlIGVmZmVjdCBsaXN0LiBXZSBkb24ndCB3YW50XG4gICAgICAgICAgLy8gdG8gc2NoZWR1bGUgb3VyIG93biBzaWRlLWVmZmVjdCBvbiBvdXIgb3duIGxpc3QgYmVjYXVzZSBpZiBlbmQgdXBcbiAgICAgICAgICAvLyByZXVzaW5nIGNoaWxkcmVuIHdlJ2xsIHNjaGVkdWxlIHRoaXMgZWZmZWN0IG9udG8gaXRzZWxmIHNpbmNlIHdlJ3JlXG4gICAgICAgICAgLy8gYXQgdGhlIGVuZC5cbiAgICAgICAgICB2YXIgZWZmZWN0VGFnID0gd29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnO1xuICAgICAgICAgIC8vIFNraXAgYm90aCBOb1dvcmsgYW5kIFBlcmZvcm1lZFdvcmsgdGFncyB3aGVuIGNyZWF0aW5nIHRoZSBlZmZlY3QgbGlzdC5cbiAgICAgICAgICAvLyBQZXJmb3JtZWRXb3JrIGVmZmVjdCBpcyByZWFkIGJ5IFJlYWN0IERldlRvb2xzIGJ1dCBzaG91bGRuJ3QgYmUgY29tbWl0dGVkLlxuICAgICAgICAgIGlmIChlZmZlY3RUYWcgPiBQZXJmb3JtZWRXb3JrKSB7XG4gICAgICAgICAgICBpZiAocmV0dXJuRmliZXIubGFzdEVmZmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0Lm5leHRFZmZlY3QgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLmZpcnN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm5GaWJlci5sYXN0RWZmZWN0ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlJ3ZlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgICAgICAgaXNSb290UmVhZHlGb3JDb21taXQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGZpYmVyIGRpZCBub3QgY29tcGxldGUgYmVjYXVzZSBzb21ldGhpbmcgdGhyZXcuIFBvcCB2YWx1ZXMgb2ZmXG4gICAgICAgIC8vIHRoZSBzdGFjayB3aXRob3V0IGVudGVyaW5nIHRoZSBjb21wbGV0ZSBwaGFzZS4gSWYgdGhpcyBpcyBhIGJvdW5kYXJ5LFxuICAgICAgICAvLyBjYXB0dXJlIHZhbHVlcyBpZiBwb3NzaWJsZS5cbiAgICAgICAgdmFyIF9uZXh0ID0gdW53aW5kV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhpcyBmaWJlciBkaWQgbm90IGNvbXBsZXRlLCBkb24ndCByZXNldCBpdHMgZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MuZWZmZWN0VGFnICYgRGlkQ2FwdHVyZSkge1xuICAgICAgICAgIC8vIFJlc3RhcnRpbmcgYW4gZXJyb3IgYm91bmRhcnlcbiAgICAgICAgICBzdG9wRmFpbGVkV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHtcbiAgICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnJlc2V0Q3VycmVudEZpYmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX25leHQgIT09IG51bGwpIHtcbiAgICAgICAgICBzdG9wV29ya1RpbWVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQ29tcGxldGVXb3JrKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgY29tcGxldGluZyB0aGlzIHdvcmsgc3Bhd25lZCBuZXcgd29yaywgZG8gdGhhdCBuZXh0LiBXZSdsbCBjb21lXG4gICAgICAgICAgLy8gYmFjayBoZXJlIGFnYWluLlxuICAgICAgICAgIC8vIFNpbmNlIHdlJ3JlIHJlc3RhcnRpbmcsIHJlbW92ZSBhbnl0aGluZyB0aGF0IGlzIG5vdCBhIGhvc3QgZWZmZWN0XG4gICAgICAgICAgLy8gZnJvbSB0aGUgZWZmZWN0IHRhZy5cbiAgICAgICAgICBfbmV4dC5lZmZlY3RUYWcgJj0gSG9zdEVmZmVjdE1hc2s7XG4gICAgICAgICAgcmV0dXJuIF9uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldHVybkZpYmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gTWFyayB0aGUgcGFyZW50IGZpYmVyIGFzIGluY29tcGxldGUgYW5kIGNsZWFyIGl0cyBlZmZlY3QgbGlzdC5cbiAgICAgICAgICByZXR1cm5GaWJlci5maXJzdEVmZmVjdCA9IHJldHVybkZpYmVyLmxhc3RFZmZlY3QgPSBudWxsO1xuICAgICAgICAgIHJldHVybkZpYmVyLmVmZmVjdFRhZyB8PSBJbmNvbXBsZXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRydWUgJiYgUmVhY3RGaWJlckluc3RydW1lbnRhdGlvbl8xLmRlYnVnVG9vbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Db21wbGV0ZVdvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNpYmxpbmdGaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG1vcmUgd29yayB0byBkbyBpbiB0aGlzIHJldHVybkZpYmVyLCBkbyB0aGF0IG5leHQuXG4gICAgICAgICAgcmV0dXJuIHNpYmxpbmdGaWJlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXR1cm5GaWJlciAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGluIHRoaXMgcmV0dXJuRmliZXIuIENvbXBsZXRlIHRoZSByZXR1cm5GaWJlci5cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2l0aG91dCB0aGlzIGV4cGxpY2l0IG51bGwgcmV0dXJuIEZsb3cgY29tcGxhaW5zIG9mIGludmFsaWQgcmV0dXJuIHR5cGVcbiAgICAvLyBUT0RPIFJlbW92ZSB0aGUgYWJvdmUgd2hpbGUodHJ1ZSkgbG9vcFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnJlYWNoYWJsZVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAvLyBUaGUgY3VycmVudCwgZmx1c2hlZCwgc3RhdGUgb2YgdGhpcyBmaWJlciBpcyB0aGUgYWx0ZXJuYXRlLlxuICAgIC8vIElkZWFsbHkgbm90aGluZyBzaG91bGQgcmVseSBvbiB0aGlzLCBidXQgcmVseWluZyBvbiBpdCBoZXJlXG4gICAgLy8gbWVhbnMgdGhhdCB3ZSBkb24ndCBuZWVkIGFuIGFkZGl0aW9uYWwgZmllbGQgb24gdGhlIHdvcmsgaW5cbiAgICAvLyBwcm9ncmVzcy5cbiAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcblxuICAgIC8vIFNlZSBpZiBiZWdpbm5pbmcgdGhpcyB3b3JrIHNwYXducyBtb3JlIHdvcmsuXG4gICAgc3RhcnRXb3JrVGltZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuc2V0Q3VycmVudEZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgICAgc3Rhc2hlZFdvcmtJblByb2dyZXNzUHJvcGVydGllcyA9IGFzc2lnbkZpYmVyUHJvcGVydGllc0luREVWKFxuICAgICAgICBzdGFzaGVkV29ya0luUHJvZ3Jlc3NQcm9wZXJ0aWVzLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIG5leHQgPSBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSk7XG4gICAge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5yZXNldEN1cnJlbnRGaWJlcigpO1xuICAgICAgaWYgKGlzUmVwbGF5aW5nRmFpbGVkVW5pdE9mV29yaykge1xuICAgICAgICAvLyBDdXJyZW50bHkgcmVwbGF5aW5nIGEgZmFpbGVkIHVuaXQgb2Ygd29yay4gVGhpcyBzaG91bGQgYmUgdW5yZWFjaGFibGUsXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIHJlbmRlciBwaGFzZSBpcyBtZWFudCB0byBiZSBpZGVtcG90ZW50LCBhbmQgaXQgc2hvdWxkXG4gICAgICAgIC8vIGhhdmUgdGhyb3duIGFnYWluLiBTaW5jZSBpdCBkaWRuJ3QsIHJldGhyb3cgdGhlIG9yaWdpbmFsIGVycm9yLCBzb1xuICAgICAgICAvLyBSZWFjdCdzIGludGVybmFsIHN0YWNrIGlzIG5vdCBtaXNhbGlnbmVkLlxuICAgICAgICByZXRocm93T3JpZ2luYWxFcnJvcigpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHJ1ZSAmJiBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uQmVnaW5Xb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgLy8gSWYgdGhpcyBkb2Vzbid0IHNwYXduIG5ldyB3b3JrLCBjb21wbGV0ZSB0aGUgY3VycmVudCB3b3JrLlxuICAgICAgbmV4dCA9IGNvbXBsZXRlVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG5cbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdvcmtMb29wKGlzQXN5bmMpIHtcbiAgICBpZiAoIWlzQXN5bmMpIHtcbiAgICAgIC8vIEZsdXNoIGFsbCBleHBpcmVkIHdvcmsuXG4gICAgICB3aGlsZSAobmV4dFVuaXRPZldvcmsgIT09IG51bGwpIHtcbiAgICAgICAgbmV4dFVuaXRPZldvcmsgPSBwZXJmb3JtVW5pdE9mV29yayhuZXh0VW5pdE9mV29yayk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZsdXNoIGFzeW5jaHJvbm91cyB3b3JrIHVudGlsIHRoZSBkZWFkbGluZSBydW5zIG91dCBvZiB0aW1lLlxuICAgICAgd2hpbGUgKG5leHRVbml0T2ZXb3JrICE9PSBudWxsICYmICFzaG91bGRZaWVsZCgpKSB7XG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gcGVyZm9ybVVuaXRPZldvcmsobmV4dFVuaXRPZldvcmspO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGlzQXN5bmMpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhaXNXb3JraW5nLFxuICAgICAgXCJyZW5kZXJSb290IHdhcyBjYWxsZWQgcmVjdXJzaXZlbHkuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBcIiArXG4gICAgICAgIFwiYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgKTtcbiAgICBpc1dvcmtpbmcgPSB0cnVlO1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgc3RhcnRpbmcgZnJvbSBhIGZyZXNoIHN0YWNrLCBvciBpZiB3ZSdyZSByZXN1bWluZyBmcm9tXG4gICAgLy8gcHJldmlvdXNseSB5aWVsZGVkIHdvcmsuXG4gICAgaWYgKFxuICAgICAgZXhwaXJhdGlvblRpbWUgIT09IG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSB8fFxuICAgICAgcm9vdCAhPT0gbmV4dFJvb3QgfHxcbiAgICAgIG5leHRVbml0T2ZXb3JrID09PSBudWxsXG4gICAgKSB7XG4gICAgICAvLyBSZXNldCB0aGUgc3RhY2sgYW5kIHN0YXJ0IHdvcmtpbmcgZnJvbSB0aGUgcm9vdC5cbiAgICAgIHJlc2V0U3RhY2soKTtcbiAgICAgIG5leHRSb290ID0gcm9vdDtcbiAgICAgIG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgbmV4dFVuaXRPZldvcmsgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhcbiAgICAgICAgbmV4dFJvb3QuY3VycmVudCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV4dFJlbmRlckV4cGlyYXRpb25UaW1lXG4gICAgICApO1xuICAgICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgfVxuXG4gICAgdmFyIGRpZEZhdGFsID0gZmFsc2U7XG5cbiAgICBzdGFydFdvcmtMb29wVGltZXIobmV4dFVuaXRPZldvcmspO1xuXG4gICAgZG8ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd29ya0xvb3AoaXNBc3luYyk7XG4gICAgICB9IGNhdGNoICh0aHJvd25WYWx1ZSkge1xuICAgICAgICBpZiAobmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGEgZmF0YWwgZXJyb3IuXG4gICAgICAgICAgZGlkRmF0YWwgPSB0cnVlO1xuICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcih0aHJvd25WYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJ1ZSAmJiByZXBsYXlGYWlsZWRVbml0T2ZXb3JrV2l0aEludm9rZUd1YXJkZWRDYWxsYmFjaykge1xuICAgICAgICAgIHZhciBmYWlsZWRVbml0T2ZXb3JrID0gbmV4dFVuaXRPZldvcms7XG4gICAgICAgICAgcmVwbGF5VW5pdE9mV29yayhmYWlsZWRVbml0T2ZXb3JrLCB0aHJvd25WYWx1ZSwgaXNBc3luYyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlRmliZXIgPSBuZXh0VW5pdE9mV29yaztcbiAgICAgICAgdmFyIHJldHVybkZpYmVyID0gc291cmNlRmliZXJbXCJyZXR1cm5cIl07XG4gICAgICAgIGlmIChyZXR1cm5GaWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHJvb3QuIFRoZSByb290IGNvdWxkIGNhcHR1cmUgaXRzIG93biBlcnJvcnMuIEhvd2V2ZXIsXG4gICAgICAgICAgLy8gd2UgZG9uJ3Qga25vdyBpZiBpdCBlcnJvcnMgYmVmb3JlIG9yIGFmdGVyIHdlIHB1c2hlZCB0aGUgaG9zdFxuICAgICAgICAgIC8vIGNvbnRleHQuIFRoaXMgaW5mb3JtYXRpb24gaXMgbmVlZGVkIHRvIGF2b2lkIGEgc3RhY2sgbWlzbWF0Y2guXG4gICAgICAgICAgLy8gQmVjYXVzZSB3ZSdyZSBub3Qgc3VyZSwgdHJlYXQgdGhpcyBhcyBhIGZhdGFsIGVycm9yLiBXZSBjb3VsZCB0cmFja1xuICAgICAgICAgIC8vIHdoaWNoIHBoYXNlIGl0IGZhaWxzIGluLCBidXQgZG9lc24ndCBzZWVtIHdvcnRoIGl0LiBBdCBsZWFzdFxuICAgICAgICAgIC8vIGZvciBub3cuXG4gICAgICAgICAgZGlkRmF0YWwgPSB0cnVlO1xuICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcih0aHJvd25WYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3dFeGNlcHRpb24ocmV0dXJuRmliZXIsIHNvdXJjZUZpYmVyLCB0aHJvd25WYWx1ZSk7XG4gICAgICAgIG5leHRVbml0T2ZXb3JrID0gY29tcGxldGVVbml0T2ZXb3JrKHNvdXJjZUZpYmVyKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH0gd2hpbGUgKHRydWUpO1xuXG4gICAgLy8gV2UncmUgZG9uZSBwZXJmb3JtaW5nIHdvcmsuIFRpbWUgdG8gY2xlYW4gdXAuXG4gICAgdmFyIGRpZENvbXBsZXRlUm9vdCA9IGZhbHNlO1xuICAgIGlzV29ya2luZyA9IGZhbHNlO1xuXG4gICAgLy8gWWllbGQgYmFjayB0byBtYWluIHRocmVhZC5cbiAgICBpZiAoZGlkRmF0YWwpIHtcbiAgICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCk7XG4gICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgIC8vIFRoZXJlIHdhcyBhIGZhdGFsIGVycm9yLlxuICAgICAge1xuICAgICAgICBzdGFjay5yZXNldFN0YWNrQWZ0ZXJGYXRhbEVycm9ySW5EZXYoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAobmV4dFVuaXRPZldvcmsgPT09IG51bGwpIHtcbiAgICAgIC8vIFdlIHJlYWNoZWQgdGhlIHJvb3QuXG4gICAgICBpZiAoaXNSb290UmVhZHlGb3JDb21taXQpIHtcbiAgICAgICAgZGlkQ29tcGxldGVSb290ID0gdHJ1ZTtcbiAgICAgICAgc3RvcFdvcmtMb29wVGltZXIoaW50ZXJydXB0ZWRCeSwgZGlkQ29tcGxldGVSb290KTtcbiAgICAgICAgaW50ZXJydXB0ZWRCeSA9IG51bGw7XG4gICAgICAgIC8vIFRoZSByb290IHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQuIEl0J3MgcmVhZHkgZm9yIGNvbW1pdC5cbiAgICAgICAgcm9vdC5wZW5kaW5nQ29tbWl0RXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgICAgdmFyIGZpbmlzaGVkV29yayA9IHJvb3QuY3VycmVudC5hbHRlcm5hdGU7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZFdvcms7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgcm9vdCBkaWQgbm90IGNvbXBsZXRlLlxuICAgICAgICBzdG9wV29ya0xvb3BUaW1lcihpbnRlcnJ1cHRlZEJ5LCBkaWRDb21wbGV0ZVJvb3QpO1xuICAgICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiRXhwaXJlZCB3b3JrIHNob3VsZCBoYXZlIGNvbXBsZXRlZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIFwiICtcbiAgICAgICAgICAgIFwiYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3BXb3JrTG9vcFRpbWVyKGludGVycnVwdGVkQnksIGRpZENvbXBsZXRlUm9vdCk7XG4gICAgICBpbnRlcnJ1cHRlZEJ5ID0gbnVsbDtcbiAgICAgIC8vIFRoZXJlJ3MgbW9yZSB3b3JrIHRvIGRvLCBidXQgd2UgcmFuIG91dCBvZiB0aW1lLiBZaWVsZCBiYWNrIHRvXG4gICAgICAvLyB0aGUgcmVuZGVyZXIuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZUNhcHR1cmUoc291cmNlRmliZXIsIGJvdW5kYXJ5RmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIC8vIFRPRE86IFdlIG9ubHkgc3VwcG9ydCBkaXNwYXRjaGluZyBlcnJvcnMuXG4gICAgdmFyIGNhcHR1cmVkVmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlKHZhbHVlLCBzb3VyY2VGaWJlcik7XG4gICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBleHBpcmF0aW9uVGltZSxcbiAgICAgIHBhcnRpYWxTdGF0ZTogbnVsbCxcbiAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgaXNSZXBsYWNlOiBmYWxzZSxcbiAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgIGNhcHR1cmVkVmFsdWU6IGNhcHR1cmVkVmFsdWUsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcbiAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoYm91bmRhcnlGaWJlciwgdXBkYXRlKTtcbiAgICBzY2hlZHVsZVdvcmsoYm91bmRhcnlGaWJlciwgZXhwaXJhdGlvblRpbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2goc291cmNlRmliZXIsIHZhbHVlLCBleHBpcmF0aW9uVGltZSkge1xuICAgIGludmFyaWFudChcbiAgICAgICFpc1dvcmtpbmcgfHwgaXNDb21taXR0aW5nLFxuICAgICAgXCJkaXNwYXRjaDogQ2Fubm90IGRpc3BhdGNoIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlLlwiXG4gICAgKTtcblxuICAgIC8vIFRPRE86IEhhbmRsZSBhcnJheXNcblxuICAgIHZhciBmaWJlciA9IHNvdXJjZUZpYmVyW1wicmV0dXJuXCJdO1xuICAgIHdoaWxlIChmaWJlciAhPT0gbnVsbCkge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSBDbGFzc0NvbXBvbmVudDpcbiAgICAgICAgICB2YXIgY3RvciA9IGZpYmVyLnR5cGU7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21DYXRjaCA9PT0gXCJmdW5jdGlvblwiIHx8XG4gICAgICAgICAgICAodHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgIWlzQWxyZWFkeUZhaWxlZExlZ2FjeUVycm9yQm91bmRhcnkoaW5zdGFuY2UpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFRPRE86IEhhbmRsZSBhc3luYyBib3VuZGFyaWVzXG4gICAgICAgIGNhc2UgSG9zdFJvb3Q6XG4gICAgICAgICAgc2NoZWR1bGVDYXB0dXJlKHNvdXJjZUZpYmVyLCBmaWJlciwgdmFsdWUsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmaWJlciA9IGZpYmVyW1wicmV0dXJuXCJdO1xuICAgIH1cblxuICAgIGlmIChzb3VyY2VGaWJlci50YWcgPT09IEhvc3RSb290KSB7XG4gICAgICAvLyBFcnJvciB3YXMgdGhyb3duIGF0IHRoZSByb290LiBUaGVyZSBpcyBubyBwYXJlbnQsIHNvIHRoZSByb290XG4gICAgICAvLyBpdHNlbGYgc2hvdWxkIGNhcHR1cmUgaXQuXG4gICAgICBzY2hlZHVsZUNhcHR1cmUoc291cmNlRmliZXIsIHNvdXJjZUZpYmVyLCB2YWx1ZSwgZXhwaXJhdGlvblRpbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ29tbWl0UGhhc2VFcnJvcihmaWJlciwgZXJyb3IpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goZmliZXIsIGVycm9yLCBTeW5jKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVBc3luY0V4cGlyYXRpb24oY3VycmVudFRpbWUpIHtcbiAgICAvLyBHaXZlbiB0aGUgY3VycmVudCBjbG9jayB0aW1lLCByZXR1cm5zIGFuIGV4cGlyYXRpb24gdGltZS4gV2UgdXNlIHJvdW5kaW5nXG4gICAgLy8gdG8gYmF0Y2ggbGlrZSB1cGRhdGVzIHRvZ2V0aGVyLlxuICAgIC8vIFNob3VsZCBjb21wbGV0ZSB3aXRoaW4gfjEwMDBtcy4gMTIwMG1zIG1heC5cbiAgICB2YXIgZXhwaXJhdGlvbk1zID0gNTAwMDtcbiAgICB2YXIgYnVja2V0U2l6ZU1zID0gMjUwO1xuICAgIHJldHVybiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbk1zLCBidWNrZXRTaXplTXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZUludGVyYWN0aXZlRXhwaXJhdGlvbihjdXJyZW50VGltZSkge1xuICAgIC8vIFNob3VsZCBjb21wbGV0ZSB3aXRoaW4gfjUwMG1zLiA2MDBtcyBtYXguXG4gICAgdmFyIGV4cGlyYXRpb25NcyA9IDUwMDtcbiAgICB2YXIgYnVja2V0U2l6ZU1zID0gMTAwO1xuICAgIHJldHVybiBjb21wdXRlRXhwaXJhdGlvbkJ1Y2tldChjdXJyZW50VGltZSwgZXhwaXJhdGlvbk1zLCBidWNrZXRTaXplTXMpO1xuICB9XG5cbiAgLy8gQ3JlYXRlcyBhIHVuaXF1ZSBhc3luYyBleHBpcmF0aW9uIHRpbWUuXG4gIGZ1bmN0aW9uIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24oKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgIHZhciByZXN1bHQgPSBjb21wdXRlQXN5bmNFeHBpcmF0aW9uKGN1cnJlbnRUaW1lKTtcbiAgICBpZiAocmVzdWx0IDw9IGxhc3RVbmlxdWVBc3luY0V4cGlyYXRpb24pIHtcbiAgICAgIC8vIFNpbmNlIHdlIGFzc3VtZSB0aGUgY3VycmVudCB0aW1lIG1vbm90b25pY2FsbHkgaW5jcmVhc2VzLCB3ZSBvbmx5IGhpdFxuICAgICAgLy8gdGhpcyBicmFuY2ggd2hlbiBjb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uIGlzIGZpcmVkIG11bHRpcGxlIHRpbWVzXG4gICAgICAvLyB3aXRoaW4gYSAyMDBtcyB3aW5kb3cgKG9yIHdoYXRldmVyIHRoZSBhc3luYyBidWNrZXQgc2l6ZSBpcykuXG4gICAgICByZXN1bHQgPSBsYXN0VW5pcXVlQXN5bmNFeHBpcmF0aW9uICsgMTtcbiAgICB9XG4gICAgbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbiA9IHJlc3VsdDtcbiAgICByZXR1cm4gbGFzdFVuaXF1ZUFzeW5jRXhwaXJhdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoZmliZXIpIHtcbiAgICB2YXIgZXhwaXJhdGlvblRpbWUgPSB2b2lkIDA7XG4gICAgaWYgKGV4cGlyYXRpb25Db250ZXh0ICE9PSBOb1dvcmspIHtcbiAgICAgIC8vIEFuIGV4cGxpY2l0IGV4cGlyYXRpb24gY29udGV4dCB3YXMgc2V0O1xuICAgICAgZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uQ29udGV4dDtcbiAgICB9IGVsc2UgaWYgKGlzV29ya2luZykge1xuICAgICAgaWYgKGlzQ29tbWl0dGluZykge1xuICAgICAgICAvLyBVcGRhdGVzIHRoYXQgb2NjdXIgZHVyaW5nIHRoZSBjb21taXQgcGhhc2Ugc2hvdWxkIGhhdmUgc3luYyBwcmlvcml0eVxuICAgICAgICAvLyBieSBkZWZhdWx0LlxuICAgICAgICBleHBpcmF0aW9uVGltZSA9IFN5bmM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVcGRhdGVzIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlIHNob3VsZCBleHBpcmUgYXQgdGhlIHNhbWUgdGltZSBhc1xuICAgICAgICAvLyB0aGUgd29yayB0aGF0IGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICBleHBpcmF0aW9uVGltZSA9IG5leHRSZW5kZXJFeHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gZXhwbGljaXQgZXhwaXJhdGlvbiBjb250ZXh0IHdhcyBzZXQsIGFuZCB3ZSdyZSBub3QgY3VycmVudGx5XG4gICAgICAvLyBwZXJmb3JtaW5nIHdvcmsuIENhbGN1bGF0ZSBhIG5ldyBleHBpcmF0aW9uIHRpbWUuXG4gICAgICBpZiAoZmliZXIubW9kZSAmIEFzeW5jTW9kZSkge1xuICAgICAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJhY3RpdmUgdXBkYXRlXG4gICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgICAgIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUludGVyYWN0aXZlRXhwaXJhdGlvbihjdXJyZW50VGltZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhbiBhc3luYyB1cGRhdGVcbiAgICAgICAgICB2YXIgX2N1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgICAgIGV4cGlyYXRpb25UaW1lID0gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihfY3VycmVudFRpbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIGEgc3luYyB1cGRhdGVcbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgLy8gVGhpcyBpcyBhbiBpbnRlcmFjdGl2ZSB1cGRhdGUuIEtlZXAgdHJhY2sgb2YgdGhlIGxvd2VzdCBwZW5kaW5nXG4gICAgICAvLyBpbnRlcmFjdGl2ZSBleHBpcmF0aW9uIHRpbWUuIFRoaXMgYWxsb3dzIHVzIHRvIHN5bmNocm9ub3VzbHkgZmx1c2hcbiAgICAgIC8vIGFsbCBpbnRlcmFjdGl2ZSB1cGRhdGVzIHdoZW4gbmVlZGVkLlxuICAgICAgaWYgKFxuICAgICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgIGV4cGlyYXRpb25UaW1lID4gbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWVcbiAgICAgICkge1xuICAgICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXhwaXJhdGlvblRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZVdvcmsoZmliZXIsIGV4cGlyYXRpb25UaW1lKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlV29ya0ltcGwoZmliZXIsIGV4cGlyYXRpb25UaW1lLCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzY2hlZHVsZVdvcmtJbXBsKGZpYmVyLCBleHBpcmF0aW9uVGltZSwgaXNFcnJvclJlY292ZXJ5KSB7XG4gICAgcmVjb3JkU2NoZWR1bGVVcGRhdGUoKTtcblxuICAgIHtcbiAgICAgIGlmICghaXNFcnJvclJlY292ZXJ5ICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICB3YXJuQWJvdXRJbnZhbGlkVXBkYXRlcyhpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5vZGUgPSBmaWJlcjtcbiAgICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgICAgLy8gV2FsayB0aGUgcGFyZW50IHBhdGggdG8gdGhlIHJvb3QgYW5kIHVwZGF0ZSBlYWNoIG5vZGUnc1xuICAgICAgLy8gZXhwaXJhdGlvbiB0aW1lLlxuICAgICAgaWYgKFxuICAgICAgICBub2RlLmV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHxcbiAgICAgICAgbm9kZS5leHBpcmF0aW9uVGltZSA+IGV4cGlyYXRpb25UaW1lXG4gICAgICApIHtcbiAgICAgICAgbm9kZS5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuYWx0ZXJuYXRlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBub2RlLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgICAgbm9kZS5hbHRlcm5hdGUuZXhwaXJhdGlvblRpbWUgPiBleHBpcmF0aW9uVGltZVxuICAgICAgICApIHtcbiAgICAgICAgICBub2RlLmFsdGVybmF0ZS5leHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobm9kZVtcInJldHVyblwiXSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZS50YWcgPT09IEhvc3RSb290KSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSBub2RlLnN0YXRlTm9kZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNXb3JraW5nICYmXG4gICAgICAgICAgICBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWUgIT09IE5vV29yayAmJlxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWUgPCBuZXh0UmVuZGVyRXhwaXJhdGlvblRpbWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gaW50ZXJydXB0aW9uLiAoVXNlZCBmb3IgcGVyZm9ybWFuY2UgdHJhY2tpbmcuKVxuICAgICAgICAgICAgaW50ZXJydXB0ZWRCeSA9IGZpYmVyO1xuICAgICAgICAgICAgcmVzZXRTdGFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGUgcmVuZGVyIHBoYXNlLCB3ZSBkb24ndCBuZWVkIHRvIHNjaGVkdWxlIHRoaXMgcm9vdFxuICAgICAgICAgICAgLy8gZm9yIGFuIHVwZGF0ZSwgYmVjYXVzZSB3ZSdsbCBkbyBpdCBiZWZvcmUgd2UgZXhpdC4uLlxuICAgICAgICAgICAgIWlzV29ya2luZyB8fFxuICAgICAgICAgICAgaXNDb21taXR0aW5nIHx8XG4gICAgICAgICAgICAvLyAuLi51bmxlc3MgdGhpcyBpcyBhIGRpZmZlcmVudCByb290IHRoYW4gdGhlIG9uZSB3ZSdyZSByZW5kZXJpbmcuXG4gICAgICAgICAgICBuZXh0Um9vdCAhPT0gcm9vdFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gQWRkIHRoaXMgcm9vdCB0byB0aGUgcm9vdCBzY2hlZHVsZS5cbiAgICAgICAgICAgIHJlcXVlc3RXb3JrKHJvb3QsIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5lc3RlZFVwZGF0ZUNvdW50ID4gTkVTVEVEX1VQREFURV9MSU1JVCkge1xuICAgICAgICAgICAgaW52YXJpYW50KFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBcIiArXG4gICAgICAgICAgICAgICAgXCJjb21wb25lbnQgcmVwZWF0ZWRseSBjYWxscyBzZXRTdGF0ZSBpbnNpZGUgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29tcG9uZW50V2lsbFVwZGF0ZSBvciBjb21wb25lbnREaWRVcGRhdGUuIFJlYWN0IGxpbWl0cyBcIiArXG4gICAgICAgICAgICAgICAgXCJ0aGUgbnVtYmVyIG9mIG5lc3RlZCB1cGRhdGVzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXNFcnJvclJlY292ZXJ5ICYmIGZpYmVyLnRhZyA9PT0gQ2xhc3NDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgd2FybkFib3V0VXBkYXRlT25Vbm1vdW50ZWQoZmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlW1wicmV0dXJuXCJdO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKSB7XG4gICAgLy8gU3VidHJhY3QgaW5pdGlhbCB0aW1lIHNvIGl0IGZpdHMgaW5zaWRlIDMyYml0c1xuICAgIG1vc3RSZWNlbnRDdXJyZW50VGltZU1zID0gbm93KCkgLSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuICAgIG1vc3RSZWNlbnRDdXJyZW50VGltZSA9IG1zVG9FeHBpcmF0aW9uVGltZShtb3N0UmVjZW50Q3VycmVudFRpbWVNcyk7XG4gICAgcmV0dXJuIG1vc3RSZWNlbnRDdXJyZW50VGltZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmVycmVkVXBkYXRlcyhmbikge1xuICAgIHZhciBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0ID0gZXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgIGV4cGlyYXRpb25Db250ZXh0ID0gY29tcHV0ZUFzeW5jRXhwaXJhdGlvbihjdXJyZW50VGltZSk7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBleHBpcmF0aW9uQ29udGV4dCA9IHByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQ7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHN5bmNVcGRhdGVzKGZuLCBhLCBiLCBjLCBkKSB7XG4gICAgdmFyIHByZXZpb3VzRXhwaXJhdGlvbkNvbnRleHQgPSBleHBpcmF0aW9uQ29udGV4dDtcbiAgICBleHBpcmF0aW9uQ29udGV4dCA9IFN5bmM7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhLCBiLCBjLCBkKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZXhwaXJhdGlvbkNvbnRleHQgPSBwcmV2aW91c0V4cGlyYXRpb25Db250ZXh0O1xuICAgIH1cbiAgfVxuXG4gIC8vIFRPRE86IEV2ZXJ5dGhpbmcgYmVsb3cgdGhpcyBpcyB3cml0dGVuIGFzIGlmIGl0IGhhcyBiZWVuIGxpZnRlZCB0byB0aGVcbiAgLy8gcmVuZGVyZXJzLiBJJ2xsIGRvIHRoaXMgaW4gYSBmb2xsb3ctdXAuXG5cbiAgLy8gTGlua2VkLWxpc3Qgb2Ygcm9vdHNcbiAgdmFyIGZpcnN0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gIHZhciBsYXN0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG5cbiAgdmFyIGNhbGxiYWNrRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHZhciBjYWxsYmFja0lEID0gLTE7XG4gIHZhciBpc1JlbmRlcmluZyA9IGZhbHNlO1xuICB2YXIgbmV4dEZsdXNoZWRSb290ID0gbnVsbDtcbiAgdmFyIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gIHZhciBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgdmFyIGRlYWRsaW5lRGlkRXhwaXJlID0gZmFsc2U7XG4gIHZhciBoYXNVbmhhbmRsZWRFcnJvciA9IGZhbHNlO1xuICB2YXIgdW5oYW5kbGVkRXJyb3IgPSBudWxsO1xuICB2YXIgZGVhZGxpbmUgPSBudWxsO1xuXG4gIHZhciBpc0JhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICB2YXIgaXNVbmJhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICB2YXIgaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IGZhbHNlO1xuXG4gIHZhciBjb21wbGV0ZWRCYXRjaGVzID0gbnVsbDtcblxuICAvLyBVc2UgdGhlc2UgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIG9mIG5lc3RlZCB1cGRhdGVzXG4gIHZhciBORVNURURfVVBEQVRFX0xJTUlUID0gMTAwMDtcbiAgdmFyIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcblxuICB2YXIgdGltZUhldXJpc3RpY0ZvclVuaXRPZldvcmsgPSAxO1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihleHBpcmF0aW9uVGltZSkge1xuICAgIGlmIChjYWxsYmFja0V4cGlyYXRpb25UaW1lICE9PSBOb1dvcmspIHtcbiAgICAgIC8vIEEgY2FsbGJhY2sgaXMgYWxyZWFkeSBzY2hlZHVsZWQuIENoZWNrIGl0cyBleHBpcmF0aW9uIHRpbWUgKHRpbWVvdXQpLlxuICAgICAgaWYgKGV4cGlyYXRpb25UaW1lID4gY2FsbGJhY2tFeHBpcmF0aW9uVGltZSkge1xuICAgICAgICAvLyBFeGlzdGluZyBjYWxsYmFjayBoYXMgc3VmZmljaWVudCB0aW1lb3V0LiBFeGl0LlxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFeGlzdGluZyBjYWxsYmFjayBoYXMgaW5zdWZmaWNpZW50IHRpbWVvdXQuIENhbmNlbCBhbmQgc2NoZWR1bGUgYVxuICAgICAgICAvLyBuZXcgb25lLlxuICAgICAgICBjYW5jZWxEZWZlcnJlZENhbGxiYWNrKGNhbGxiYWNrSUQpO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHJlcXVlc3QgY2FsbGJhY2sgdGltZXIgaXMgYWxyZWFkeSBydW5uaW5nLiBEb24ndCBzdGFydCBhIG5ldyBvbmUuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UmVxdWVzdENhbGxiYWNrVGltZXIoKTtcbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIGEgdGltZW91dCBmb3IgdGhlIGdpdmVuIGV4cGlyYXRpb24gdGltZS5cbiAgICB2YXIgY3VycmVudE1zID0gbm93KCkgLSBvcmlnaW5hbFN0YXJ0VGltZU1zO1xuICAgIHZhciBleHBpcmF0aW9uTXMgPSBleHBpcmF0aW9uVGltZVRvTXMoZXhwaXJhdGlvblRpbWUpO1xuICAgIHZhciB0aW1lb3V0ID0gZXhwaXJhdGlvbk1zIC0gY3VycmVudE1zO1xuXG4gICAgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgIGNhbGxiYWNrSUQgPSBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2socGVyZm9ybUFzeW5jV29yaywge1xuICAgICAgdGltZW91dDogdGltZW91dFxuICAgIH0pO1xuICB9XG5cbiAgLy8gcmVxdWVzdFdvcmsgaXMgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIgd2hlbmV2ZXIgYSByb290IHJlY2VpdmVzIGFuIHVwZGF0ZS5cbiAgLy8gSXQncyB1cCB0byB0aGUgcmVuZGVyZXIgdG8gY2FsbCByZW5kZXJSb290IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgZnVuY3Rpb24gcmVxdWVzdFdvcmsocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBhZGRSb290VG9TY2hlZHVsZShyb290LCBleHBpcmF0aW9uVGltZSk7XG5cbiAgICBpZiAoaXNSZW5kZXJpbmcpIHtcbiAgICAgIC8vIFByZXZlbnQgcmVlbnRyYW5jeS4gUmVtYWluaW5nIHdvcmsgd2lsbCBiZSBzY2hlZHVsZWQgYXQgdGhlIGVuZCBvZlxuICAgICAgLy8gdGhlIGN1cnJlbnRseSByZW5kZXJpbmcgYmF0Y2guXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICAvLyBGbHVzaCB3b3JrIGF0IHRoZSBlbmQgb2YgdGhlIGJhdGNoLlxuICAgICAgaWYgKGlzVW5iYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICAgICAgLy8gLi4udW5sZXNzIHdlJ3JlIGluc2lkZSB1bmJhdGNoZWRVcGRhdGVzLCBpbiB3aGljaCBjYXNlIHdlIHNob3VsZFxuICAgICAgICAvLyBmbHVzaCBpdCBub3cuXG4gICAgICAgIG5leHRGbHVzaGVkUm9vdCA9IHJvb3Q7XG4gICAgICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBTeW5jO1xuICAgICAgICBwZXJmb3JtV29ya09uUm9vdChyb290LCBTeW5jLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVE9ETzogR2V0IHJpZCBvZiBTeW5jIGFuZCB1c2UgY3VycmVudCB0aW1lP1xuICAgIGlmIChleHBpcmF0aW9uVGltZSA9PT0gU3luYykge1xuICAgICAgcGVyZm9ybVN5bmNXb3JrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2tXaXRoRXhwaXJhdGlvbihleHBpcmF0aW9uVGltZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkUm9vdFRvU2NoZWR1bGUocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBBZGQgdGhlIHJvb3QgdG8gdGhlIHNjaGVkdWxlLlxuICAgIC8vIENoZWNrIGlmIHRoaXMgcm9vdCBpcyBhbHJlYWR5IHBhcnQgb2YgdGhlIHNjaGVkdWxlLlxuICAgIGlmIChyb290Lm5leHRTY2hlZHVsZWRSb290ID09PSBudWxsKSB7XG4gICAgICAvLyBUaGlzIHJvb3QgaXMgbm90IGFscmVhZHkgc2NoZWR1bGVkLiBBZGQgaXQuXG4gICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWU7XG4gICAgICBpZiAobGFzdFNjaGVkdWxlZFJvb3QgPT09IG51bGwpIHtcbiAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhc3RTY2hlZHVsZWRSb290Lm5leHRTY2hlZHVsZWRSb290ID0gcm9vdDtcbiAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyByb290IGlzIGFscmVhZHkgc2NoZWR1bGVkLCBidXQgaXRzIHByaW9yaXR5IG1heSBoYXZlIGluY3JlYXNlZC5cbiAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gICAgICBpZiAoXG4gICAgICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHxcbiAgICAgICAgZXhwaXJhdGlvblRpbWUgPCByZW1haW5pbmdFeHBpcmF0aW9uVGltZVxuICAgICAgKSB7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcHJpb3JpdHkuXG4gICAgICAgIHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpIHtcbiAgICB2YXIgaGlnaGVzdFByaW9yaXR5V29yayA9IE5vV29yaztcbiAgICB2YXIgaGlnaGVzdFByaW9yaXR5Um9vdCA9IG51bGw7XG4gICAgaWYgKGxhc3RTY2hlZHVsZWRSb290ICE9PSBudWxsKSB7XG4gICAgICB2YXIgcHJldmlvdXNTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICB2YXIgcm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgIHdoaWxlIChyb290ICE9PSBudWxsKSB7XG4gICAgICAgIHZhciByZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9IHJvb3QucmVtYWluaW5nRXhwaXJhdGlvblRpbWU7XG4gICAgICAgIGlmIChyZW1haW5pbmdFeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrKSB7XG4gICAgICAgICAgLy8gVGhpcyByb290IG5vIGxvbmdlciBoYXMgd29yay4gUmVtb3ZlIGl0IGZyb20gdGhlIHNjaGVkdWxlci5cblxuICAgICAgICAgIC8vIFRPRE86IFRoaXMgY2hlY2sgaXMgcmVkdWRhbnQsIGJ1dCBGbG93IGlzIGNvbmZ1c2VkIGJ5IHRoZSBicmFuY2hcbiAgICAgICAgICAvLyBiZWxvdyB3aGVyZSB3ZSBzZXQgbGFzdFNjaGVkdWxlZFJvb3QgdG8gbnVsbCwgZXZlbiB0aG91Z2ggd2UgYnJlYWtcbiAgICAgICAgICAvLyBmcm9tIHRoZSBsb29wIHJpZ2h0IGFmdGVyLlxuICAgICAgICAgIGludmFyaWFudChcbiAgICAgICAgICAgIHByZXZpb3VzU2NoZWR1bGVkUm9vdCAhPT0gbnVsbCAmJiBsYXN0U2NoZWR1bGVkUm9vdCAhPT0gbnVsbCxcbiAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBwcmV2aW91cyBhbmQgbGFzdCByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBcIiArXG4gICAgICAgICAgICAgIFwiY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHJvb3QgPT09IHJvb3QubmV4dFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgcm9vdCBpbiB0aGUgbGlzdC5cbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBmaXJzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHJvb3QgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICB2YXIgbmV4dCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBmaXJzdFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBuZXh0O1xuICAgICAgICAgICAgcm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb290ID09PSBsYXN0U2NoZWR1bGVkUm9vdCkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgbGFzdCByb290IGluIHRoZSBsaXN0LlxuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJvb3QgPSBwcmV2aW91c1NjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgICAgIHJvb3QubmV4dFNjaGVkdWxlZFJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdCA9IHJvb3QubmV4dFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgICAgICByb290Lm5leHRTY2hlZHVsZWRSb290ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcm9vdCA9IHByZXZpb3VzU2NoZWR1bGVkUm9vdC5uZXh0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlXb3JrID09PSBOb1dvcmsgfHxcbiAgICAgICAgICAgIHJlbWFpbmluZ0V4cGlyYXRpb25UaW1lIDwgaGlnaGVzdFByaW9yaXR5V29ya1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwcmlvcml0eSwgaWYgaXQncyBoaWdoZXJcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVdvcmsgPSByZW1haW5pbmdFeHBpcmF0aW9uVGltZTtcbiAgICAgICAgICAgIGhpZ2hlc3RQcmlvcml0eVJvb3QgPSByb290O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocm9vdCA9PT0gbGFzdFNjaGVkdWxlZFJvb3QpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2aW91c1NjaGVkdWxlZFJvb3QgPSByb290O1xuICAgICAgICAgIHJvb3QgPSByb290Lm5leHRTY2hlZHVsZWRSb290O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5leHQgcm9vdCBpcyB0aGUgc2FtZSBhcyB0aGUgcHJldmlvdXMgcm9vdCwgdGhpcyBpcyBhIG5lc3RlZFxuICAgIC8vIHVwZGF0ZS4gVG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wLCBpbmNyZW1lbnQgdGhlIG5lc3RlZCB1cGRhdGUgY291bnQuXG4gICAgdmFyIHByZXZpb3VzRmx1c2hlZFJvb3QgPSBuZXh0Rmx1c2hlZFJvb3Q7XG4gICAgaWYgKFxuICAgICAgcHJldmlvdXNGbHVzaGVkUm9vdCAhPT0gbnVsbCAmJlxuICAgICAgcHJldmlvdXNGbHVzaGVkUm9vdCA9PT0gaGlnaGVzdFByaW9yaXR5Um9vdCAmJlxuICAgICAgaGlnaGVzdFByaW9yaXR5V29yayA9PT0gU3luY1xuICAgICkge1xuICAgICAgbmVzdGVkVXBkYXRlQ291bnQrKztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVzZXQgd2hlbmV2ZXIgd2Ugc3dpdGNoIHJvb3RzLlxuICAgICAgbmVzdGVkVXBkYXRlQ291bnQgPSAwO1xuICAgIH1cbiAgICBuZXh0Rmx1c2hlZFJvb3QgPSBoaWdoZXN0UHJpb3JpdHlSb290O1xuICAgIG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgPSBoaWdoZXN0UHJpb3JpdHlXb3JrO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybUFzeW5jV29yayhkbCkge1xuICAgIHBlcmZvcm1Xb3JrKE5vV29yaywgdHJ1ZSwgZGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVyZm9ybVN5bmNXb3JrKCkge1xuICAgIHBlcmZvcm1Xb3JrKFN5bmMsIGZhbHNlLCBudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrKG1pbkV4cGlyYXRpb25UaW1lLCBpc0FzeW5jLCBkbCkge1xuICAgIGRlYWRsaW5lID0gZGw7XG5cbiAgICAvLyBLZWVwIHdvcmtpbmcgb24gcm9vdHMgdW50aWwgdGhlcmUncyBubyBtb3JlIHdvcmssIG9yIHVudGlsIHRoZSB3ZSByZWFjaFxuICAgIC8vIHRoZSBkZWFkbGluZS5cbiAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuXG4gICAgaWYgKGVuYWJsZVVzZXJUaW1pbmdBUEkgJiYgZGVhZGxpbmUgIT09IG51bGwpIHtcbiAgICAgIHZhciBkaWRFeHBpcmUgPSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lIDwgcmVjYWxjdWxhdGVDdXJyZW50VGltZSgpO1xuICAgICAgdmFyIHRpbWVvdXQgPSBleHBpcmF0aW9uVGltZVRvTXMobmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSk7XG4gICAgICBzdG9wUmVxdWVzdENhbGxiYWNrVGltZXIoZGlkRXhwaXJlLCB0aW1lb3V0KTtcbiAgICB9XG5cbiAgICBpZiAoaXNBc3luYykge1xuICAgICAgd2hpbGUgKFxuICAgICAgICBuZXh0Rmx1c2hlZFJvb3QgIT09IG51bGwgJiZcbiAgICAgICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrICYmXG4gICAgICAgIChtaW5FeHBpcmF0aW9uVGltZSA9PT0gTm9Xb3JrIHx8XG4gICAgICAgICAgbWluRXhwaXJhdGlvblRpbWUgPj0gbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSkgJiZcbiAgICAgICAgKCFkZWFkbGluZURpZEV4cGlyZSB8fFxuICAgICAgICAgIHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKSA+PSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKVxuICAgICAgKSB7XG4gICAgICAgIHBlcmZvcm1Xb3JrT25Sb290KFxuICAgICAgICAgIG5leHRGbHVzaGVkUm9vdCxcbiAgICAgICAgICBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lLFxuICAgICAgICAgICFkZWFkbGluZURpZEV4cGlyZVxuICAgICAgICApO1xuICAgICAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIG5leHRGbHVzaGVkUm9vdCAhPT0gbnVsbCAmJlxuICAgICAgICBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lICE9PSBOb1dvcmsgJiZcbiAgICAgICAgKG1pbkV4cGlyYXRpb25UaW1lID09PSBOb1dvcmsgfHxcbiAgICAgICAgICBtaW5FeHBpcmF0aW9uVGltZSA+PSBuZXh0Rmx1c2hlZEV4cGlyYXRpb25UaW1lKVxuICAgICAgKSB7XG4gICAgICAgIHBlcmZvcm1Xb3JrT25Sb290KG5leHRGbHVzaGVkUm9vdCwgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSwgZmFsc2UpO1xuICAgICAgICBmaW5kSGlnaGVzdFByaW9yaXR5Um9vdCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlJ3JlIGRvbmUgZmx1c2hpbmcgd29yay4gRWl0aGVyIHdlIHJhbiBvdXQgb2YgdGltZSBpbiB0aGlzIGNhbGxiYWNrLFxuICAgIC8vIG9yIHRoZXJlJ3Mgbm8gbW9yZSB3b3JrIGxlZnQgd2l0aCBzdWZmaWNpZW50IHByaW9yaXR5LlxuXG4gICAgLy8gSWYgd2UncmUgaW5zaWRlIGEgY2FsbGJhY2ssIHNldCB0aGlzIHRvIGZhbHNlIHNpbmNlIHdlIGp1c3QgY29tcGxldGVkIGl0LlxuICAgIGlmIChkZWFkbGluZSAhPT0gbnVsbCkge1xuICAgICAgY2FsbGJhY2tFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICAgIGNhbGxiYWNrSUQgPSAtMTtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUncyB3b3JrIGxlZnQgb3Zlciwgc2NoZWR1bGUgYSBuZXcgY2FsbGJhY2suXG4gICAgaWYgKG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgc2NoZWR1bGVDYWxsYmFja1dpdGhFeHBpcmF0aW9uKG5leHRGbHVzaGVkRXhwaXJhdGlvblRpbWUpO1xuICAgIH1cblxuICAgIC8vIENsZWFuLXVwLlxuICAgIGRlYWRsaW5lID0gbnVsbDtcbiAgICBkZWFkbGluZURpZEV4cGlyZSA9IGZhbHNlO1xuXG4gICAgZmluaXNoUmVuZGVyaW5nKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaFJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUpIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhaXNSZW5kZXJpbmcsXG4gICAgICBcIndvcmsuY29tbWl0KCk6IENhbm5vdCBjb21taXQgd2hpbGUgYWxyZWFkeSByZW5kZXJpbmcuIFRoaXMgbGlrZWx5IFwiICtcbiAgICAgICAgXCJtZWFucyB5b3UgYXR0ZW1wdGVkIHRvIGNvbW1pdCBmcm9tIGluc2lkZSBhIGxpZmVjeWNsZSBtZXRob2QuXCJcbiAgICApO1xuICAgIC8vIFBlcmZvcm0gd29yayBvbiByb290IGFzIGlmIHRoZSBnaXZlbiBleHBpcmF0aW9uIHRpbWUgaXMgdGhlIGN1cnJlbnQgdGltZS5cbiAgICAvLyBUaGlzIGhhcyB0aGUgZWZmZWN0IG9mIHN5bmNocm9ub3VzbHkgZmx1c2hpbmcgYWxsIHdvcmsgdXAgdG8gYW5kXG4gICAgLy8gaW5jbHVkaW5nIHRoZSBnaXZlbiB0aW1lLlxuICAgIG5leHRGbHVzaGVkUm9vdCA9IHJvb3Q7XG4gICAgbmV4dEZsdXNoZWRFeHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lO1xuICAgIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBmYWxzZSk7XG4gICAgLy8gRmx1c2ggYW55IHN5bmMgd29yayB0aGF0IHdhcyBzY2hlZHVsZWQgYnkgbGlmZWN5Y2xlc1xuICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgIGZpbmlzaFJlbmRlcmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoUmVuZGVyaW5nKCkge1xuICAgIG5lc3RlZFVwZGF0ZUNvdW50ID0gMDtcblxuICAgIGlmIChjb21wbGV0ZWRCYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICB2YXIgYmF0Y2hlcyA9IGNvbXBsZXRlZEJhdGNoZXM7XG4gICAgICBjb21wbGV0ZWRCYXRjaGVzID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYmF0Y2ggPSBiYXRjaGVzW2ldO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJhdGNoLl9vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKCFoYXNVbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgdW5oYW5kbGVkRXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIHZhciBlcnJvciA9IHVuaGFuZGxlZEVycm9yO1xuICAgICAgdW5oYW5kbGVkRXJyb3IgPSBudWxsO1xuICAgICAgaGFzVW5oYW5kbGVkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGV4cGlyYXRpb25UaW1lLCBpc0FzeW5jKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVuZGVyaW5nLFxuICAgICAgXCJwZXJmb3JtV29ya09uUm9vdCB3YXMgY2FsbGVkIHJlY3Vyc2l2ZWx5LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgXCIgK1xuICAgICAgICBcImJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG5cbiAgICBpc1JlbmRlcmluZyA9IHRydWU7XG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFzeW5jIHdvcmsgb3Igc3luYy9leHBpcmVkIHdvcmsuXG4gICAgaWYgKCFpc0FzeW5jKSB7XG4gICAgICAvLyBGbHVzaCBzeW5jIHdvcmsuXG4gICAgICB2YXIgZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgICBpZiAoZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgZmluaXNoZWRXb3JrLCBleHBpcmF0aW9uVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgICAgIGZpbmlzaGVkV29yayA9IHJlbmRlclJvb3Qocm9vdCwgZXhwaXJhdGlvblRpbWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGZpbmlzaGVkV29yayAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIFdlJ3ZlIGNvbXBsZXRlZCB0aGUgcm9vdC4gQ29tbWl0IGl0LlxuICAgICAgICAgIGNvbXBsZXRlUm9vdChyb290LCBmaW5pc2hlZFdvcmssIGV4cGlyYXRpb25UaW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGbHVzaCBhc3luYyB3b3JrLlxuICAgICAgdmFyIF9maW5pc2hlZFdvcmsgPSByb290LmZpbmlzaGVkV29yaztcbiAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBhbHJlYWR5IGNvbXBsZXRlLiBXZSBjYW4gY29tbWl0IGl0LlxuICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgICBfZmluaXNoZWRXb3JrID0gcmVuZGVyUm9vdChyb290LCBleHBpcmF0aW9uVGltZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChfZmluaXNoZWRXb3JrICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gV2UndmUgY29tcGxldGVkIHRoZSByb290LiBDaGVjayB0aGUgZGVhZGxpbmUgb25lIG1vcmUgdGltZVxuICAgICAgICAgIC8vIGJlZm9yZSBjb21taXR0aW5nLlxuICAgICAgICAgIGlmICghc2hvdWxkWWllbGQoKSkge1xuICAgICAgICAgICAgLy8gU3RpbGwgdGltZSBsZWZ0LiBDb21taXQgdGhlIHJvb3QuXG4gICAgICAgICAgICBjb21wbGV0ZVJvb3Qocm9vdCwgX2ZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIHRpbWUgbGVmdC4gTWFyayB0aGlzIHJvb3QgYXMgY29tcGxldGUuIFdlJ2xsIGNvbWVcbiAgICAgICAgICAgIC8vIGJhY2sgYW5kIGNvbW1pdCBpdCBsYXRlci5cbiAgICAgICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gX2ZpbmlzaGVkV29yaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpc1JlbmRlcmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGVSb290KHJvb3QsIGZpbmlzaGVkV29yaywgZXhwaXJhdGlvblRpbWUpIHtcbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgYmF0Y2ggdGhhdCBtYXRjaGVzIHRoaXMgZXhwaXJhdGlvbiB0aW1lLlxuICAgIHZhciBmaXJzdEJhdGNoID0gcm9vdC5maXJzdEJhdGNoO1xuICAgIGlmIChmaXJzdEJhdGNoICE9PSBudWxsICYmIGZpcnN0QmF0Y2guX2V4cGlyYXRpb25UaW1lIDw9IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICBpZiAoY29tcGxldGVkQmF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICBjb21wbGV0ZWRCYXRjaGVzID0gW2ZpcnN0QmF0Y2hdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGVkQmF0Y2hlcy5wdXNoKGZpcnN0QmF0Y2gpO1xuICAgICAgfVxuICAgICAgaWYgKGZpcnN0QmF0Y2guX2RlZmVyKSB7XG4gICAgICAgIC8vIFRoaXMgcm9vdCBpcyBibG9ja2VkIGZyb20gY29tbWl0dGluZyBieSBhIGJhdGNoLiBVbnNjaGVkdWxlIGl0IHVudGlsXG4gICAgICAgIC8vIHdlIHJlY2VpdmUgYW5vdGhlciB1cGRhdGUuXG4gICAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrO1xuICAgICAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ29tbWl0IHRoZSByb290LlxuICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICByb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gY29tbWl0Um9vdChmaW5pc2hlZFdvcmspO1xuICB9XG5cbiAgLy8gV2hlbiB3b3JraW5nIG9uIGFzeW5jIHdvcmssIHRoZSByZWNvbmNpbGVyIGFza3MgdGhlIHJlbmRlcmVyIGlmIGl0IHNob3VsZFxuICAvLyB5aWVsZCBleGVjdXRpb24uIEZvciBET00sIHdlIGltcGxlbWVudCB0aGlzIHdpdGggcmVxdWVzdElkbGVDYWxsYmFjay5cbiAgZnVuY3Rpb24gc2hvdWxkWWllbGQoKSB7XG4gICAgaWYgKGRlYWRsaW5lID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkZWFkbGluZS50aW1lUmVtYWluaW5nKCkgPiB0aW1lSGV1cmlzdGljRm9yVW5pdE9mV29yaykge1xuICAgICAgLy8gRGlzcmVnYXJkIGRlYWRsaW5lLmRpZFRpbWVvdXQuIE9ubHkgZXhwaXJlZCB3b3JrIHNob3VsZCBiZSBmbHVzaGVkXG4gICAgICAvLyBkdXJpbmcgYSB0aW1lb3V0LiBUaGlzIHBhdGggaXMgb25seSBoaXQgZm9yIG5vbi1leHBpcmVkIHdvcmsuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRlYWRsaW5lRGlkRXhwaXJlID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVW5jYXVnaHRFcnJvcihlcnJvcikge1xuICAgIGludmFyaWFudChcbiAgICAgIG5leHRGbHVzaGVkUm9vdCAhPT0gbnVsbCxcbiAgICAgIFwiU2hvdWxkIGJlIHdvcmtpbmcgb24gYSByb290LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gXCIgK1xuICAgICAgICBcIlJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICk7XG4gICAgLy8gVW5zY2hlZHVsZSB0aGlzIHJvb3Qgc28gd2UgZG9uJ3Qgd29yayBvbiBpdCBhZ2FpbiB1bnRpbCB0aGVyZSdzXG4gICAgLy8gYW5vdGhlciB1cGRhdGUuXG4gICAgbmV4dEZsdXNoZWRSb290LnJlbWFpbmluZ0V4cGlyYXRpb25UaW1lID0gTm9Xb3JrO1xuICAgIGlmICghaGFzVW5oYW5kbGVkRXJyb3IpIHtcbiAgICAgIGhhc1VuaGFuZGxlZEVycm9yID0gdHJ1ZTtcbiAgICAgIHVuaGFuZGxlZEVycm9yID0gZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogQmF0Y2hpbmcgc2hvdWxkIGJlIGltcGxlbWVudGVkIGF0IHRoZSByZW5kZXJlciBsZXZlbCwgbm90IGluc2lkZVxuICAvLyB0aGUgcmVjb25jaWxlci5cbiAgZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoZm4sIGEpIHtcbiAgICB2YXIgcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcyA9IGlzQmF0Y2hpbmdVcGRhdGVzO1xuICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKGEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBpZiAoIWlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1JlbmRlcmluZykge1xuICAgICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBUT0RPOiBCYXRjaGluZyBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYXQgdGhlIHJlbmRlcmVyIGxldmVsLCBub3QgaW5zaWRlXG4gIC8vIHRoZSByZWNvbmNpbGVyLlxuICBmdW5jdGlvbiB1bmJhdGNoZWRVcGRhdGVzKGZuLCBhKSB7XG4gICAgaWYgKGlzQmF0Y2hpbmdVcGRhdGVzICYmICFpc1VuYmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICBpc1VuYmF0Y2hpbmdVcGRhdGVzID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmbihhKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlzVW5iYXRjaGluZ1VwZGF0ZXMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZuKGEpO1xuICB9XG5cbiAgLy8gVE9ETzogQmF0Y2hpbmcgc2hvdWxkIGJlIGltcGxlbWVudGVkIGF0IHRoZSByZW5kZXJlciBsZXZlbCwgbm90IHdpdGhpblxuICAvLyB0aGUgcmVjb25jaWxlci5cbiAgZnVuY3Rpb24gZmx1c2hTeW5jKGZuLCBhKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVuZGVyaW5nLFxuICAgICAgXCJmbHVzaFN5bmMgd2FzIGNhbGxlZCBmcm9tIGluc2lkZSBhIGxpZmVjeWNsZSBtZXRob2QuIEl0IGNhbm5vdCBiZSBcIiArXG4gICAgICAgIFwiY2FsbGVkIHdoZW4gUmVhY3QgaXMgYWxyZWFkeSByZW5kZXJpbmcuXCJcbiAgICApO1xuICAgIHZhciBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzID0gaXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc3luY1VwZGF0ZXMoZm4sIGEpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXM7XG4gICAgICBwZXJmb3JtU3luY1dvcmsoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnRlcmFjdGl2ZVVwZGF0ZXMoZm4sIGEsIGIpIHtcbiAgICBpZiAoaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcykge1xuICAgICAgcmV0dXJuIGZuKGEsIGIpO1xuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBhcmUgYW55IHBlbmRpbmcgaW50ZXJhY3RpdmUgdXBkYXRlcywgc3luY2hyb25vdXNseSBmbHVzaCB0aGVtLlxuICAgIC8vIFRoaXMgbmVlZHMgdG8gaGFwcGVuIGJlZm9yZSB3ZSByZWFkIGFueSBoYW5kbGVycywgYmVjYXVzZSB0aGUgZWZmZWN0IG9mXG4gICAgLy8gdGhlIHByZXZpb3VzIGV2ZW50IG1heSBpbmZsdWVuY2Ugd2hpY2ggaGFuZGxlcnMgYXJlIGNhbGxlZCBkdXJpbmdcbiAgICAvLyB0aGlzIGV2ZW50LlxuICAgIGlmIChcbiAgICAgICFpc0JhdGNoaW5nVXBkYXRlcyAmJlxuICAgICAgIWlzUmVuZGVyaW5nICYmXG4gICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSAhPT0gTm9Xb3JrXG4gICAgKSB7XG4gICAgICAvLyBTeW5jaHJvbm91c2x5IGZsdXNoIHBlbmRpbmcgaW50ZXJhY3RpdmUgdXBkYXRlcy5cbiAgICAgIHBlcmZvcm1Xb3JrKGxvd2VzdFBlbmRpbmdJbnRlcmFjdGl2ZUV4cGlyYXRpb25UaW1lLCBmYWxzZSwgbnVsbCk7XG4gICAgICBsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSA9IE5vV29yaztcbiAgICB9XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IGlzQmF0Y2hpbmdJbnRlcmFjdGl2ZVVwZGF0ZXM7XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMgPSBpc0JhdGNoaW5nVXBkYXRlcztcbiAgICBpc0JhdGNoaW5nSW50ZXJhY3RpdmVVcGRhdGVzID0gdHJ1ZTtcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihhLCBiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcyA9IHByZXZpb3VzSXNCYXRjaGluZ0ludGVyYWN0aXZlVXBkYXRlcztcbiAgICAgIGlzQmF0Y2hpbmdVcGRhdGVzID0gcHJldmlvdXNJc0JhdGNoaW5nVXBkYXRlcztcbiAgICAgIGlmICghaXNCYXRjaGluZ1VwZGF0ZXMgJiYgIWlzUmVuZGVyaW5nKSB7XG4gICAgICAgIHBlcmZvcm1TeW5jV29yaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzKCkge1xuICAgIGlmICghaXNSZW5kZXJpbmcgJiYgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgIT09IE5vV29yaykge1xuICAgICAgLy8gU3luY2hyb25vdXNseSBmbHVzaCBwZW5kaW5nIGludGVyYWN0aXZlIHVwZGF0ZXMuXG4gICAgICBwZXJmb3JtV29yayhsb3dlc3RQZW5kaW5nSW50ZXJhY3RpdmVFeHBpcmF0aW9uVGltZSwgZmFsc2UsIG51bGwpO1xuICAgICAgbG93ZXN0UGVuZGluZ0ludGVyYWN0aXZlRXhwaXJhdGlvblRpbWUgPSBOb1dvcms7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2hDb250cm9sbGVkKGZuKSB7XG4gICAgdmFyIHByZXZpb3VzSXNCYXRjaGluZ1VwZGF0ZXMgPSBpc0JhdGNoaW5nVXBkYXRlcztcbiAgICBpc0JhdGNoaW5nVXBkYXRlcyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHN5bmNVcGRhdGVzKGZuKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNCYXRjaGluZ1VwZGF0ZXMgPSBwcmV2aW91c0lzQmF0Y2hpbmdVcGRhdGVzO1xuICAgICAgaWYgKCFpc0JhdGNoaW5nVXBkYXRlcyAmJiAhaXNSZW5kZXJpbmcpIHtcbiAgICAgICAgcGVyZm9ybVdvcmsoU3luYywgZmFsc2UsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVjYWxjdWxhdGVDdXJyZW50VGltZTogcmVjYWxjdWxhdGVDdXJyZW50VGltZSxcbiAgICBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyOiBjb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLFxuICAgIHNjaGVkdWxlV29yazogc2NoZWR1bGVXb3JrLFxuICAgIHJlcXVlc3RXb3JrOiByZXF1ZXN0V29yayxcbiAgICBmbHVzaFJvb3Q6IGZsdXNoUm9vdCxcbiAgICBiYXRjaGVkVXBkYXRlczogYmF0Y2hlZFVwZGF0ZXMsXG4gICAgdW5iYXRjaGVkVXBkYXRlczogdW5iYXRjaGVkVXBkYXRlcyxcbiAgICBmbHVzaFN5bmM6IGZsdXNoU3luYyxcbiAgICBmbHVzaENvbnRyb2xsZWQ6IGZsdXNoQ29udHJvbGxlZCxcbiAgICBkZWZlcnJlZFVwZGF0ZXM6IGRlZmVycmVkVXBkYXRlcyxcbiAgICBzeW5jVXBkYXRlczogc3luY1VwZGF0ZXMsXG4gICAgaW50ZXJhY3RpdmVVcGRhdGVzOiBpbnRlcmFjdGl2ZVVwZGF0ZXMsXG4gICAgZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXM6IGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgIGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb246IGNvbXB1dGVVbmlxdWVBc3luY0V4cGlyYXRpb24sXG4gICAgbGVnYWN5Q29udGV4dDogbGVnYWN5Q29udGV4dFxuICB9O1xufTtcblxudmFyIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSB2b2lkIDA7XG5cbntcbiAgZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9IGZhbHNlO1xufVxuXG4vLyAwIGlzIFBST0QsIDEgaXMgREVWLlxuLy8gTWlnaHQgYWRkIFBST0ZJTEUgbGF0ZXIuXG5cbnZhciBSZWFjdEZpYmVyUmVjb25jaWxlciQxID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gIHZhciBnZXRQdWJsaWNJbnN0YW5jZSA9IGNvbmZpZy5nZXRQdWJsaWNJbnN0YW5jZTtcblxuICB2YXIgX1JlYWN0RmliZXJTY2hlZHVsZXIgPSBSZWFjdEZpYmVyU2NoZWR1bGVyKGNvbmZpZyksXG4gICAgY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbiA9XG4gICAgICBfUmVhY3RGaWJlclNjaGVkdWxlci5jb21wdXRlVW5pcXVlQXN5bmNFeHBpcmF0aW9uLFxuICAgIHJlY2FsY3VsYXRlQ3VycmVudFRpbWUgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5yZWNhbGN1bGF0ZUN1cnJlbnRUaW1lLFxuICAgIGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5jb21wdXRlRXhwaXJhdGlvbkZvckZpYmVyLFxuICAgIHNjaGVkdWxlV29yayA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLnNjaGVkdWxlV29yayxcbiAgICByZXF1ZXN0V29yayA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLnJlcXVlc3RXb3JrLFxuICAgIGZsdXNoUm9vdCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoUm9vdCxcbiAgICBiYXRjaGVkVXBkYXRlcyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmJhdGNoZWRVcGRhdGVzLFxuICAgIHVuYmF0Y2hlZFVwZGF0ZXMgPSBfUmVhY3RGaWJlclNjaGVkdWxlci51bmJhdGNoZWRVcGRhdGVzLFxuICAgIGZsdXNoU3luYyA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmZsdXNoU3luYyxcbiAgICBmbHVzaENvbnRyb2xsZWQgPSBfUmVhY3RGaWJlclNjaGVkdWxlci5mbHVzaENvbnRyb2xsZWQsXG4gICAgZGVmZXJyZWRVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuZGVmZXJyZWRVcGRhdGVzLFxuICAgIHN5bmNVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuc3luY1VwZGF0ZXMsXG4gICAgaW50ZXJhY3RpdmVVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuaW50ZXJhY3RpdmVVcGRhdGVzLFxuICAgIGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzID0gX1JlYWN0RmliZXJTY2hlZHVsZXIuZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXMsXG4gICAgbGVnYWN5Q29udGV4dCA9IF9SZWFjdEZpYmVyU2NoZWR1bGVyLmxlZ2FjeUNvbnRleHQ7XG5cbiAgdmFyIGZpbmRDdXJyZW50VW5tYXNrZWRDb250ZXh0ID0gbGVnYWN5Q29udGV4dC5maW5kQ3VycmVudFVubWFza2VkQ29udGV4dCxcbiAgICBpc0NvbnRleHRQcm92aWRlciA9IGxlZ2FjeUNvbnRleHQuaXNDb250ZXh0UHJvdmlkZXIsXG4gICAgcHJvY2Vzc0NoaWxkQ29udGV4dCA9IGxlZ2FjeUNvbnRleHQucHJvY2Vzc0NoaWxkQ29udGV4dDtcblxuICBmdW5jdGlvbiBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpIHtcbiAgICBpZiAoIXBhcmVudENvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICAgIH1cblxuICAgIHZhciBmaWJlciA9IGdldChwYXJlbnRDb21wb25lbnQpO1xuICAgIHZhciBwYXJlbnRDb250ZXh0ID0gZmluZEN1cnJlbnRVbm1hc2tlZENvbnRleHQoZmliZXIpO1xuICAgIHJldHVybiBpc0NvbnRleHRQcm92aWRlcihmaWJlcilcbiAgICAgID8gcHJvY2Vzc0NoaWxkQ29udGV4dChmaWJlciwgcGFyZW50Q29udGV4dClcbiAgICAgIDogcGFyZW50Q29udGV4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlUm9vdFVwZGF0ZShcbiAgICBjdXJyZW50LFxuICAgIGVsZW1lbnQsXG4gICAgY3VycmVudFRpbWUsXG4gICAgZXhwaXJhdGlvblRpbWUsXG4gICAgY2FsbGJhY2tcbiAgKSB7XG4gICAge1xuICAgICAgaWYgKFxuICAgICAgICBSZWFjdERlYnVnQ3VycmVudEZpYmVyLnBoYXNlID09PSBcInJlbmRlclwiICYmXG4gICAgICAgIFJlYWN0RGVidWdDdXJyZW50RmliZXIuY3VycmVudCAhPT0gbnVsbCAmJlxuICAgICAgICAhZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlc1xuICAgICAgKSB7XG4gICAgICAgIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSB0cnVlO1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IFwiICtcbiAgICAgICAgICAgIFwidHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSByZW5kZXIgaXMgbm90IGFsbG93ZWQuIFwiICtcbiAgICAgICAgICAgIFwiSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluIGNvbXBvbmVudERpZFVwZGF0ZS5cXG5cXG5cIiArXG4gICAgICAgICAgICBcIkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLlwiLFxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWUoUmVhY3REZWJ1Z0N1cnJlbnRGaWJlci5jdXJyZW50KSB8fCBcIlVua25vd25cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjYWxsYmFjaztcbiAgICB7XG4gICAgICAhKGNhbGxiYWNrID09PSBudWxsIHx8IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICA/IHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwicmVuZGVyKC4uLik6IEV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSBcIiArXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICApXG4gICAgICAgIDogdm9pZCAwO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICBleHBpcmF0aW9uVGltZTogZXhwaXJhdGlvblRpbWUsXG4gICAgICBwYXJ0aWFsU3RhdGU6IHsgZWxlbWVudDogZWxlbWVudCB9LFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgaXNSZXBsYWNlOiBmYWxzZSxcbiAgICAgIGlzRm9yY2VkOiBmYWxzZSxcbiAgICAgIGNhcHR1cmVkVmFsdWU6IG51bGwsXG4gICAgICBuZXh0OiBudWxsXG4gICAgfTtcbiAgICBpbnNlcnRVcGRhdGVJbnRvRmliZXIoY3VycmVudCwgdXBkYXRlKTtcbiAgICBzY2hlZHVsZVdvcmsoY3VycmVudCwgZXhwaXJhdGlvblRpbWUpO1xuXG4gICAgcmV0dXJuIGV4cGlyYXRpb25UaW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShcbiAgICBlbGVtZW50LFxuICAgIGNvbnRhaW5lcixcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgY3VycmVudFRpbWUsXG4gICAgZXhwaXJhdGlvblRpbWUsXG4gICAgY2FsbGJhY2tcbiAgKSB7XG4gICAgLy8gVE9ETzogSWYgdGhpcyBpcyBhIG5lc3RlZCBjb250YWluZXIsIHRoaXMgd29uJ3QgYmUgdGhlIHJvb3QuXG4gICAgdmFyIGN1cnJlbnQgPSBjb250YWluZXIuY3VycmVudDtcblxuICAgIHtcbiAgICAgIGlmIChSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sKSB7XG4gICAgICAgIGlmIChjdXJyZW50LmFsdGVybmF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25Nb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICBSZWFjdEZpYmVySW5zdHJ1bWVudGF0aW9uXzEuZGVidWdUb29sLm9uVW5tb3VudENvbnRhaW5lcihjb250YWluZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0RmliZXJJbnN0cnVtZW50YXRpb25fMS5kZWJ1Z1Rvb2wub25VcGRhdGVDb250YWluZXIoY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAoY29udGFpbmVyLmNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgIGNvbnRhaW5lci5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLnBlbmRpbmdDb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2NoZWR1bGVSb290VXBkYXRlKFxuICAgICAgY3VycmVudCxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjdXJyZW50VGltZSxcbiAgICAgIGV4cGlyYXRpb25UaW1lLFxuICAgICAgY2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZEhvc3RJbnN0YW5jZShmaWJlcikge1xuICAgIHZhciBob3N0RmliZXIgPSBmaW5kQ3VycmVudEhvc3RGaWJlcihmaWJlcik7XG4gICAgaWYgKGhvc3RGaWJlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBob3N0RmliZXIuc3RhdGVOb2RlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVDb250YWluZXI6IGZ1bmN0aW9uKGNvbnRhaW5lckluZm8sIGlzQXN5bmMsIGh5ZHJhdGUpIHtcbiAgICAgIHJldHVybiBjcmVhdGVGaWJlclJvb3QoY29udGFpbmVySW5mbywgaXNBc3luYywgaHlkcmF0ZSk7XG4gICAgfSxcbiAgICB1cGRhdGVDb250YWluZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGN1cnJlbnQgPSBjb250YWluZXIuY3VycmVudDtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IHJlY2FsY3VsYXRlQ3VycmVudFRpbWUoKTtcbiAgICAgIHZhciBleHBpcmF0aW9uVGltZSA9IGNvbXB1dGVFeHBpcmF0aW9uRm9yRmliZXIoY3VycmVudCk7XG4gICAgICByZXR1cm4gdXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgICk7XG4gICAgfSxcbiAgICB1cGRhdGVDb250YWluZXJBdEV4cGlyYXRpb25UaW1lOiBmdW5jdGlvbihcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBleHBpcmF0aW9uVGltZSxcbiAgICAgIGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSByZWNhbGN1bGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICByZXR1cm4gdXBkYXRlQ29udGFpbmVyQXRFeHBpcmF0aW9uVGltZShcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICBleHBpcmF0aW9uVGltZSxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGZsdXNoUm9vdDogZmx1c2hSb290LFxuXG4gICAgcmVxdWVzdFdvcms6IHJlcXVlc3RXb3JrLFxuXG4gICAgY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbjogY29tcHV0ZVVuaXF1ZUFzeW5jRXhwaXJhdGlvbixcblxuICAgIGJhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyxcblxuICAgIHVuYmF0Y2hlZFVwZGF0ZXM6IHVuYmF0Y2hlZFVwZGF0ZXMsXG5cbiAgICBkZWZlcnJlZFVwZGF0ZXM6IGRlZmVycmVkVXBkYXRlcyxcblxuICAgIHN5bmNVcGRhdGVzOiBzeW5jVXBkYXRlcyxcblxuICAgIGludGVyYWN0aXZlVXBkYXRlczogaW50ZXJhY3RpdmVVcGRhdGVzLFxuXG4gICAgZmx1c2hJbnRlcmFjdGl2ZVVwZGF0ZXM6IGZsdXNoSW50ZXJhY3RpdmVVcGRhdGVzLFxuXG4gICAgZmx1c2hDb250cm9sbGVkOiBmbHVzaENvbnRyb2xsZWQsXG5cbiAgICBmbHVzaFN5bmM6IGZsdXNoU3luYyxcblxuICAgIGdldFB1YmxpY1Jvb3RJbnN0YW5jZTogZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgICB2YXIgY29udGFpbmVyRmliZXIgPSBjb250YWluZXIuY3VycmVudDtcbiAgICAgIGlmICghY29udGFpbmVyRmliZXIuY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNvbnRhaW5lckZpYmVyLmNoaWxkLnRhZykge1xuICAgICAgICBjYXNlIEhvc3RDb21wb25lbnQ6XG4gICAgICAgICAgcmV0dXJuIGdldFB1YmxpY0luc3RhbmNlKGNvbnRhaW5lckZpYmVyLmNoaWxkLnN0YXRlTm9kZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGNvbnRhaW5lckZpYmVyLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluZEhvc3RJbnN0YW5jZTogZmluZEhvc3RJbnN0YW5jZSxcblxuICAgIGZpbmRIb3N0SW5zdGFuY2VXaXRoTm9Qb3J0YWxzOiBmdW5jdGlvbihmaWJlcikge1xuICAgICAgdmFyIGhvc3RGaWJlciA9IGZpbmRDdXJyZW50SG9zdEZpYmVyV2l0aE5vUG9ydGFscyhmaWJlcik7XG4gICAgICBpZiAoaG9zdEZpYmVyID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhvc3RGaWJlci5zdGF0ZU5vZGU7XG4gICAgfSxcbiAgICBpbmplY3RJbnRvRGV2VG9vbHM6IGZ1bmN0aW9uKGRldlRvb2xzQ29uZmlnKSB7XG4gICAgICB2YXIgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2UgPSBkZXZUb29sc0NvbmZpZy5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTtcblxuICAgICAgcmV0dXJuIGluamVjdEludGVybmFscyhcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZGV2VG9vbHNDb25maWcsIHtcbiAgICAgICAgICBmaW5kSG9zdEluc3RhbmNlQnlGaWJlcjogZnVuY3Rpb24oZmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5kSG9zdEluc3RhbmNlKGZpYmVyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKCFmaW5kRmliZXJCeUhvc3RJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAvLyBNaWdodCBub3QgYmUgaW1wbGVtZW50ZWQgYnkgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgUmVhY3RGaWJlclJlY29uY2lsZXIkMiA9IE9iamVjdC5mcmVlemUoe1xuICBkZWZhdWx0OiBSZWFjdEZpYmVyUmVjb25jaWxlciQxXG59KTtcblxudmFyIFJlYWN0RmliZXJSZWNvbmNpbGVyJDMgPVxuICAoUmVhY3RGaWJlclJlY29uY2lsZXIkMiAmJiBSZWFjdEZpYmVyUmVjb25jaWxlciQxKSB8fCBSZWFjdEZpYmVyUmVjb25jaWxlciQyO1xuXG4vLyBUT0RPOiBidW5kbGUgRmxvdyB0eXBlcyB3aXRoIHRoZSBwYWNrYWdlLlxuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdFJlY29uY2lsZXIgPSBSZWFjdEZpYmVyUmVjb25jaWxlciQzW1wiZGVmYXVsdFwiXVxuICA/IFJlYWN0RmliZXJSZWNvbmNpbGVyJDNbXCJkZWZhdWx0XCJdXG4gIDogUmVhY3RGaWJlclJlY29uY2lsZXIkMztcblxudmFyIHZpZXdDb25maWdDYWxsYmFja3MgPSBuZXcgTWFwKCk7XG52YXIgdmlld0NvbmZpZ3MgPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbmF0aXZlIHZpZXcvY29tcG9uZW50IGJ5IG5hbWUuXG4gKiBBIGNhbGxiYWNrIGlzIHByb3ZpZGVkIHRvIGxvYWQgdGhlIHZpZXcgY29uZmlnIGZyb20gVUlNYW5hZ2VyLlxuICogVGhlIGNhbGxiYWNrIGlzIGRlZmVycmVkIHVudGlsIHRoZSB2aWV3IGlzIGFjdHVhbGx5IHJlbmRlcmVkLlxuICogVGhpcyBpcyBkb25lIHRvIGF2b2lkIGNhdXNpbmcgUHJlcGFjayBkZW9wdHMuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIGNhbGxiYWNrKSB7XG4gIGludmFyaWFudChcbiAgICAhdmlld0NvbmZpZ0NhbGxiYWNrcy5oYXMobmFtZSksXG4gICAgXCJUcmllZCB0byByZWdpc3RlciB0d28gdmlld3Mgd2l0aCB0aGUgc2FtZSBuYW1lICVzXCIsXG4gICAgbmFtZVxuICApO1xuICB2aWV3Q29uZmlnQ2FsbGJhY2tzLnNldChuYW1lLCBjYWxsYmFjayk7XG4gIHJldHVybiBuYW1lO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyBhIGNvbmZpZyBmb3IgdGhlIHNwZWNpZmllZCB2aWV3LlxuICogSWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgdmlldyBoYXMgYmVlbiB1c2VkLFxuICogVGhpcyBjb25maWd1cmF0aW9uIHdpbGwgYmUgbGF6eS1sb2FkZWQgZnJvbSBVSU1hbmFnZXIuXG4gKi9cbmZ1bmN0aW9uIGdldCQxKG5hbWUpIHtcbiAgdmFyIHZpZXdDb25maWcgPSB2b2lkIDA7XG4gIGlmICghdmlld0NvbmZpZ3MuaGFzKG5hbWUpKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gdmlld0NvbmZpZ0NhbGxiYWNrcy5nZXQobmFtZSk7XG4gICAgaW52YXJpYW50KFxuICAgICAgdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIsXG4gICAgICBcIlZpZXcgY29uZmlnIG5vdCBmb3VuZCBmb3IgbmFtZSAlc1wiLFxuICAgICAgbmFtZVxuICAgICk7XG4gICAgdmlld0NvbmZpZ0NhbGxiYWNrcy5zZXQobmFtZSwgbnVsbCk7XG4gICAgdmlld0NvbmZpZyA9IGNhbGxiYWNrKCk7XG4gICAgdmlld0NvbmZpZ3Muc2V0KG5hbWUsIHZpZXdDb25maWcpO1xuICB9IGVsc2Uge1xuICAgIHZpZXdDb25maWcgPSB2aWV3Q29uZmlncy5nZXQobmFtZSk7XG4gIH1cbiAgaW52YXJpYW50KHZpZXdDb25maWcsIFwiVmlldyBjb25maWcgbm90IGZvdW5kIGZvciBuYW1lICVzXCIsIG5hbWUpO1xuICByZXR1cm4gdmlld0NvbmZpZztcbn1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDIoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG4vLyBNb2R1bGVzIHByb3ZpZGVkIGJ5IFJOOlxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBkZWZpbmVzIHRoZSBzYW1lIG1ldGhvZHMgYXMgTmF0aXZlTWV0aG9kc01peGluIGJ1dCB3aXRob3V0IHRoZVxuICogZmluZE5vZGVIYW5kbGUgd3JhcHBlci4gVGhpcyB3cmFwcGVyIGlzIHVubmVjZXNzYXJ5IGZvciBIb3N0Q29tcG9uZW50IHZpZXdzXG4gKiBhbmQgd291bGQgYWxzbyByZXN1bHQgaW4gYSBjaXJjdWxhciByZXF1aXJlLmpzIGRlcGVuZGVuY3kgKHNpbmNlXG4gKiBSZWFjdE5hdGl2ZUZpYmVyIGRlcGVuZHMgb24gdGhpcyBjb21wb25lbnQgYW5kIE5hdGl2ZU1ldGhvZHNNaXhpbiBkZXBlbmRzIG9uXG4gKiBSZWFjdE5hdGl2ZUZpYmVyKS5cbiAqL1xuXG52YXIgUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50KHRhZywgdmlld0NvbmZpZykge1xuICAgIF9jbGFzc0NhbGxDaGVjayQyKHRoaXMsIFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50KTtcblxuICAgIHRoaXMuX25hdGl2ZVRhZyA9IHRhZztcbiAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMudmlld0NvbmZpZyA9IHZpZXdDb25maWc7XG4gIH1cblxuICBSZWFjdE5hdGl2ZUZpYmVySG9zdENvbXBvbmVudC5wcm90b3R5cGUuYmx1ciA9IGZ1bmN0aW9uIGJsdXIoKSB7XG4gICAgVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dCh0aGlzLl9uYXRpdmVUYWcpO1xuICB9O1xuXG4gIFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgIFRleHRJbnB1dFN0YXRlLmZvY3VzVGV4dElucHV0KHRoaXMuX25hdGl2ZVRhZyk7XG4gIH07XG5cbiAgUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQucHJvdG90eXBlLm1lYXN1cmUgPSBmdW5jdGlvbiBtZWFzdXJlKGNhbGxiYWNrKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmUodGhpcy5fbmF0aXZlVGFnLCBtb3VudFNhZmVDYWxsYmFjayh0aGlzLCBjYWxsYmFjaykpO1xuICB9O1xuXG4gIFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50LnByb3RvdHlwZS5tZWFzdXJlSW5XaW5kb3cgPSBmdW5jdGlvbiBtZWFzdXJlSW5XaW5kb3coXG4gICAgY2FsbGJhY2tcbiAgKSB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmVJbldpbmRvdyhcbiAgICAgIHRoaXMuX25hdGl2ZVRhZyxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKVxuICAgICk7XG4gIH07XG5cbiAgUmVhY3ROYXRpdmVGaWJlckhvc3RDb21wb25lbnQucHJvdG90eXBlLm1lYXN1cmVMYXlvdXQgPSBmdW5jdGlvbiBtZWFzdXJlTGF5b3V0KFxuICAgIHJlbGF0aXZlVG9OYXRpdmVOb2RlLFxuICAgIG9uU3VjY2VzcyxcbiAgICBvbkZhaWwgLyogY3VycmVudGx5IHVudXNlZCAqL1xuICApIHtcbiAgICBVSU1hbmFnZXIubWVhc3VyZUxheW91dChcbiAgICAgIHRoaXMuX25hdGl2ZVRhZyxcbiAgICAgIHJlbGF0aXZlVG9OYXRpdmVOb2RlLFxuICAgICAgbW91bnRTYWZlQ2FsbGJhY2sodGhpcywgb25GYWlsKSxcbiAgICAgIG1vdW50U2FmZUNhbGxiYWNrKHRoaXMsIG9uU3VjY2VzcylcbiAgICApO1xuICB9O1xuXG4gIFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50LnByb3RvdHlwZS5zZXROYXRpdmVQcm9wcyA9IGZ1bmN0aW9uIHNldE5hdGl2ZVByb3BzKFxuICAgIG5hdGl2ZVByb3BzXG4gICkge1xuICAgIHtcbiAgICAgIHdhcm5Gb3JTdHlsZVByb3BzKG5hdGl2ZVByb3BzLCB0aGlzLnZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzKTtcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGNyZWF0ZShuYXRpdmVQcm9wcywgdGhpcy52aWV3Q29uZmlnLnZhbGlkQXR0cmlidXRlcyk7XG5cbiAgICAvLyBBdm9pZCB0aGUgb3ZlcmhlYWQgb2YgYnJpZGdlIGNhbGxzIGlmIHRoZXJlJ3Mgbm8gdXBkYXRlLlxuICAgIC8vIFRoaXMgaXMgYW4gZXhwZW5zaXZlIG5vLW9wIGZvciBBbmRyb2lkLCBhbmQgY2F1c2VzIGFuIHVubmVjZXNzYXJ5XG4gICAgLy8gdmlldyBpbnZhbGlkYXRpb24gZm9yIGNlcnRhaW4gY29tcG9uZW50cyAoZWcgUkNUVGV4dElucHV0KSBvbiBpT1MuXG4gICAgaWYgKHVwZGF0ZVBheWxvYWQgIT0gbnVsbCkge1xuICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVZpZXcoXG4gICAgICAgIHRoaXMuX25hdGl2ZVRhZyxcbiAgICAgICAgdGhpcy52aWV3Q29uZmlnLnVpVmlld0NsYXNzTmFtZSxcbiAgICAgICAgdXBkYXRlUGF5bG9hZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50O1xufSkoKTtcblxudmFyIGhhc05hdGl2ZVBlcmZvcm1hbmNlTm93ID1cbiAgdHlwZW9mIHBlcmZvcm1hbmNlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIjtcblxudmFyIG5vdyA9IGhhc05hdGl2ZVBlcmZvcm1hbmNlTm93XG4gID8gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuICA6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCk7XG4gICAgfTtcblxudmFyIHNjaGVkdWxlZENhbGxiYWNrID0gbnVsbDtcbnZhciBmcmFtZURlYWRsaW5lID0gMDtcblxudmFyIGZyYW1lRGVhZGxpbmVPYmplY3QgPSB7XG4gIHRpbWVSZW1haW5pbmc6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmcmFtZURlYWRsaW5lIC0gbm93KCk7XG4gIH0sXG4gIGRpZFRpbWVvdXQ6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBzZXRUaW1lb3V0Q2FsbGJhY2soKSB7XG4gIC8vIFRPRE8gKGJ2YXVnaG4pIEhhcmQtY29kZWQgNW1zIHVuYmxvY2tzIGluaXRpYWwgYXN5bmMgdGVzdGluZy5cbiAgLy8gUmVhY3QgQVBJIHByb2JhYmx5IGNoYW5naW5nIHRvIGJvb2xlYW4gcmF0aGVyIHRoYW4gdGltZSByZW1haW5pbmcuXG4gIC8vIExvbmdlci10ZXJtIHBsYW4gaXMgdG8gcmV3cml0ZSB0aGlzIHVzaW5nIHNoYXJlZCBtZW1vcnksXG4gIC8vIEFuZCBqdXN0IHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGJpdCBhcyB0aGUgYm9vbGVhbi5cbiAgZnJhbWVEZWFkbGluZSA9IG5vdygpICsgNTtcblxuICB2YXIgY2FsbGJhY2sgPSBzY2hlZHVsZWRDYWxsYmFjaztcbiAgc2NoZWR1bGVkQ2FsbGJhY2sgPSBudWxsO1xuICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICBjYWxsYmFjayhmcmFtZURlYWRsaW5lT2JqZWN0KTtcbiAgfVxufVxuXG4vLyBSTiBoYXMgYSBwb29yIHBvbHlmaWxsIGZvciByZXF1ZXN0SWRsZUNhbGxiYWNrIHNvIHdlIGFyZW4ndCB1c2luZyBpdC5cbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgb25seSBpbnRlbmRlZCBmb3Igc2hvcnQtdGVybSB1c2UgYW55d2F5LlxuLy8gV2UgYWxzbyBkb24ndCBpbXBsZW1lbnQgY2FuY2VsIGZ1bmN0aW9uYWxpdHkgYidjIEZpYmVyIGRvZXNuJ3QgY3VycmVudGx5IG5lZWQgaXQuXG5mdW5jdGlvbiBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgLy8gV2UgYXNzdW1lIG9ubHkgb25lIGNhbGxiYWNrIGlzIHNjaGVkdWxlZCBhdCBhIHRpbWUgYidjIHRoYXQncyBob3cgRmliZXIgd29ya3MuXG4gIHNjaGVkdWxlZENhbGxiYWNrID0gY2FsbGJhY2s7XG4gIHJldHVybiBzZXRUaW1lb3V0KHNldFRpbWVvdXRDYWxsYmFjaywgMSk7XG59XG5cbmZ1bmN0aW9uIGNhbmNlbERlZmVycmVkQ2FsbGJhY2soY2FsbGJhY2tJRCkge1xuICBzY2hlZHVsZWRDYWxsYmFjayA9IG51bGw7XG4gIGNsZWFyVGltZW91dChjYWxsYmFja0lEKTtcbn1cblxuLy8gTW9kdWxlcyBwcm92aWRlZCBieSBSTjpcbmZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VW5jYWNoZUZpYmVyTm9kZShub2RlKSB7XG4gIGlmICh0eXBlb2Ygbm9kZSA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIExlYWYgbm9kZSAoZWcgdGV4dClcbiAgICB1bmNhY2hlRmliZXJOb2RlKG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHVuY2FjaGVGaWJlck5vZGUobm9kZS5fbmF0aXZlVGFnKTtcblxuICAgIG5vZGUuX2NoaWxkcmVuLmZvckVhY2gocmVjdXJzaXZlbHlVbmNhY2hlRmliZXJOb2RlKTtcbiAgfVxufVxuXG52YXIgTmF0aXZlUmVuZGVyZXIgPSByZWFjdFJlY29uY2lsZXIoe1xuICBhcHBlbmRJbml0aWFsQ2hpbGQ6IGZ1bmN0aW9uKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgIHBhcmVudEluc3RhbmNlLl9jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgfSxcbiAgY3JlYXRlSW5zdGFuY2U6IGZ1bmN0aW9uKFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgIGhvc3RDb250ZXh0LFxuICAgIGludGVybmFsSW5zdGFuY2VIYW5kbGVcbiAgKSB7XG4gICAgdmFyIHRhZyA9IFJlYWN0TmF0aXZlVGFnSGFuZGxlcy5hbGxvY2F0ZVRhZygpO1xuICAgIHZhciB2aWV3Q29uZmlnID0gZ2V0JDEodHlwZSk7XG5cbiAgICB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmlld0NvbmZpZy52YWxpZEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBkZWVwRnJlZXplQW5kVGhyb3dPbk11dGF0aW9uSW5EZXYocHJvcHNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlUGF5bG9hZCA9IGNyZWF0ZShwcm9wcywgdmlld0NvbmZpZy52YWxpZEF0dHJpYnV0ZXMpO1xuXG4gICAgVUlNYW5hZ2VyLmNyZWF0ZVZpZXcoXG4gICAgICB0YWcsIC8vIHJlYWN0VGFnXG4gICAgICB2aWV3Q29uZmlnLnVpVmlld0NsYXNzTmFtZSwgLy8gdmlld05hbWVcbiAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSwgLy8gcm9vdFRhZ1xuICAgICAgdXBkYXRlUGF5bG9hZFxuICAgICk7XG5cbiAgICB2YXIgY29tcG9uZW50ID0gbmV3IFJlYWN0TmF0aXZlRmliZXJIb3N0Q29tcG9uZW50KHRhZywgdmlld0NvbmZpZyk7XG5cbiAgICBwcmVjYWNoZUZpYmVyTm9kZShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCB0YWcpO1xuICAgIHVwZGF0ZUZpYmVyUHJvcHModGFnLCBwcm9wcyk7XG5cbiAgICAvLyBOb3Qgc3VyZSBob3cgdG8gYXZvaWQgdGhpcyBjYXN0LiBGbG93IGlzIG9rYXkgaWYgdGhlIGNvbXBvbmVudCBpcyBkZWZpbmVkXG4gICAgLy8gaW4gdGhlIHNhbWUgZmlsZSBidXQgaWYgaXQncyBleHRlcm5hbCBpdCBjYW4ndCBzZWUgdGhlIHR5cGVzLlxuICAgIHJldHVybiBjb21wb25lbnQ7XG4gIH0sXG4gIGNyZWF0ZVRleHRJbnN0YW5jZTogZnVuY3Rpb24oXG4gICAgdGV4dCxcbiAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgaG9zdENvbnRleHQsXG4gICAgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZVxuICApIHtcbiAgICB2YXIgdGFnID0gUmVhY3ROYXRpdmVUYWdIYW5kbGVzLmFsbG9jYXRlVGFnKCk7XG5cbiAgICBVSU1hbmFnZXIuY3JlYXRlVmlldyhcbiAgICAgIHRhZywgLy8gcmVhY3RUYWdcbiAgICAgIFwiUkNUUmF3VGV4dFwiLCAvLyB2aWV3TmFtZVxuICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLCAvLyByb290VGFnXG4gICAgICB7IHRleHQ6IHRleHQgfVxuICAgICk7XG5cbiAgICBwcmVjYWNoZUZpYmVyTm9kZShpbnRlcm5hbEluc3RhbmNlSGFuZGxlLCB0YWcpO1xuXG4gICAgcmV0dXJuIHRhZztcbiAgfSxcbiAgZmluYWxpemVJbml0aWFsQ2hpbGRyZW46IGZ1bmN0aW9uKFxuICAgIHBhcmVudEluc3RhbmNlLFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgcm9vdENvbnRhaW5lckluc3RhbmNlXG4gICkge1xuICAgIC8vIERvbid0IHNlbmQgYSBuby1vcCBtZXNzYWdlIG92ZXIgdGhlIGJyaWRnZS5cbiAgICBpZiAocGFyZW50SW5zdGFuY2UuX2NoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIE1hcCBmcm9tIGNoaWxkIG9iamVjdHMgdG8gbmF0aXZlIHRhZ3MuXG4gICAgLy8gRWl0aGVyIHdheSB3ZSBuZWVkIHRvIHBhc3MgYSBjb3B5IG9mIHRoZSBBcnJheSB0byBwcmV2ZW50IGl0IGZyb20gYmVpbmcgZnJvemVuLlxuICAgIHZhciBuYXRpdmVUYWdzID0gcGFyZW50SW5zdGFuY2UuX2NoaWxkcmVuLm1hcChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBjaGlsZCA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IGNoaWxkIC8vIExlYWYgbm9kZSAoZWcgdGV4dClcbiAgICAgICAgOiBjaGlsZC5fbmF0aXZlVGFnO1xuICAgIH0pO1xuXG4gICAgVUlNYW5hZ2VyLnNldENoaWxkcmVuKFxuICAgICAgcGFyZW50SW5zdGFuY2UuX25hdGl2ZVRhZywgLy8gY29udGFpbmVyVGFnXG4gICAgICBuYXRpdmVUYWdzXG4gICAgKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZ2V0Um9vdEhvc3RDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZW1wdHlPYmplY3Q7XG4gIH0sXG4gIGdldENoaWxkSG9zdENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgfSxcbiAgZ2V0UHVibGljSW5zdGFuY2U6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9LFxuXG4gIG5vdzogbm93LFxuXG4gIHByZXBhcmVGb3JDb21taXQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIE5vb3BcbiAgfSxcbiAgcHJlcGFyZVVwZGF0ZTogZnVuY3Rpb24oXG4gICAgaW5zdGFuY2UsXG4gICAgdHlwZSxcbiAgICBvbGRQcm9wcyxcbiAgICBuZXdQcm9wcyxcbiAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgaG9zdENvbnRleHRcbiAgKSB7XG4gICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICB9LFxuICByZXNldEFmdGVyQ29tbWl0OiBmdW5jdGlvbigpIHtcbiAgICAvLyBOb29wXG4gIH0sXG5cbiAgc2NoZWR1bGVEZWZlcnJlZENhbGxiYWNrOiBzY2hlZHVsZURlZmVycmVkQ2FsbGJhY2ssXG4gIGNhbmNlbERlZmVycmVkQ2FsbGJhY2s6IGNhbmNlbERlZmVycmVkQ2FsbGJhY2ssXG5cbiAgc2hvdWxkRGVwcmlvcml0aXplU3VidHJlZTogZnVuY3Rpb24odHlwZSwgcHJvcHMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3VsZFNldFRleHRDb250ZW50OiBmdW5jdGlvbih0eXBlLCBwcm9wcykge1xuICAgIC8vIFRPRE8gKGJ2YXVnaG4pIFJldmlzaXQgdGhpcyBkZWNpc2lvbi5cbiAgICAvLyBBbHdheXMgcmV0dXJuaW5nIGZhbHNlIHNpbXBsaWZpZXMgdGhlIGNyZWF0ZUluc3RhbmNlKCkgaW1wbGVtZW50YXRpb24sXG4gICAgLy8gQnV0IGNyZWF0ZXMgYW4gYWRkaXRpb25hbCBjaGlsZCBGaWJlciBmb3IgcmF3IHRleHQgY2hpbGRyZW4uXG4gICAgLy8gTm8gYWRkaXRpb25hbCBuYXRpdmUgdmlld3MgYXJlIGNyZWF0ZWQgdGhvdWdoLlxuICAgIC8vIEl0J3Mgbm90IGNsZWFyIHRvIG1lIHdoaWNoIGlzIGJldHRlciBzbyBJJ20gZGVmZXJyaW5nIGZvciBub3cuXG4gICAgLy8gTW9yZSBjb250ZXh0IEAgZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzg1NjAjZGlzY3Vzc2lvbl9yOTIxMTEzMDNcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgbXV0YXRpb246IHtcbiAgICBhcHBlbmRDaGlsZDogZnVuY3Rpb24ocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICB2YXIgY2hpbGRUYWcgPSB0eXBlb2YgY2hpbGQgPT09IFwibnVtYmVyXCIgPyBjaGlsZCA6IGNoaWxkLl9uYXRpdmVUYWc7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBwYXJlbnRJbnN0YW5jZS5fY2hpbGRyZW47XG4gICAgICB2YXIgaW5kZXggPSBjaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgVUlNYW5hZ2VyLm1hbmFnZUNoaWxkcmVuKFxuICAgICAgICAgIHBhcmVudEluc3RhbmNlLl9uYXRpdmVUYWcsIC8vIGNvbnRhaW5lclRhZ1xuICAgICAgICAgIFtpbmRleF0sIC8vIG1vdmVGcm9tSW5kaWNlc1xuICAgICAgICAgIFtjaGlsZHJlbi5sZW5ndGggLSAxXSwgLy8gbW92ZVRvSW5kaWNlc1xuICAgICAgICAgIFtdLCAvLyBhZGRDaGlsZFJlYWN0VGFnc1xuICAgICAgICAgIFtdLCAvLyBhZGRBdEluZGljZXNcbiAgICAgICAgICBbXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgVUlNYW5hZ2VyLm1hbmFnZUNoaWxkcmVuKFxuICAgICAgICAgIHBhcmVudEluc3RhbmNlLl9uYXRpdmVUYWcsIC8vIGNvbnRhaW5lclRhZ1xuICAgICAgICAgIFtdLCAvLyBtb3ZlRnJvbUluZGljZXNcbiAgICAgICAgICBbXSwgLy8gbW92ZVRvSW5kaWNlc1xuICAgICAgICAgIFtjaGlsZFRhZ10sIC8vIGFkZENoaWxkUmVhY3RUYWdzXG4gICAgICAgICAgW2NoaWxkcmVuLmxlbmd0aCAtIDFdLCAvLyBhZGRBdEluZGljZXNcbiAgICAgICAgICBbXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXBwZW5kQ2hpbGRUb0NvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICB2YXIgY2hpbGRUYWcgPSB0eXBlb2YgY2hpbGQgPT09IFwibnVtYmVyXCIgPyBjaGlsZCA6IGNoaWxkLl9uYXRpdmVUYWc7XG4gICAgICBVSU1hbmFnZXIuc2V0Q2hpbGRyZW4oXG4gICAgICAgIHBhcmVudEluc3RhbmNlLCAvLyBjb250YWluZXJUYWdcbiAgICAgICAgW2NoaWxkVGFnXVxuICAgICAgKTtcbiAgICB9LFxuICAgIGNvbW1pdFRleHRVcGRhdGU6IGZ1bmN0aW9uKHRleHRJbnN0YW5jZSwgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVZpZXcoXG4gICAgICAgIHRleHRJbnN0YW5jZSwgLy8gcmVhY3RUYWdcbiAgICAgICAgXCJSQ1RSYXdUZXh0XCIsIC8vIHZpZXdOYW1lXG4gICAgICAgIHsgdGV4dDogbmV3VGV4dCB9XG4gICAgICApO1xuICAgIH0sXG4gICAgY29tbWl0TW91bnQ6IGZ1bmN0aW9uKGluc3RhbmNlLCB0eXBlLCBuZXdQcm9wcywgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZSkge1xuICAgICAgLy8gTm9vcFxuICAgIH0sXG4gICAgY29tbWl0VXBkYXRlOiBmdW5jdGlvbihcbiAgICAgIGluc3RhbmNlLFxuICAgICAgdXBkYXRlUGF5bG9hZFRPRE8sXG4gICAgICB0eXBlLFxuICAgICAgb2xkUHJvcHMsXG4gICAgICBuZXdQcm9wcyxcbiAgICAgIGludGVybmFsSW5zdGFuY2VIYW5kbGVcbiAgICApIHtcbiAgICAgIHZhciB2aWV3Q29uZmlnID0gaW5zdGFuY2Uudmlld0NvbmZpZztcblxuICAgICAgdXBkYXRlRmliZXJQcm9wcyhpbnN0YW5jZS5fbmF0aXZlVGFnLCBuZXdQcm9wcyk7XG5cbiAgICAgIHZhciB1cGRhdGVQYXlsb2FkID0gZGlmZihvbGRQcm9wcywgbmV3UHJvcHMsIHZpZXdDb25maWcudmFsaWRBdHRyaWJ1dGVzKTtcblxuICAgICAgLy8gQXZvaWQgdGhlIG92ZXJoZWFkIG9mIGJyaWRnZSBjYWxscyBpZiB0aGVyZSdzIG5vIHVwZGF0ZS5cbiAgICAgIC8vIFRoaXMgaXMgYW4gZXhwZW5zaXZlIG5vLW9wIGZvciBBbmRyb2lkLCBhbmQgY2F1c2VzIGFuIHVubmVjZXNzYXJ5XG4gICAgICAvLyB2aWV3IGludmFsaWRhdGlvbiBmb3IgY2VydGFpbiBjb21wb25lbnRzIChlZyBSQ1RUZXh0SW5wdXQpIG9uIGlPUy5cbiAgICAgIGlmICh1cGRhdGVQYXlsb2FkICE9IG51bGwpIHtcbiAgICAgICAgVUlNYW5hZ2VyLnVwZGF0ZVZpZXcoXG4gICAgICAgICAgaW5zdGFuY2UuX25hdGl2ZVRhZywgLy8gcmVhY3RUYWdcbiAgICAgICAgICB2aWV3Q29uZmlnLnVpVmlld0NsYXNzTmFtZSwgLy8gdmlld05hbWVcbiAgICAgICAgICB1cGRhdGVQYXlsb2FkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHBhcmVudEluc3RhbmNlLl9jaGlsZHJlbjtcbiAgICAgIHZhciBpbmRleCA9IGNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAvLyBNb3ZlIGV4aXN0aW5nIGNoaWxkIG9yIGFkZCBuZXcgY2hpbGQ/XG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB2YXIgYmVmb3JlQ2hpbGRJbmRleCA9IGNoaWxkcmVuLmluZGV4T2YoYmVmb3JlQ2hpbGQpO1xuICAgICAgICBjaGlsZHJlbi5zcGxpY2UoYmVmb3JlQ2hpbGRJbmRleCwgMCwgY2hpbGQpO1xuXG4gICAgICAgIFVJTWFuYWdlci5tYW5hZ2VDaGlsZHJlbihcbiAgICAgICAgICBwYXJlbnRJbnN0YW5jZS5fbmF0aXZlVGFnLCAvLyBjb250YWluZXJJRFxuICAgICAgICAgIFtpbmRleF0sIC8vIG1vdmVGcm9tSW5kaWNlc1xuICAgICAgICAgIFtiZWZvcmVDaGlsZEluZGV4XSwgLy8gbW92ZVRvSW5kaWNlc1xuICAgICAgICAgIFtdLCAvLyBhZGRDaGlsZFJlYWN0VGFnc1xuICAgICAgICAgIFtdLCAvLyBhZGRBdEluZGljZXNcbiAgICAgICAgICBbXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9iZWZvcmVDaGlsZEluZGV4ID0gY2hpbGRyZW4uaW5kZXhPZihiZWZvcmVDaGlsZCk7XG4gICAgICAgIGNoaWxkcmVuLnNwbGljZShfYmVmb3JlQ2hpbGRJbmRleCwgMCwgY2hpbGQpO1xuXG4gICAgICAgIHZhciBjaGlsZFRhZyA9IHR5cGVvZiBjaGlsZCA9PT0gXCJudW1iZXJcIiA/IGNoaWxkIDogY2hpbGQuX25hdGl2ZVRhZztcblxuICAgICAgICBVSU1hbmFnZXIubWFuYWdlQ2hpbGRyZW4oXG4gICAgICAgICAgcGFyZW50SW5zdGFuY2UuX25hdGl2ZVRhZywgLy8gY29udGFpbmVySURcbiAgICAgICAgICBbXSwgLy8gbW92ZUZyb21JbmRpY2VzXG4gICAgICAgICAgW10sIC8vIG1vdmVUb0luZGljZXNcbiAgICAgICAgICBbY2hpbGRUYWddLCAvLyBhZGRDaGlsZFJlYWN0VGFnc1xuICAgICAgICAgIFtfYmVmb3JlQ2hpbGRJbmRleF0sIC8vIGFkZEF0SW5kaWNlc1xuICAgICAgICAgIFtdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpbnNlcnRJbkNvbnRhaW5lckJlZm9yZTogZnVuY3Rpb24ocGFyZW50SW5zdGFuY2UsIGNoaWxkLCBiZWZvcmVDaGlsZCkge1xuICAgICAgLy8gVE9ETyAoYnZhdWdobik6IFJlbW92ZSB0aGlzIGNoZWNrIHdoZW4uLi5cbiAgICAgIC8vIFdlIGNyZWF0ZSBhIHdyYXBwZXIgb2JqZWN0IGZvciB0aGUgY29udGFpbmVyIGluIFJlYWN0TmF0aXZlIHJlbmRlcigpXG4gICAgICAvLyBPciB3ZSByZWZhY3RvciB0byByZW1vdmUgd3JhcHBlciBvYmplY3RzIGVudGlyZWx5LlxuICAgICAgLy8gRm9yIG1vcmUgaW5mbyBvbiBwcm9zL2NvbnMgc2VlIFBSICM4NTYwIGRlc2NyaXB0aW9uLlxuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0eXBlb2YgcGFyZW50SW5zdGFuY2UgIT09IFwibnVtYmVyXCIsXG4gICAgICAgIFwiQ29udGFpbmVyIGRvZXMgbm90IHN1cHBvcnQgaW5zZXJ0QmVmb3JlIG9wZXJhdGlvblwiXG4gICAgICApO1xuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgICAgcmVjdXJzaXZlbHlVbmNhY2hlRmliZXJOb2RlKGNoaWxkKTtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHBhcmVudEluc3RhbmNlLl9jaGlsZHJlbjtcbiAgICAgIHZhciBpbmRleCA9IGNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICBVSU1hbmFnZXIubWFuYWdlQ2hpbGRyZW4oXG4gICAgICAgIHBhcmVudEluc3RhbmNlLl9uYXRpdmVUYWcsIC8vIGNvbnRhaW5lcklEXG4gICAgICAgIFtdLCAvLyBtb3ZlRnJvbUluZGljZXNcbiAgICAgICAgW10sIC8vIG1vdmVUb0luZGljZXNcbiAgICAgICAgW10sIC8vIGFkZENoaWxkUmVhY3RUYWdzXG4gICAgICAgIFtdLCAvLyBhZGRBdEluZGljZXNcbiAgICAgICAgW2luZGV4XVxuICAgICAgKTtcbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcjogZnVuY3Rpb24ocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICByZWN1cnNpdmVseVVuY2FjaGVGaWJlck5vZGUoY2hpbGQpO1xuICAgICAgVUlNYW5hZ2VyLm1hbmFnZUNoaWxkcmVuKFxuICAgICAgICBwYXJlbnRJbnN0YW5jZSwgLy8gY29udGFpbmVySURcbiAgICAgICAgW10sIC8vIG1vdmVGcm9tSW5kaWNlc1xuICAgICAgICBbXSwgLy8gbW92ZVRvSW5kaWNlc1xuICAgICAgICBbXSwgLy8gYWRkQ2hpbGRSZWFjdFRhZ3NcbiAgICAgICAgW10sIC8vIGFkZEF0SW5kaWNlc1xuICAgICAgICBbMF1cbiAgICAgICk7XG4gICAgfSxcbiAgICByZXNldFRleHRDb250ZW50OiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgLy8gTm9vcFxuICAgIH1cbiAgfVxufSk7XG5cbi8vIE1vZHVsZSBwcm92aWRlZCBieSBSTjpcbnZhciBnZXRJbnNwZWN0b3JEYXRhRm9yVmlld1RhZyA9IHZvaWQgMDtcblxue1xuICB2YXIgdHJhdmVyc2VPd25lclRyZWVVcCA9IGZ1bmN0aW9uKGhpZXJhcmNoeSwgaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIGhpZXJhcmNoeS51bnNoaWZ0KGluc3RhbmNlKTtcbiAgICAgIHRyYXZlcnNlT3duZXJUcmVlVXAoaGllcmFyY2h5LCBpbnN0YW5jZS5fZGVidWdPd25lcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBnZXRPd25lckhpZXJhcmNoeSA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGhpZXJhcmNoeSA9IFtdO1xuICAgIHRyYXZlcnNlT3duZXJUcmVlVXAoaGllcmFyY2h5LCBpbnN0YW5jZSk7XG4gICAgcmV0dXJuIGhpZXJhcmNoeTtcbiAgfTtcblxuICB2YXIgbGFzdE5vbkhvc3RJbnN0YW5jZSA9IGZ1bmN0aW9uKGhpZXJhcmNoeSkge1xuICAgIGZvciAodmFyIGkgPSBoaWVyYXJjaHkubGVuZ3RoIC0gMTsgaSA+IDE7IGktLSkge1xuICAgICAgdmFyIGluc3RhbmNlID0gaGllcmFyY2h5W2ldO1xuXG4gICAgICBpZiAoaW5zdGFuY2UudGFnICE9PSBIb3N0Q29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhpZXJhcmNoeVswXTtcbiAgfTtcblxuICB2YXIgZ2V0SG9zdFByb3BzID0gZnVuY3Rpb24oZmliZXIpIHtcbiAgICB2YXIgaG9zdCA9IGZpbmRDdXJyZW50SG9zdEZpYmVyKGZpYmVyKTtcbiAgICBpZiAoaG9zdCkge1xuICAgICAgcmV0dXJuIGhvc3QubWVtb2l6ZWRQcm9wcyB8fCBlbXB0eU9iamVjdDtcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xuICB9O1xuXG4gIHZhciBnZXRIb3N0Tm9kZSA9IGZ1bmN0aW9uKGZpYmVyLCBmaW5kTm9kZUhhbmRsZSkge1xuICAgIHZhciBob3N0Tm9kZSA9IHZvaWQgMDtcbiAgICAvLyBsb29rIGZvciBjaGlsZHJlbiBmaXJzdCBmb3IgdGhlIGhvc3ROb2RlXG4gICAgLy8gYXMgY29tcG9zaXRlIGZpYmVycyBkbyBub3QgaGF2ZSBhIGhvc3ROb2RlXG4gICAgd2hpbGUgKGZpYmVyKSB7XG4gICAgICBpZiAoZmliZXIuc3RhdGVOb2RlICE9PSBudWxsICYmIGZpYmVyLnRhZyA9PT0gSG9zdENvbXBvbmVudCkge1xuICAgICAgICBob3N0Tm9kZSA9IGZpbmROb2RlSGFuZGxlKGZpYmVyLnN0YXRlTm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAoaG9zdE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGhvc3ROb2RlO1xuICAgICAgfVxuICAgICAgZmliZXIgPSBmaWJlci5jaGlsZDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgdmFyIGNyZWF0ZUhpZXJhcmNoeSA9IGZ1bmN0aW9uKGZpYmVySGllcmFyY2h5KSB7XG4gICAgcmV0dXJuIGZpYmVySGllcmFyY2h5Lm1hcChmdW5jdGlvbihmaWJlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogZ2V0Q29tcG9uZW50TmFtZShmaWJlciksXG4gICAgICAgIGdldEluc3BlY3RvckRhdGE6IGZ1bmN0aW9uKGZpbmROb2RlSGFuZGxlKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lYXN1cmU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHJldHVybiBVSU1hbmFnZXIubWVhc3VyZShcbiAgICAgICAgICAgICAgICBnZXRIb3N0Tm9kZShmaWJlciwgZmluZE5vZGVIYW5kbGUpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvcHM6IGdldEhvc3RQcm9wcyhmaWJlciksXG4gICAgICAgICAgICBzb3VyY2U6IGZpYmVyLl9kZWJ1Z1NvdXJjZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgZ2V0SW5zcGVjdG9yRGF0YUZvclZpZXdUYWcgPSBmdW5jdGlvbih2aWV3VGFnKSB7XG4gICAgdmFyIGNsb3Nlc3RJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbVRhZyh2aWV3VGFnKTtcblxuICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHVzZXIgY2xpY2tzIG91dHNpZGUgb2YgUmVhY3ROYXRpdmVcbiAgICBpZiAoIWNsb3Nlc3RJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGllcmFyY2h5OiBbXSxcbiAgICAgICAgcHJvcHM6IGVtcHR5T2JqZWN0LFxuICAgICAgICBzZWxlY3Rpb246IG51bGwsXG4gICAgICAgIHNvdXJjZTogbnVsbFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZmliZXIgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChjbG9zZXN0SW5zdGFuY2UpO1xuICAgIHZhciBmaWJlckhpZXJhcmNoeSA9IGdldE93bmVySGllcmFyY2h5KGZpYmVyKTtcbiAgICB2YXIgaW5zdGFuY2UgPSBsYXN0Tm9uSG9zdEluc3RhbmNlKGZpYmVySGllcmFyY2h5KTtcbiAgICB2YXIgaGllcmFyY2h5ID0gY3JlYXRlSGllcmFyY2h5KGZpYmVySGllcmFyY2h5KTtcbiAgICB2YXIgcHJvcHMgPSBnZXRIb3N0UHJvcHMoaW5zdGFuY2UpO1xuICAgIHZhciBzb3VyY2UgPSBpbnN0YW5jZS5fZGVidWdTb3VyY2U7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGZpYmVySGllcmFyY2h5LmluZGV4T2YoaW5zdGFuY2UpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZXJhcmNoeTogaGllcmFyY2h5LFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgc2VsZWN0aW9uOiBzZWxlY3Rpb24sXG4gICAgICBzb3VyY2U6IHNvdXJjZVxuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHJlbmRlcmFibGUgUmVhY3ROYXRpdmUgaG9zdCBjb21wb25lbnQuXG4gKiBVc2UgdGhpcyBtZXRob2QgZm9yIHZpZXcgY29uZmlncyB0aGF0IGFyZSBsb2FkZWQgZnJvbSBVSU1hbmFnZXIuXG4gKiBVc2UgY3JlYXRlUmVhY3ROYXRpdmVDb21wb25lbnRDbGFzcygpIGZvciB2aWV3IGNvbmZpZ3MgZGVmaW5lZCB3aXRoaW4gSmF2YVNjcmlwdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnIGlPUyBWaWV3IGNvbmZpZ3VyYXRpb24uXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgY3JlYXRlUmVhY3ROYXRpdmVDb21wb25lbnRDbGFzcyA9IGZ1bmN0aW9uKG5hbWUsIGNhbGxiYWNrKSB7XG4gIHJldHVybiByZWdpc3RlcihuYW1lLCBjYWxsYmFjayk7XG59O1xuXG4vLyBNb2R1bGUgcHJvdmlkZWQgYnkgUk46XG4vKipcbiAqIENhcHR1cmUgYW4gaW1hZ2Ugb2YgdGhlIHNjcmVlbiwgd2luZG93IG9yIGFuIGluZGl2aWR1YWwgdmlldy4gVGhlIGltYWdlXG4gKiB3aWxsIGJlIHN0b3JlZCBpbiBhIHRlbXBvcmFyeSBmaWxlIHRoYXQgd2lsbCBvbmx5IGV4aXN0IGZvciBhcyBsb25nIGFzIHRoZVxuICogYXBwIGlzIHJ1bm5pbmcuXG4gKlxuICogVGhlIGB2aWV3YCBhcmd1bWVudCBjYW4gYmUgdGhlIGxpdGVyYWwgc3RyaW5nIGB3aW5kb3dgIGlmIHlvdSB3YW50IHRvXG4gKiBjYXB0dXJlIHRoZSBlbnRpcmUgd2luZG93LCBvciBpdCBjYW4gYmUgYSByZWZlcmVuY2UgdG8gYSBzcGVjaWZpY1xuICogUmVhY3QgTmF0aXZlIGNvbXBvbmVudC5cbiAqXG4gKiBUaGUgYG9wdGlvbnNgIGFyZ3VtZW50IG1heSBpbmNsdWRlOlxuICogLSB3aWR0aC9oZWlnaHQgKG51bWJlcikgLSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgaW1hZ2UgdG8gY2FwdHVyZS5cbiAqIC0gZm9ybWF0IChzdHJpbmcpIC0gZWl0aGVyICdwbmcnIG9yICdqcGVnJy4gRGVmYXVsdHMgdG8gJ3BuZycuXG4gKiAtIHF1YWxpdHkgKG51bWJlcikgLSB0aGUgcXVhbGl0eSB3aGVuIHVzaW5nIGpwZWcuIDAuMCAtIDEuMCAoZGVmYXVsdCkuXG4gKlxuICogUmV0dXJucyBhIFByb21pc2UuXG4gKiBAcGxhdGZvcm0gaW9zXG4gKi9cbmZ1bmN0aW9uIHRha2VTbmFwc2hvdCh2aWV3LCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgdmlldyAhPT0gXCJudW1iZXJcIiAmJiB2aWV3ICE9PSBcIndpbmRvd1wiKSB7XG4gICAgdmlldyA9IGZpbmROdW1lcmljTm9kZUhhbmRsZUZpYmVyKHZpZXcpIHx8IFwid2luZG93XCI7XG4gIH1cblxuICAvLyBDYWxsIHRoZSBoaWRkZW4gJ19fdGFrZVNuYXBzaG90JyBtZXRob2Q7IHRoZSBtYWluIG9uZSB0aHJvd3MgYW4gZXJyb3IgdG9cbiAgLy8gcHJldmVudCBhY2NpZGVudGFsIGJhY2t3YXJkcy1pbmNvbXBhdGlibGUgdXNhZ2UuXG4gIHJldHVybiBVSU1hbmFnZXIuX190YWtlU25hcHNob3Qodmlldywgb3B0aW9ucyk7XG59XG5cbi8vIE1vZHVsZSBwcm92aWRlZCBieSBSTjpcbmluamVjdEZpbmRIb3N0SW5zdGFuY2UoTmF0aXZlUmVuZGVyZXIuZmluZEhvc3RJbnN0YW5jZSk7XG5cbmluamVjdGlvbiQyLmluamVjdFJlbmRlcmVyKE5hdGl2ZVJlbmRlcmVyKTtcblxudmFyIHJvb3RzID0gbmV3IE1hcCgpO1xuXG52YXIgUmVhY3ROYXRpdmVSZW5kZXJlciA9IHtcbiAgTmF0aXZlQ29tcG9uZW50OiBSZWFjdE5hdGl2ZUNvbXBvbmVudCxcblxuICBmaW5kTm9kZUhhbmRsZTogZmluZE51bWVyaWNOb2RlSGFuZGxlRmliZXIsXG5cbiAgcmVuZGVyOiBmdW5jdGlvbihlbGVtZW50LCBjb250YWluZXJUYWcsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJvb3QgPSByb290cy5nZXQoY29udGFpbmVyVGFnKTtcblxuICAgIGlmICghcm9vdCkge1xuICAgICAgLy8gVE9ETyAoYnZhdWdobik6IElmIHdlIGRlY2lkZSB0byBrZWVwIHRoZSB3cmFwcGVyIGNvbXBvbmVudCxcbiAgICAgIC8vIFdlIGNvdWxkIGNyZWF0ZSBhIHdyYXBwZXIgZm9yIGNvbnRhaW5lclRhZyBhcyB3ZWxsIHRvIHJlZHVjZSBzcGVjaWFsIGNhc2luZy5cbiAgICAgIHJvb3QgPSBOYXRpdmVSZW5kZXJlci5jcmVhdGVDb250YWluZXIoY29udGFpbmVyVGFnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgcm9vdHMuc2V0KGNvbnRhaW5lclRhZywgcm9vdCk7XG4gICAgfVxuICAgIE5hdGl2ZVJlbmRlcmVyLnVwZGF0ZUNvbnRhaW5lcihlbGVtZW50LCByb290LCBudWxsLCBjYWxsYmFjayk7XG5cbiAgICByZXR1cm4gTmF0aXZlUmVuZGVyZXIuZ2V0UHVibGljUm9vdEluc3RhbmNlKHJvb3QpO1xuICB9LFxuICB1bm1vdW50Q29tcG9uZW50QXROb2RlOiBmdW5jdGlvbihjb250YWluZXJUYWcpIHtcbiAgICB2YXIgcm9vdCA9IHJvb3RzLmdldChjb250YWluZXJUYWcpO1xuICAgIGlmIChyb290KSB7XG4gICAgICAvLyBUT0RPOiBJcyBpdCBzYWZlIHRvIHJlc2V0IHRoaXMgbm93IG9yIHNob3VsZCBJIHdhaXQgc2luY2UgdGhpcyB1bm1vdW50IGNvdWxkIGJlIGRlZmVycmVkP1xuICAgICAgTmF0aXZlUmVuZGVyZXIudXBkYXRlQ29udGFpbmVyKG51bGwsIHJvb3QsIG51bGwsIGZ1bmN0aW9uKCkge1xuICAgICAgICByb290c1tcImRlbGV0ZVwiXShjb250YWluZXJUYWcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB1bm1vdW50Q29tcG9uZW50QXROb2RlQW5kUmVtb3ZlQ29udGFpbmVyOiBmdW5jdGlvbihjb250YWluZXJUYWcpIHtcbiAgICBSZWFjdE5hdGl2ZVJlbmRlcmVyLnVubW91bnRDb21wb25lbnRBdE5vZGUoY29udGFpbmVyVGFnKTtcblxuICAgIC8vIENhbGwgYmFjayBpbnRvIG5hdGl2ZSB0byByZW1vdmUgYWxsIG9mIHRoZSBzdWJ2aWV3cyBmcm9tIHRoaXMgY29udGFpbmVyXG4gICAgVUlNYW5hZ2VyLnJlbW92ZVJvb3RWaWV3KGNvbnRhaW5lclRhZyk7XG4gIH0sXG4gIGNyZWF0ZVBvcnRhbDogZnVuY3Rpb24oY2hpbGRyZW4sIGNvbnRhaW5lclRhZykge1xuICAgIHZhciBrZXkgPVxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgY29udGFpbmVyVGFnLCBudWxsLCBrZXkpO1xuICB9LFxuXG4gIHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzOiBiYXRjaGVkVXBkYXRlcyxcblxuICBmbHVzaFN5bmM6IE5hdGl2ZVJlbmRlcmVyLmZsdXNoU3luYyxcblxuICBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDoge1xuICAgIC8vIFVzZWQgYXMgYSBtaXhpbiBpbiBtYW55IGNyZWF0ZUNsYXNzLWJhc2VkIGNvbXBvbmVudHNcbiAgICBOYXRpdmVNZXRob2RzTWl4aW46IE5hdGl2ZU1ldGhvZHNNaXhpbixcbiAgICAvLyBVc2VkIGJ5IHJlYWN0LW5hdGl2ZS1naXRodWIvTGlicmFyaWVzLyBjb21wb25lbnRzXG4gICAgUmVhY3ROYXRpdmVCcmlkZ2VFdmVudFBsdWdpbjogUmVhY3ROYXRpdmVCcmlkZ2VFdmVudFBsdWdpbiwgLy8gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudFxuICAgIFJlYWN0TmF0aXZlQ29tcG9uZW50VHJlZTogUmVhY3ROYXRpdmVDb21wb25lbnRUcmVlLCAvLyBTY3JvbGxSZXNwb25kZXJcbiAgICBSZWFjdE5hdGl2ZVByb3BSZWdpc3RyeTogUmVhY3ROYXRpdmVQcm9wUmVnaXN0cnksIC8vIGZsYXR0ZW5TdHlsZSwgU3R5bGVzaGVldFxuICAgIFRvdWNoSGlzdG9yeU1hdGg6IFRvdWNoSGlzdG9yeU1hdGgsIC8vIFBhblJlc3BvbmRlclxuICAgIGNyZWF0ZVJlYWN0TmF0aXZlQ29tcG9uZW50Q2xhc3M6IGNyZWF0ZVJlYWN0TmF0aXZlQ29tcG9uZW50Q2xhc3MsIC8vIFJDVFRleHQsIFJDVFZpZXcsIFJlYWN0TmF0aXZlQVJUXG4gICAgdGFrZVNuYXBzaG90OiB0YWtlU25hcHNob3RcbiAgfVxufTtcblxue1xuICAvLyAkRmxvd0ZpeE1lXG4gIE9iamVjdC5hc3NpZ24oXG4gICAgUmVhY3ROYXRpdmVSZW5kZXJlci5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCxcbiAgICB7XG4gICAgICAvLyBUT0RPOiBub25lIG9mIHRoZXNlIHdvcmsgc2luY2UgRmliZXIuIFJlbW92ZSB0aGVzZSBkZXBlbmRlbmNpZXMuXG4gICAgICAvLyBVc2VkIGJ5IFJDVFJlbmRlcmluZ1BlcmYsIFN5c3RyYWNlOlxuICAgICAgUmVhY3REZWJ1Z1Rvb2w6IHtcbiAgICAgICAgYWRkSG9vazogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgcmVtb3ZlSG9vazogZnVuY3Rpb24oKSB7fVxuICAgICAgfSxcbiAgICAgIC8vIFVzZWQgYnkgUmVhY3RQZXJmU3RhbGxIYW5kbGVyLCBSQ1RSZW5kZXJpbmdQZXJmOlxuICAgICAgUmVhY3RQZXJmOiB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHt9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICBwcmludEluY2x1c2l2ZTogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgcHJpbnRXYXN0ZWQ6IGZ1bmN0aW9uKCkge31cbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cbk5hdGl2ZVJlbmRlcmVyLmluamVjdEludG9EZXZUb29scyh7XG4gIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBnZXRJbnN0YW5jZUZyb21UYWcsXG4gIGdldEluc3BlY3RvckRhdGFGb3JWaWV3VGFnOiBnZXRJbnNwZWN0b3JEYXRhRm9yVmlld1RhZyxcbiAgYnVuZGxlVHlwZTogMSxcbiAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuICByZW5kZXJlclBhY2thZ2VOYW1lOiBcInJlYWN0LW5hdGl2ZS1yZW5kZXJlclwiXG59KTtcblxudmFyIFJlYWN0TmF0aXZlUmVuZGVyZXIkMiA9IE9iamVjdC5mcmVlemUoe1xuICBkZWZhdWx0OiBSZWFjdE5hdGl2ZVJlbmRlcmVyXG59KTtcblxudmFyIFJlYWN0TmF0aXZlUmVuZGVyZXIkMyA9XG4gIChSZWFjdE5hdGl2ZVJlbmRlcmVyJDIgJiYgUmVhY3ROYXRpdmVSZW5kZXJlcikgfHwgUmVhY3ROYXRpdmVSZW5kZXJlciQyO1xuXG4vLyBUT0RPOiBkZWNpZGUgb24gdGhlIHRvcC1sZXZlbCBleHBvcnQgZm9ybS5cbi8vIFRoaXMgaXMgaGFja3kgYnV0IG1ha2VzIGl0IHdvcmsgd2l0aCBib3RoIFJvbGx1cCBhbmQgSmVzdC5cbnZhciByZWFjdE5hdGl2ZVJlbmRlcmVyID0gUmVhY3ROYXRpdmVSZW5kZXJlciQzW1wiZGVmYXVsdFwiXVxuICA/IFJlYWN0TmF0aXZlUmVuZGVyZXIkM1tcImRlZmF1bHRcIl1cbiAgOiBSZWFjdE5hdGl2ZVJlbmRlcmVyJDM7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVhY3ROYXRpdmVSZW5kZXJlcjtcblxuICB9KSgpO1xufVxuIl19